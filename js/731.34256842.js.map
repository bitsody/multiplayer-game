{"version":3,"file":"js/731.34256842.js","mappings":"+GACAA,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAIC,EAAY,EAAQ,MAWxB,SAASC,EAAeC,GACpB,OAAIC,MAAMC,QAAQF,GACPG,EAAYH,GAEnBA,GAAQA,EAAKA,KACNG,EAAYH,EAAKA,MAErB,CAACI,IAAOC,IACnB,CAcA,SAASC,EAAYC,EAAOC,QACR,IAAZA,IAAsBA,EAAU,CAAC,QACvBC,IAAVF,GAAiC,OAAVA,IACvBA,EAAQ,GAGZ,IADA,IAAIG,EAAW,GACNC,EAAI,EAAGA,EAAIJ,EAAOI,IACvBD,EAASE,KAAKd,EAAUe,MAAMd,EAAeS,EAAQR,QAEzD,OAAOF,EAAUgB,kBAAkBJ,EACvC,CAiBA,SAASK,EAAcR,EAAOC,QACV,IAAZA,IAAsBA,EAAU,CAAC,QAEvBC,IAAVF,GAAiC,OAAVA,IACvBA,EAAQ,GAEPT,EAAUkB,SAASR,EAAQS,oBAA0CR,IAAzBD,EAAQS,eACrDT,EAAQS,aAAe,IAEtBnB,EAAUkB,SAASR,EAAQU,yBACET,IAA9BD,EAAQU,oBACRV,EAAQU,kBAAoB,IAwBhC,IAtBA,IAAIR,EAAW,GACXS,EAAU,SAAUR,GACpB,IAAIS,EAAW,GACXC,EAAgBpB,MAAMqB,MAAM,KAAM,IAAIrB,MAAMO,EAAQS,aAAe,IAAIM,IAAIC,KAAKC,QAEpFJ,EAAcK,SAAQ,SAAUC,EAAKC,EAAOC,GACxCA,EAAID,GAASA,EAAQ,EAAID,EAAME,EAAID,EAAQ,GAAKD,CACpD,IAEAN,EAAcK,SAAQ,SAAUC,GAC5BA,EAAa,EAANA,EAAUH,KAAKM,GAAMT,EAAcA,EAAcU,OAAS,GACjE,IAAIC,EAAeR,KAAKC,SACxBL,EAASR,KAAK,CACVoB,GAAgBxB,EAAQU,mBAAqB,IAAMM,KAAKS,IAAIN,GAC5DK,GAAgBxB,EAAQU,mBAAqB,IAAMM,KAAKU,IAAIP,IAEpE,IACAP,EAASA,EAASW,OAAS,GAAKX,EAAS,GAEzCA,EAAWA,EAASG,IAAIY,EAAmBpC,EAAeS,EAAQR,QAClEU,EAASE,KAAKd,EAAUsC,QAAQ,CAAChB,IACrC,EACST,EAAI,EAAGA,EAAIJ,EAAOI,IACvBQ,EAAQR,GAEZ,OAAOb,EAAUgB,kBAAkBJ,EACvC,CAmBA,SAAS2B,EAAiB9B,EAAOC,GAI7B,QAHgB,IAAZA,IAAsBA,EAAU,CAAC,GAErCA,EAAUA,GAAW,CAAC,GACjBV,EAAUwC,SAAS9B,GACpB,MAAM,IAAI+B,MAAM,sBAEpB,IAAIvC,EAAOQ,EAAQR,KACfiB,EAAeT,EAAQS,aACvBuB,EAAahC,EAAQgC,WACrBC,EAAejC,EAAQiC,kBACbhC,IAAVF,GAAiC,OAAVA,IACvBA,EAAQ,KAGPT,EAAUkB,SAASC,SACHR,IAAjBQ,GACAA,EAAe,KACfA,EAAe,IAEdnB,EAAUkB,SAASwB,SAA8B/B,IAAf+B,IACnCA,EAAa,MAEZ1C,EAAUkB,SAASyB,SAAkChC,IAAjBgC,IACrCA,EAAejB,KAAKM,GAAK,GAG7B,IADA,IAAIpB,EAAW,GACNC,EAAI,EAAGA,EAAIJ,EAAOI,IAAK,CAG5B,IAFA,IAAI+B,EAAgB3C,EAAeC,GAC/BoB,EAAW,CAACsB,GACPC,EAAI,EAAGA,EAAI1B,EAAe,EAAG0B,IAAK,CACvC,IAAIC,EAAmB,IAAND,EACK,EAAhBnB,KAAKC,SAAeD,KAAKM,GACzBN,KAAKqB,KAAKzB,EAASuB,GAAG,GAAKvB,EAASuB,EAAI,GAAG,KACxCvB,EAASuB,GAAG,GAAKvB,EAASuB,EAAI,GAAG,KACtCG,EAAQF,GAAcpB,KAAKC,SAAW,IAAOgB,EAAe,EAC5DM,EAAWvB,KAAKC,SAAWe,EAC/BpB,EAASR,KAAK,CACVQ,EAASuB,GAAG,GAAKI,EAAWvB,KAAKU,IAAIY,GACrC1B,EAASuB,GAAG,GAAKI,EAAWvB,KAAKS,IAAIa,IAE7C,CACApC,EAASE,KAAKd,EAAUkD,WAAW5B,GACvC,CACA,OAAOtB,EAAUgB,kBAAkBJ,EACvC,CAEA,SAASyB,EAAmBc,GACxB,OAAO,SAAUtB,GACb,MAAO,CAACA,EAAI,GAAKsB,EAAI,GAAItB,EAAI,GAAKsB,EAAI,GAC1C,CACJ,CACA,SAASC,IACL,OAAO1B,KAAKC,SAAW,EAC3B,CACA,SAASrB,IACL,OAAe,IAAR8C,GACX,CACA,SAAS7C,IACL,OAAe,IAAR6C,GACX,CACA,SAAS/C,EAAYH,GACjB,MAAO,CACHwB,KAAKC,UAAYzB,EAAK,GAAKA,EAAK,IAAMA,EAAK,GAC3CwB,KAAKC,UAAYzB,EAAK,GAAKA,EAAK,IAAMA,EAAK,GAEnD,CApKAJ,EAAQG,eAAiBA,EAwBzBH,EAAQU,YAAcA,EAwDtBV,EAAQmB,cAAgBA,EAgExBnB,EAAQyC,iBAAmBA,C,qBClE3B,SAASc,EAAQC,EAAMC,EAAY7C,QACf,IAAZA,IAAsBA,EAAU,CAAC,GACrC,IAAI8C,EAAO,CAAEC,KAAM,WASnB,OARmB,IAAf/C,EAAQgD,IAAYhD,EAAQgD,MAC5BF,EAAKE,GAAKhD,EAAQgD,IAElBhD,EAAQR,OACRsD,EAAKtD,KAAOQ,EAAQR,MAExBsD,EAAKD,WAAaA,GAAc,CAAC,EACjCC,EAAKG,SAAWL,EACTE,CACX,CAiBA,SAASG,EAASF,EAAMG,EAAaC,GAEjC,YADiB,IAAbA,IAAuBA,EAAW,CAAC,GAC/BJ,GACJ,IAAK,QACD,OAAO1C,EAAM6C,GAAaD,SAC9B,IAAK,aACD,OAAOT,EAAWU,GAAaD,SACnC,IAAK,UACD,OAAOrB,EAAQsB,GAAaD,SAChC,IAAK,aACD,OAAOG,EAAWF,GAAaD,SACnC,IAAK,kBACD,OAAOI,EAAgBH,GAAaD,SACxC,IAAK,eACD,OAAOK,EAAaJ,GAAaD,SACrC,QACI,MAAM,IAAIlB,MAAMgB,EAAO,eAEnC,CAiBA,SAAS1C,EAAM6C,EAAaL,EAAY7C,GAEpC,QADgB,IAAZA,IAAsBA,EAAU,CAAC,IAChCkD,EACD,MAAM,IAAInB,MAAM,2BAEpB,IAAKtC,MAAMC,QAAQwD,GACf,MAAM,IAAInB,MAAM,gCAEpB,GAAImB,EAAY3B,OAAS,EACrB,MAAM,IAAIQ,MAAM,+CAEpB,IAAKvB,EAAS0C,EAAY,MAAQ1C,EAAS0C,EAAY,IACnD,MAAM,IAAInB,MAAM,oCAEpB,IAAIa,EAAO,CACPG,KAAM,QACNG,YAAaA,GAEjB,OAAOP,EAAQC,EAAMC,EAAY7C,EACrC,CAsBA,SAASuD,EAAOL,EAAaL,EAAY7C,GAErC,YADgB,IAAZA,IAAsBA,EAAU,CAAC,GAC9BM,EAAkB4C,EAAYnC,KAAI,SAAUyC,GAC/C,OAAOnD,EAAMmD,EAAQX,EACzB,IAAI7C,EACR,CAiBA,SAAS4B,EAAQsB,EAAaL,EAAY7C,QACtB,IAAZA,IAAsBA,EAAU,CAAC,GACrC,IAAK,IAAIyD,EAAK,EAAGC,EAAgBR,EAAaO,EAAKC,EAAcnC,OAAQkC,IAAM,CAC3E,IAAIE,EAAOD,EAAcD,GACzB,GAAIE,EAAKpC,OAAS,EACd,MAAM,IAAIQ,MAAM,+DAEpB,IAAK,IAAII,EAAI,EAAGA,EAAIwB,EAAKA,EAAKpC,OAAS,GAAGA,OAAQY,IAE9C,GAAIwB,EAAKA,EAAKpC,OAAS,GAAGY,KAAOwB,EAAK,GAAGxB,GACrC,MAAM,IAAIJ,MAAM,8CAG5B,CACA,IAAIa,EAAO,CACPG,KAAM,UACNG,YAAaA,GAEjB,OAAOP,EAAQC,EAAMC,EAAY7C,EACrC,CAoBA,SAAS4D,EAASV,EAAaL,EAAY7C,GAEvC,YADgB,IAAZA,IAAsBA,EAAU,CAAC,GAC9BM,EAAkB4C,EAAYnC,KAAI,SAAUyC,GAC/C,OAAO5B,EAAQ4B,EAAQX,EAC3B,IAAI7C,EACR,CAmBA,SAASwC,EAAWU,EAAaL,EAAY7C,GAEzC,QADgB,IAAZA,IAAsBA,EAAU,CAAC,GACjCkD,EAAY3B,OAAS,EACrB,MAAM,IAAIQ,MAAM,yDAEpB,IAAIa,EAAO,CACPG,KAAM,aACNG,YAAaA,GAEjB,OAAOP,EAAQC,EAAMC,EAAY7C,EACrC,CAqBA,SAAS6D,EAAYX,EAAaL,EAAY7C,GAE1C,YADgB,IAAZA,IAAsBA,EAAU,CAAC,GAC9BM,EAAkB4C,EAAYnC,KAAI,SAAUyC,GAC/C,OAAOhB,EAAWgB,EAAQX,EAC9B,IAAI7C,EACR,CAwBA,SAASM,EAAkBJ,EAAUF,QACjB,IAAZA,IAAsBA,EAAU,CAAC,GACrC,IAAI8D,EAAK,CAAEf,KAAM,qBAQjB,OAPI/C,EAAQgD,KACRc,EAAGd,GAAKhD,EAAQgD,IAEhBhD,EAAQR,OACRsE,EAAGtE,KAAOQ,EAAQR,MAEtBsE,EAAG5D,SAAWA,EACP4D,CACX,CAmBA,SAAST,EAAgBH,EAAaL,EAAY7C,QAC9B,IAAZA,IAAsBA,EAAU,CAAC,GACrC,IAAI4C,EAAO,CACPG,KAAM,kBACNG,YAAaA,GAEjB,OAAOP,EAAQC,EAAMC,EAAY7C,EACrC,CAmBA,SAASoD,EAAWF,EAAaL,EAAY7C,QACzB,IAAZA,IAAsBA,EAAU,CAAC,GACrC,IAAI4C,EAAO,CACPG,KAAM,aACNG,YAAaA,GAEjB,OAAOP,EAAQC,EAAMC,EAAY7C,EACrC,CAoBA,SAASsD,EAAaJ,EAAaL,EAAY7C,QAC3B,IAAZA,IAAsBA,EAAU,CAAC,GACrC,IAAI4C,EAAO,CACPG,KAAM,eACNG,YAAaA,GAEjB,OAAOP,EAAQC,EAAMC,EAAY7C,EACrC,CAoBA,SAAS+D,EAAmBC,EAAYnB,EAAY7C,QAChC,IAAZA,IAAsBA,EAAU,CAAC,GACrC,IAAI4C,EAAO,CACPG,KAAM,qBACNiB,WAAYA,GAEhB,OAAOrB,EAAQC,EAAMC,EAAY7C,EACrC,CAeA,SAASiE,EAAMC,EAAKC,GAEhB,QADkB,IAAdA,IAAwBA,EAAY,GACpCA,KAAeA,GAAa,GAC5B,MAAM,IAAIpC,MAAM,uCAEpB,IAAIqC,EAAapD,KAAKqD,IAAI,GAAIF,GAAa,GAC3C,OAAOnD,KAAKiD,MAAMC,EAAME,GAAcA,CAC1C,CAYA,SAASE,EAAgBC,EAASC,QAChB,IAAVA,IAAoBA,EAAQ,cAChC,IAAIC,EAASrF,EAAQsF,QAAQF,GAC7B,IAAKC,EACD,MAAM,IAAI1C,MAAMyC,EAAQ,qBAE5B,OAAOD,EAAUE,CACrB,CAYA,SAASE,EAAgBpC,EAAUiC,QACjB,IAAVA,IAAoBA,EAAQ,cAChC,IAAIC,EAASrF,EAAQsF,QAAQF,GAC7B,IAAKC,EACD,MAAM,IAAI1C,MAAMyC,EAAQ,qBAE5B,OAAOjC,EAAWkC,CACtB,CAYA,SAASG,EAAgBrC,EAAUiC,GAC/B,OAAOK,EAAiBF,EAAgBpC,EAAUiC,GACtD,CAUA,SAASM,EAAiBC,GACtB,IAAIzC,EAAQyC,EAAU,IAItB,OAHIzC,EAAQ,IACRA,GAAS,KAENA,CACX,CASA,SAASuC,EAAiBN,GACtB,IAAIS,EAAUT,GAAW,EAAIvD,KAAKM,IAClC,OAAkB,IAAV0D,EAAiBhE,KAAKM,EAClC,CASA,SAAS2D,EAAiBD,GACtB,IAAIT,EAAUS,EAAU,IACxB,OAAQT,EAAUvD,KAAKM,GAAM,GACjC,CAWA,SAAS4D,EAAc3D,EAAQ4D,EAAcC,GAGzC,QAFqB,IAAjBD,IAA2BA,EAAe,mBAC5B,IAAdC,IAAwBA,EAAY,gBAClC7D,GAAU,GACZ,MAAM,IAAIQ,MAAM,oCAEpB,OAAOuC,EAAgBK,EAAgBpD,EAAQ4D,GAAeC,EAClE,CAUA,SAASC,EAAYC,EAAMH,EAAcC,GAGrC,QAFqB,IAAjBD,IAA2BA,EAAe,eAC5B,IAAdC,IAAwBA,EAAY,gBAClCE,GAAQ,GACV,MAAM,IAAIvD,MAAM,kCAEpB,IAAIwD,EAAcnG,EAAQoG,YAAYL,GACtC,IAAKI,EACD,MAAM,IAAIxD,MAAM,0BAEpB,IAAI0D,EAAcrG,EAAQoG,YAAYJ,GACtC,IAAKK,EACD,MAAM,IAAI1D,MAAM,uBAEpB,OAAQuD,EAAOC,EAAeE,CAClC,CAaA,SAASjF,EAAS0D,GACd,OAAQwB,MAAMxB,IAAgB,OAARA,IAAiBzE,MAAMC,QAAQwE,EACzD,CAaA,SAASpC,EAAS6D,GACd,QAASA,GAASA,EAAMC,cAAgB1G,MAC5C,CAuBA,SAAS2G,EAAarG,GAClB,IAAKA,EACD,MAAM,IAAIuC,MAAM,oBAEpB,IAAKtC,MAAMC,QAAQF,GACf,MAAM,IAAIuC,MAAM,yBAEpB,GAAoB,IAAhBvC,EAAK+B,QAAgC,IAAhB/B,EAAK+B,OAC1B,MAAM,IAAIQ,MAAM,2CAEpBvC,EAAK0B,SAAQ,SAAUgD,GACnB,IAAK1D,EAAS0D,GACV,MAAM,IAAInC,MAAM,iCAExB,GACJ,CAuBA,SAAS+D,EAAW9C,GAChB,IAAKA,EACD,MAAM,IAAIjB,MAAM,kBAEpB,IAAiD,IAA7C,CAAC,SAAU,UAAUgE,eAAe/C,GACpC,MAAM,IAAIjB,MAAM,kCAExB,CAjtBA7C,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IAUtDD,EAAQ4G,YAAc,UAOtB5G,EAAQsF,QAAU,CACduB,YAAmC,IAAtB7G,EAAQ4G,YACrBE,YAAmC,IAAtB9G,EAAQ4G,YACrBhB,QAAS5F,EAAQ4G,YAAc,OAC/BG,KAA4B,QAAtB/G,EAAQ4G,YACdI,OAA8B,MAAtBhH,EAAQ4G,YAChBK,WAAYjH,EAAQ4G,YAAc,IAClCM,WAAYlH,EAAQ4G,YAAc,IAClCO,OAAQnH,EAAQ4G,YAChBQ,OAAQpH,EAAQ4G,YAChBS,MAAOrH,EAAQ4G,YAAc,SAC7BU,YAAmC,IAAtBtH,EAAQ4G,YACrBW,YAAmC,IAAtBvH,EAAQ4G,YACrBY,cAAexH,EAAQ4G,YAAc,KACrCzB,QAAS,EACTsC,MAA6B,OAAtBzH,EAAQ4G,aAQnB5G,EAAQ0H,aAAe,CACnBb,YAAa,IACbC,YAAa,IACblB,QAAS,EAAI,OACbmB,KAAM,QACNC,OAAQ,MACRC,WAAY,KACZC,WAAY,KACZC,OAAQ,EACRC,OAAQ,EACRC,MAAO,EAAI,SACXC,YAAa,IACbC,YAAa,IACbC,cAAe,EAAI,KACnBrC,QAAS,EAAInF,EAAQ4G,YACrBa,MAAO,WAQXzH,EAAQoG,YAAc,CAClBuB,MAAO,UACPd,YAAa,IACbC,YAAa,IACbC,KAAM,aACNa,SAAU,KACVZ,OAAQ,eACRC,WAAY,KACZC,WAAY,KACZC,OAAQ,EACRC,OAAQ,EACRC,MAAO,OACPC,YAAa,IACbC,YAAa,IACbE,MAAO,aAmCXzH,EAAQuD,QAAUA,EAmClBvD,EAAQ6D,SAAWA,EAoCnB7D,EAAQiB,MAAQA,EA2BhBjB,EAAQmE,OAASA,EAoCjBnE,EAAQwC,QAAUA,EAyBlBxC,EAAQwE,SAAWA,EA6BnBxE,EAAQoD,WAAaA,EA0BrBpD,EAAQyE,YAAcA,EAmCtBzE,EAAQkB,kBAAoBA,EA0B5BlB,EAAQiE,gBAAkBA,EA0B1BjE,EAAQgE,WAAaA,EA2BrBhE,EAAQkE,aAAeA,EA2BvBlE,EAAQ2E,mBAAqBA,EAsB7B3E,EAAQ6E,MAAQA,EAmBhB7E,EAAQkF,gBAAkBA,EAmB1BlF,EAAQuF,gBAAkBA,EAc1BvF,EAAQwF,gBAAkBA,EAgB1BxF,EAAQ0F,iBAAmBA,EAY3B1F,EAAQyF,iBAAmBA,EAY3BzF,EAAQ6F,iBAAmBA,EAkB3B7F,EAAQ8F,cAAgBA,EAyBxB9F,EAAQiG,YAAcA,EAetBjG,EAAQoB,SAAWA,EAenBpB,EAAQ0C,SAAWA,EAsCnB1C,EAAQyG,aAAeA,EA8BvBzG,EAAQ0G,WAAaA,C,8ICntB6FmB,EAAM,W,IAAC,EAAK,KAAuB,aAAC,OAAM,SAAcC,MAAI,CAASD,GAAM,c,CAA4B,QAASE,C,MAAiB,CAAkB,6B,CAAgD,eAAgB,C,IAAmB,S,MAAgB,CAAoE,uBAAG,OAAC,eAAC,c,YAAyCC,EAAAA,SAAwC,qBAAC,iCAAIC,KAAQ,EAAC,KAACJ,mBAAM,0CAAsB,IAAII,kBAAe,YAACJ,EAAM,oCAAC,KAAwD,SAAE,MAAK,CAAuBA,GAAM,mB,CAAoB,MAAO,CAAI,OAAI,OAAO,EAAK,UAAC,cAACC,QAAI,Q,CAAoB,MAAK,CAAa,OAAIG,cAAS,GAACJ,KAAM,SAA+B,YAAE,IAAK,aAAaA,MAAM,CAAC,GAAK,iBAAKK,EAAAA,MAAW,C,MAAc,CAAYC,GAAG,4B,GAAeN,EAAAA,EAAAA,C,MAAQ,C,IAAC,I,YAA+D,O,6BAAqB,G,kBAAiB,GAAO,IAAKO,EAAAA,GAAAA,EAAAA,GAAAA,CAAa,uBAAE,MAAC,CAA0E,WAAG,QAAO,IAAQL,IAA4E,GAAC,CAAC,QAAiBA,gBAAyE,QAAYA,GAAIM,GAAQ,4CAAC,M,CAA8D,SAAU,CAAC,EAAEN,GAAIO,EAAAA,GAAAA,EAAY,iC,IAAC,e,MAAkB,CAAkB,iBAAanE,EAAM,aAAC,4BAAiBoE,EAAc,wBAAC,cAAiB,SAAoB,gBAAe,eAAC,cAAWC,EAAI,WAAC,aAAWtC,EAAI,aAAC,QAAa,MAAgB,QAAW6B,MAAY,SAAYA,OAAc,WAAaA,EAAIU,eAAU,kBAAkBV,EAAIW,eAA0C,OAAUX,KAAwD,OAAY,KAAgB,YAAG,cAAC,aAAC,aAAe,QAAmB,sBAAoC,aAAaA,EAAIY,UAAW,gBAAgBZ,EAAIa,YAAa,0BAAC,UAAab,WAAc,mCAAC,WAAc,EAAC,Y,GAA0C,CAAC,8BAAI,kBAAe,cAAaF,WAAM,aAAC,cAAYgB,EAAO,cAAC,WAAU,EAAK,WAAC,aAAU,YAAG,gBAAIZ,MAA2B,aAAiBF,EAAAA,EAAIe,C,MAAc,CAA+B,QAAa,QAAe,cAAIb,UAAS,OAAkC,EAACF,gBAAagB,CAA0ElB,MAAM,CAAC,iBAAiB,EAACmB,cAAY,6BAACC,cAAM,gBAA8BC,EAAAA,MAAS,C,YAAoBlB,mB,CAAqB,0D,EAAkQ,KAAlQ,iB,MAACmB,CAA6B,2BAAuGtB,MAAM,CAAC,yBAA6B,kBAAkB,GAAC,mBAAoBG,CAAiB,EAAG,WAAC,sBAA8BA,EAAAA,SAAgB,WAAQ,uD,MAAA,CAAC,6BAAIC,aAAG,EAAsBJ,cAAM,oBAA8B,IAAI,MAAO,SAAU,GAAgCuB,EAAAA,kBAAY,CAAgBvB,I,CAAwB,uBAAc,CAAE,OAAII,YAAc,EAAI,gBAAwI,GAAK,yBAAkB,O,YAAQ,gB,MAAO,CAAiB,eAAkC,YAAc,KAAyB,8HAACgB,MAAM,CAAChJ,GAAK,mBAA+BiJ,KAAQ,O,YAAqBG,GAA2B,WAAC,qBAACF,UAAW,GAAyB,uBAA4GtB,MAAM,CAAC,QAASE,wBAA4B,SAAQ,SAAO,GAAC,0BAAa,CAAC,EAAY,uC,CAAQ9H,EAAAA,GAAO8H,IAAIuB,EAAAA,GAAAA,EAAAA,IAAAA,4BAAoB,8B,MAACJ,C,OAA6BI,EAAAA,wBAAuB,MAAC,QAACH,SAAW,GAAqB,WACzrH,OACGI,MAAAA,EAAAA,oBAEJ,SAAe,SAAEA,G,6GCJsG1B,EAAM,W,IAAC,OAAuB,aAAC,OAAO,EAAC2B,MAAAA,CAAAA,EAAa,IAAS,CAA+C3B,YAAM,c,MAAK,CAAiB,wBAA+DA,CAAM,MAANA,EAAK,eAAC,qC,MAAK,CAAiB,sBAAoFuB,CAAAA,EAAAA,GAAAA,EAAY,4CAAkC,MAAK,CAAQA,GAAAA,mBAAsFA,CAAAA,EAAAA,GAAAA,EAAY,0DAAY,YAAY,mCAAkDA,CAAAA,EAAAA,OAAY,CAAe,YAAU,YAACA,CAAAA,EAAAA,GAAAA,EAAY,+CAAwB,YAAY,aAACA,CAAAA,EAAAA,GAAAA,IAAY,0CAAW,YAAaK,gBAAkDL,EAAAA,MAAW,CAAavB,YAAM,yB,CAAC,SAAK,CAAY,wBAAG,CAACE,EAAI2B,GAAG,EAAG,GAAC3B,EAAI0B,GAAG1B,qBAAoB,QAAQ4B,EAAAA,OAAS,CAA2CP,YAAY,YAAwB,MAAK,CAAQA,GAAAA,eAAyFA,CAAAA,EAAAA,GAAAA,IAAY,0EAAY,YAAaK,yBAAiCxJ,CAAAA,EAAK,OAAM2J,CAAqE,YAAWC,YAAeT,CAAAA,EAAAA,GAAAA,EAAY,kDAAyB,YAAY,aAACA,CAAAA,EAAAA,GAAAA,EAAY,6BAAW,MAAMM,IAAG3B,KAAOA,aAAO,gBAAqB,OAAO,EAAI,SAAO,aAACqB,EAAY,cAAY,YAAaK,0BAA6E5B,CAAAA,EAAK,OAAC,C,YAAU,YAAG,uDAACK,YAAYH,a,CAAS+B,EAAG,GAAC,OAAW,qD,MAAI,C,OAAa,I,YAAU,O,IAAC,Y,GAAkCV,UAAAA,G,EAAmBvB,M,UAAgC,GAAM,IAAE,W,YAAS,OAAE,MAAC,CAAG,KAAC,GAAC,UAAYkC,GAAiB,OAAG,MAAQlC,IAA0E,GAAK,CAAuB,MAAW,EAAIE,oBAEv2DwB,QAAgB,GAAI,mDAExB,I,iIC+DA,GACAS,MAAA,CACA,WACA,SACA,QACA,gBACA,WACA,UACA,OACA,sBAEAC,OACA,OACAC,UAAA,KACAC,UAAA,GACAC,iBAAA,KAEA,EACAC,MAAA,CACAxF,MAAA,WACA,KAAAyF,YACA,GAEAC,SAAA,KACAC,EAAAA,EAAAA,IAAA,CACAC,aAAAC,GAAAA,EAAAC,UAAAF,eAEAG,gBACA,OAAAC,EAAAA,EAAAA,IAAA,KAAArB,cACA,EACAsB,oBACA,YAAAtC,OAAAuC,EAAAA,GAAAA,OACA,GAEAC,QAAA,CACAV,aACA,QAAAd,gBAGA,KAAAU,UAAA,IAAAe,KAEA,KAAAb,iBAAAc,aAAA,KACA,KAAAf,WAAAU,EAAAA,EAAAA,IACAjJ,KAAAiD,OAAAoG,KAAAE,MAAA,KAAAjB,WAAA,KACA,GACA,KACA,EACAkB,YACA,KAAAhB,kBACAiB,cAAA,KAAAjB,iBAEA,EACAL,oBACA,KAAAuB,MAAA,oBACA,ICzH4R,I,UCQxRC,GAAY,OACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIF,EAAeA,EAAiB,QCnB4B,EAAU,W,IAAcC,EAC3EzD,KAOHF,EAAK,EAAC,S,OAAC,EAAK,YAAe,iNAAE,MACvB4D,CACE,qB,EAES,UAAU,OAAO,IACxB,CACAC,UAAU,KACN3D,EAAI4D,WAAY,GAEvB,WAEH,KAAOvC,EAAAA,WAAY,IAAoCA,CAAAA,GAAAA,CAAAA,EAAW,MAAC,CAAkB,YAAOwC,yBAA0F/D,CAAAA,EAAK,MAAC,C,YAAC,mBAAwC,mFAAG,MAAKgC,CAA6ChC,oBAAM,sBAAyC,0CAAG,MAAKgC,CAAmBT,WAAY,6BAAqCA,EAAAA,MAAY,YAAqB,YAAY,0BAAEvB,CAAAA,EAAK,MAAC,C,YAAS,sB,CAAC,MAAS,CAAG,MAAC,CAAG,IAAC,GAAC,UAAQE,IAAiB,GAAI,CAAWF,MAAM,gBAAU,QAAE,MAAM6B,CAAiD7B,KAAM,K,CAAgB,KAAM,+BAAE,U,MAAC,CAAa,aAAwB,OAAG,UAAC,GAAC,SAAQ,OAASgE,G,GAAkB,CAAC,kBAAM,EAAC,MAAUhE,IAAgB,QAAE,MAAM6B,CAAgD7B,KAAM,K,CAAc,KAAM,8BAAE,U,MAAC,CAAa,WAAwB,OAAG,UAAC,GAAC,SAAQ,OAASgE,G,GAAkB,CAAC,kBAAM,EAAC,MAAUhE,IAAgB,QAAE,MAAM6B,CAA8C7B,KAAM,K,CAAe,KAAM,4BAAE,U,MAAC,CAAa,YAAG,IAAC,GAAC,UAAQ,I,GAA+C,CAAC,kBAAM,EAAC,WAAS,WAACA,IAAgB,QAAE,MAAM6B,CAIpmC7B,KAAM,K,CAAwB,KAAM,WAAE,+H,MAAC,CAAa,qBAAc,OAAG,UAAC,GAAC,MAAQE,OAAa,GAAI,CAAWF,MAAM,YAAgB,QAAE,MAAM6B,CAAqE5B,MAAS,U,CAAQ,EAAI,GAAC,kBAAK,yC,IAAC,MAAe,MAAC,CAAG,GAAC,MAAC,aAAoC,GAACC,CAAkDD,cAAS,mBAAQ,EAAI,KAAM,oC,IAAC,M,MAAgB,CAAsC,SAAsB,KAAOC,EAAI3H,KAAK,gBAAgBoI,EAAI,gBAAe,kBAAG,KAAC,OAAC,SAAoBsD,YAApB,KAAgB/D,MAAoB,GAACA,CAA4CgE,cAAY,mBAAaC,EAAAA,KAAQ,eAI5kB,OAJolB,c,WAAW,CAACC,CAAkB9C,KAAAA,OAA+B,iBAACrB,MAAI,mBAAasB,WAAY,qB,IAA+B,aAAoB,oCAAG,MAAKS,CAIrwBhC,WAAM,WAA+B,EAAI,GAACS,KAAAA,EAAY,qBACzD4D,EAAW,0BACXC,EAAAA,UACD,MAAS,KAAKpE,EAAIqE,0BAE3B,OAF2BA,EAAAA,SAAAA,CAAQ,MAAC,CAAG,GAAC,eAAC,SAAYC,MAAD,EAACA,cAAAA,MAAAA,EAAAA,aAAAA,EAAAA,wBAAAA,KAAAA,OAAAA,EAAAA,SAAgB,GAAEtE,CAA+FuE,MAAO,mBAE7K,4EAACzE,MAAM,CAAC,gBAAK,EAAa,yCAAoC,MAAC,CAAG,GAAC,cAAC,UAAQ,uB,GAAgD,CAAC,kBAAIE,OAAO,EAAIA,eAAc,EAA6EF,IAA6B,0FAAC0E,MAAG,CAAC,qB,GAAiD,CAAC,kBAAIxE,EAAM,eAAYA,CAKpUqB,I,CAA6B,EAAI,GAAC,iKAAmB,YAAC,UAACmD,MAAG,CAAC,wBAAqB,GAAExE,CAAgFF,MAAM,Y,CAAoC,WAAgBE,GAAG,EAACyE,GAAAA,mBAAY,iC,MAAC,CAAkB,iBAAiB,EAACC,cAAW,gBAAatI,EAAM,aAAC,MAAO4D,EAAI2E,MAAK,cAAc,EAAE3E,WAAS,SAAaA,OAAe,OAAWA,KAAY,qBAAG,WAAC,aAAC,WAAY,EAACA,S,GAA4C,CAA8B,wBAAC,sBAAM,OAAC,mBACtgB,MAGD,E,8CCzCqI,W,IAAgB,OAAsC,aAAC,OAAM,MAAS,CAACF,MAAM,CAAC,MAAQ,gBAAS,kBAAII,WAAG,GAAeJ,WAAM,wBAAiB,QAAE,MAAQ8E,CAAyB9E,MAAM,YAAmB,SAAE,MAAK,CAAKA,GAAM,cAAqB,eASpNI,EAAG,KATiN,OAAC2E,MAAAA,CAAU,QAAW,W,CAGlX,EAAE,IACG7E,C,MAEO5E,CACJ,GACE,gBACV,SAAO0G,CAAoD,UAAU,EAAQ,gDAACC,OAAS,YAACV,EAAAA,aAAkB,+CAACvB,SAAM,cAAC,UAAgC,mC,OAAM,EAAC,K,IAAC,EAAmB,mBAAE,MAAQ,CAAgDA,QAAM,WAItN,WAAE,MAAM6B,CAAsCkD,GAAQ,iB,CAErEH,G,GAAiBA,GAALI,GAAe,GAAVJ,EAAU,O,MAC3BtI,CACJ,MACS2I,GAAD,EAAa,UAET,2B,CAGA,EACH,GACG,eAChB,iBAAC,UAAI,UAAK,iDAAM,WAAQ,aAAC1D,OAAY,EAAM,eAAO,6DAAC,SAAU,mBAAQ,SAAgBA,I,IAAmBvB,EAAK,IAAC,C,YAAM,O,MAAoB,CAAU,QAAQ,WAAW0E,CAAE,EAAC,K,YAAS,O,MAAiB,CAA8B,uBAAC,QAAIxE,MAAO,WAAyGF,GAAAA,CAAO,MAAK,SAAa,GAAC,OAAO,EAAE,mBAAC,IAAmB0E,CAAE,EAAC,oE,OAAA,O,YAAS,O,MAAiB,CAA6B,iBAAC,QAAIxE,MAAO,WAEtewB,GAAAA,CAEJ,MAAe,SAAEA,G,mGC+DjB,GACAS,MAAA,CACA,gBACA,eACA,aACA,QACA,SACA,cACA,OACA,OACA,aACA,WAEAO,SAAA,CACAuC,eACA,YAAAtE,OAAAuC,EAAAA,GAAAA,OACA,GAEAV,MAAA,CACA0C,cAAA,SAAAC,GACA,GAAAA,GACA,KAAAC,cAEA,GAEAjC,QAAA,CACAiC,eACA,IAAAC,EAAAC,aAAAC,QAAA,WAEAF,EADA,MAAAA,EACA,GAEAG,KAAAC,MAAAJ,GAEAA,EAAAlM,KAAA,IACA,KAAA0L,KACAa,MAAA,KAAAA,MACApJ,OAAA,KAAAA,OACAqJ,KAAA,KAAAb,YACA,KAAAH,aAAAiB,WACAZ,GAAAA,EAAAJ,aAAA,KAAAA,aACA,OACA5L,EACA8I,QAAA,KAAAA,QACA+D,WAAA,KAAAA,aAEAP,aAAAQ,QAAA,UAAAN,KAAAO,UAAAV,GACA,EACAW,aACA,KAAAvC,MAAA,aACA,IC9I+R,ICQ3R,GAAY,OACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIF,EAAe,EAAiB,QCnBYrD,EAAO6F,WAAS,MACjD,KAGK1E,EAAAA,EAAAA,MAAY,GAAuB,OAAM,EAAI,YAAmC2E,kBAAlBtE,EAAG1B,aAA4B,EAAG,WAAU2B,OAAO3B,EAAI0B,WAAOhG,aAAWuK,EAAW,MAAK,CAAuE5E,YAAY,yBAAmBvB,CAAAA,EAAK,KAAC,wJ,YAAW,mB,MAAiB,CAAiB,uBAAII,OAAG,W,CAAiB,MAAQ,CAAW,OAAIF,MAAO,cAElXwB,CAAAA,EAAAA,GAAAA,sBAAoB,+DAExB,E,KCmBA,GACA0E,KAAA,aACAjE,MAAA,eACAgB,QAAA,CACAkD,SAAAC,GACA,OAAAD,EAAAA,EAAAA,IAAAC,EACA,ICjCqS,ICQjS,GAAY,OACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIF,EAAe,EAAiB,QCnB5BC,EAAS,WAAkB,IAAIrG,EAAIsG,KAAKpG,EAAGF,EAAI+F,MAAM7F,GAAG,OAAOA,EAAG,MAAM,CAACJ,MAAM,CAAC,GAAK,QAAQ,CAACI,EAAG,UAAU,CAACH,IAAI,SAASD,MAAM,CAAC,GAAK,aAAa,OAAS,CAAEpH,IAAK,SAAU6N,KAAM,YAAa,KAAO,EAAE,cAAc,UAAU,QAAU,CAClOC,mBAAmB,EACnBC,gBAAgB,EAChBC,mBAAmB,EACnBC,gBAAiB,YACjBC,gBAAgB,EAChBC,OAAQ7G,EAAI8G,SAASC,MAAMC,KAAOhH,EAAI8G,SAASC,MAAME,OAAOD,KAAKE,KAAOlH,EAAI8G,SAASC,MAAME,OAAOE,MAAMD,UACtG,EACd,EACI1F,EAAkB,GCTf,MAAM4F,EAAW,CAEpBnF,MAAO,CAAC,QACRK,MAAO,CACHjK,OACIiO,KAAKe,cACT,GAEJpE,QAAS,CACLoE,eACQf,KAAK1M,MACD0M,KAAKjO,KACLiO,KAAK1M,IAAI0N,UAAU,CACfC,KAAMjB,KAAKjO,KAAK,GAChBmP,MAAOlB,KAAKjO,KAAK,GACjBoP,MAAO5N,KAAK6N,IAAIpB,KAAKjO,KAAK,IAAK,IAC/BsP,KAAMrB,KAAKjO,KAAK,MAGpBiO,KAAK1M,IAAIgO,QAAQ,GACjBtB,KAAK1M,IAAIiO,UAAU,CAACnP,IAAK,EAAG6N,IAAK,KAG7C,EACAuB,eAAgB,EAChBC,kBAAmB,IAI3B,QCNA,GACA7B,KAAA,MACA8B,OAAA,CAAAZ,GACAlF,OACA,OACAtI,IAAA,KACAqO,OAAA,GACAC,QAAA,GACAC,UAAA,GACAC,aAAAC,EAAAA,GAEA,EACA,sBACA,KAAAC,sBACA,KAAAC,MAAAC,OAAAC,YAAAC,MAAA9O,IACA,KAAAA,IAAAA,EAEA,KAAAyN,cAAA,GAEA,EACApE,QAAA,CACA0F,UAAAC,EAAAC,EAAAC,GACA,IAAAC,EAAA,GACAF,IACAE,EAAA,CACAC,KAAA,CACA5C,IAAA6C,OAAAC,SAAAC,OAAA,+BACAC,OAAA,IAAAC,OAAAC,KAAAC,MAAA,QAIAT,IACAC,EAAA,CACAD,UAGA,MAAAb,EAAA,IAAAoB,OAAAC,KAAAE,OAAA,IACAT,EACAH,SAAAA,EACAhP,IAAA,KAAAA,MAEA,KAAAsO,QAAAjP,KAAAgP,EACA,EACAwB,gBACA,UAAAC,KAAA,KAAAxB,QACAwB,EAAAC,OAAA,MAEA,KAAAzB,QAAA,EACA,EACA0B,cAAAlF,EAAAtJ,EAAAgB,EAAAyN,GAAA,GACA,IAAAC,EAAA,GAGAA,GADA1O,EAAA,IAEA,MACA,KAAA2O,GAAA,4BACA,SACA,IAAAlI,KAAAmI,aAAA,KAAAC,MAAAC,OAAA,CAAA3F,MAAA,OAAA4F,KAAA,UAAAC,OAAAhP,GAGA,MACA,KAAA2O,GAAA,4BACA,SACA,IAAAlI,KAAAmI,aAAA,KAAAC,MAAAC,OAAA,CAAA3F,MAAA,OAAA4F,KAAA,cAAAC,OAAAhP,EAAA,KAGA0O,GACA,WACA,KAAAC,GAAA,0BACA,SACA3N,EAEA,MAAAiO,EAAA,IAAAhB,OAAAC,KAAAgB,WAAA,CACAC,cAAA7F,EACA8F,gBAAA9F,EACA+F,QAAA,QAAAX,YAEAO,EAAAK,KACA,KAAA9Q,IACA,KAAAsO,QACAxD,GAAAmF,EAAA,KAAA3B,QAAA9N,OAAA,KAGA,EACA0N,aAAA6C,EAAA3R,EAAA,EAAAuH,GACA,MAAAqK,EAAA,CACAC,KAAA,aACAC,cAAA,EACAC,MAAA,GAEAC,EAAA,IAAA3B,OAAAC,KAAA2B,SAAA,CACAJ,KAAA,CAAAF,EAAApK,GACAuK,cAAA,EACAI,YAAA,KAAA9C,aAAApP,EAAA,KAAAoP,aAAAhO,QACA+Q,MAAA,CACA,CACAnC,KAAA4B,EACAQ,OAAA,IACAC,OAAA,WAIAL,EAAArB,OAAA,KAAA/P,KACA,KAAAuO,UAAAlP,KAAA+R,EACA,EACAjD,kBACA,UAAA2B,KAAA,KAAAvB,UACAuB,EAAAC,OAAA,KAEA,EACA2B,iBACA,KAAA/C,MAAAC,OAAAC,YAAAC,MAAA,KACA,KAAA9O,IAAA2R,YAAA,SAAAC,IAEA,KAAA/B,gBAGA,KAAAd,UAAA6C,EAAAC,QAGA,KAAAlI,MAAA,gBAAAiI,EAAAC,OAAA,IAEA,KAAApE,cAAA,GAEA,EACAqE,iBACArC,OAAAC,KAAAqC,MAAAC,eAAA,KAAAhS,IAAA,QACA,EACA0N,YACA,MAAAuE,EAAA,IAAAxC,OAAAC,KAAAwC,aAEA,UAAApC,KAAA,KAAAxB,QACAwB,EAAAqC,cACAF,EAAAG,OAAAtC,EAAAuC,eAIA,KAAArS,IAAA0N,UAAAuE,EACA,ICjK8R,ICQ1R,GAAY,OACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIF,EAAe,EAAiB,QCnB5BxF,EAAS,WAAkB,IAAIrG,EAAIsG,KAAKpG,EAAGF,EAAI+F,MAAM7F,GAAG,OAAOA,EAAG,MAAM,CAACmB,YAAY,YAAYvB,MAAM,CAAC,GAAK,QAAQ,CAACI,EAAG,MAAM,CAACmB,YAAY,eAAe,CAAErB,EAAIkM,eAAiBlM,EAAImM,SAAUjM,EAAG,MAAM,CAACmB,YAAY,YAAYvB,MAAM,CAAC,MAAQE,EAAImM,WAAW,CAAEnM,EAAIoM,SAAUlM,EAAG,WAAW,CAACJ,MAAM,CAAC,KAAO,MAAM,QAAU,GAAG,WAAWE,EAAIqM,YAAcrM,EAAIsM,kBAAkBtM,EAAI8B,KAAK5B,EAAG,OAAO,CAACmB,YAAY,0BAA0BoC,MAAM,CACna8I,OAAQvM,EAAIqM,WACZG,QAASxM,EAAIqM,WACb,gBAAiBrM,EAAIqM,WACrBI,OAAQzM,EAAIoM,WACb,CAACpM,EAAI2B,GAAG,IAAI3B,EAAI0B,GAAG1B,EAAImM,UAAU,QAAQ,GAAGnM,EAAI8B,KAAK5B,EAAG,UAAU,CAACH,IAAI,SAASD,MAAM,CAAC,GAAK,WAAW,OAAS,CAAEpH,IAAK,SAAU6N,KAAM,YAAa,KAAO,EAAE,cAAc,UAAU,QAAU,CAClMC,mBAAmB,EACnBC,gBAAgB,EAChBC,mBAAmB,EACnBC,gBAAiB,YACjBC,gBAAgB,EAChBC,OAAQ7G,EAAI8G,SAASC,MAAMC,KAAOhH,EAAI8G,SAASC,MAAME,OAAOD,KAAKE,KAAOlH,EAAI8G,SAASC,MAAME,OAAOE,MAAMD,UACtG,GAAIlH,EAAI0M,gBAAgBtS,OAAS,EAAG8F,EAAG,MAAM,CAACmB,YAAY,gBAAgBrB,EAAI2M,GAAI3M,EAAI0M,iBAAiB,SAAS3D,GAAM,OAAO7I,EAAG,MAAM,CAAC6B,IAAIgH,EAAKrE,WAAWrD,YAAY,qBAAqBoC,MAAM,CAAEmJ,KAAM5M,EAAIoM,WAAY,CAAEpM,EAAIoM,SAAUlM,EAAG,WAAW,CAACJ,MAAM,CAAC,WAAWiJ,EAAK5K,QAAQ6B,EAAI8B,KAAK5B,EAAG,IAAI,CAACF,EAAI2B,GAAG3B,EAAI0B,GAAGqH,EAAKrE,eAAiB1E,EAAIoM,SAAiDpM,EAAI8B,KAA3C5B,EAAG,OAAO,CAACF,EAAI2B,GAAG3B,EAAI0B,GAAGqH,EAAK5K,UAAmB,EAAE,IAAG,GAAG6B,EAAI8B,MAC1a,EACIN,EAAkB,G,UC+CtB,GACAwG,OAAA,CAAAZ,GACAyF,WAAA,CACAC,SAAAA,EAAAA,GAEA7K,MAAA,CACA9D,KAAA,CACAvC,KAAAmR,QAEAC,gBAAAD,OACAE,QAAA,CACArR,KAAAmR,OACAG,QAAA,UAEAd,SAAAe,SAEAjL,OACA,OACAtI,IAAA,KACAsS,cAAA,KACAkB,MAAA,GACAlF,QAAA,GACAmF,aAAA,EACAhB,WAAA,KACAiB,UAAA,KACAZ,gBAAA,GAEA,EACAlK,SAAA,KACA+K,EAAAA,EAAAA,IAAA,eACApB,WACA,YAAAC,WAAA,KAAAC,YAAA,KAAAH,eACA,KAAAsB,mBACA,KAAAnB,YAAA,KAAAC,gBAGA,KAAAD,YAAA,KAAAC,cAEA,EACAA,iBACA,YAAAJ,cACA,KAAAA,cACAuB,eAAA,WACAC,YAAA,KAAAT,cACAnU,CACA,GAEA,sBACA,KAAA6U,UAAA,KAAAX,uBACA,KAAA1E,sBACA,KAAAC,MAAAC,OAAAC,YAAAC,MAAA9O,IACA,KAAAA,IAAAA,EACA,KAAAgU,UAAA7U,SAAAgB,SAAA8T,IACA,GAAAvV,MAAAC,QAAAsV,EAAA/R,SAAAC,aAAA,CACA,MAAA+R,EAAA,IAAAzE,OAAAC,KAAAyE,KAAA,CACAxJ,MAAA,CACAuG,cAAA,EACAkD,YAAA,EACAC,aAAA,KAGAJ,EAAAhS,GAAA,UACAiS,EAAAI,WAAAL,GAEAC,EAAAnE,OAAA,KAAA/P,KACAkU,EAAAvC,YAAA,cACA,KAAA8B,cAGA,KAAAnB,eACA,KAAAA,cAAAiC,SAAA,CACArD,cAAA,EACAkD,YAAA,IAGAjW,OAAAqW,GAAAN,EAAA,KAAA5B,gBACA,KAAAA,cAAA,KACA,KAAA3I,MAAA,wBAEAuK,EAAAK,SAAA,CACArD,cAAA,GACAkD,YAAA,GACA9C,YAAA,UACAmD,UAAA,YAGA,KAAAnC,cAAA4B,EACA,KAAAvK,MACA,gBACAuK,EACAL,eAAA,WACAC,YAAA,KAAAT,WAEA,IAEA,KAAAG,MAAAS,EAAAnS,WAAA,KAAAuR,UAAAa,CACA,KAEA,KAAAzG,cAAA,GAEA,EACApE,QAAA,KACAqL,EAAAA,EAAAA,IAAA,eACA3F,UAAA4F,EAAA1F,EAAA1K,GACA,MAAAgO,EAAAtD,EAAA1K,GAAA,KAAAA,KAAAoQ,EACA1F,IACA,KAAAwD,WAAA,KAAAlO,KACA,KAAAmP,UAAA,IAAAjE,OAAAC,KAAAE,OAAA,CACAZ,SAAA2F,EACA3U,IAAA,KAAAA,OAGA,KAAAwT,MAAAjB,KACA,KAAAiB,MAAAjB,GAAAgC,SAAA,CACAH,YAAA,GACAlD,cAAA,GACAuD,UAAAxF,EAAA,oBACAqC,YAAArC,EAAA,sBAEA,KAAAX,QAAAjP,KAAAkT,GAEA,EACA1C,gBACA,KAAAvB,QAAAnO,SAAAoS,IACA,KAAAiB,MAAAjB,GAAAgC,SAAA,CACArD,cAAA,EACAkD,YAAA,GACA,IAEA,KAAA9B,eACA,KAAAA,cAAAiC,SAAA,CACArD,cAAA,EACAkD,YAAA,IAGA,KAAAV,YACA,KAAAA,UAAA3D,OAAA,MACA,KAAA2D,UAAA,MAEA,KAAApF,QAAA,GACA,KAAAwE,gBAAA,EACA,EACA9C,cAAAlF,EAAA8J,EAAAC,EAAAC,EAAAvQ,GACAuG,GAAA,KAAAgI,gBAAAzT,KAAA,CAAAyL,aAAAvG,QACA,EACAmN,iBACA,KAAAY,eACA,KAAAA,cAAAiC,SAAA,CACArD,cAAA,EACAkD,YAAA,IAGA,KAAA9B,cAAA,KACA,KAAAG,WAAA,KACA,KAAAgB,aAAA,EAEA,KAAAhG,cACA,EACAqE,iBACA,KAAA2B,aAAA,CACA,EACA/F,YACA,KAAAjP,KACA,KAAAgP,eAEA,KAAAzN,IAAAgO,QAAA,EAEA,ICpOmS,KCQ/R,IAAY,OACd,GACA,EACA,GACA,EACA,KACA,WACA,MAIF,GAAe,GAAiB,QCjBzB,SAAS+G,GAASvT,EAAUwT,EAAYC,EAAMpO,GACjD,OAAQA,GACJ,KAAKqO,EAAAA,GAAAA,KACD,OAAOjV,KAAKiD,MACRiS,GAAe3T,EAAUwT,GAAc/U,KAAKmV,KAAKH,EAAO,MAGhE,QACI,OAAOE,GAAe3T,EAAUwT,GAE5C,CAEA,SAASG,GAAe3T,EAAUwT,GAC9B,GAAIxT,EAAW,GACX,OAAO,IACJ,CACH,MAAMlC,EAAQW,KAAKiD,MACf,IAAOjD,KAAKmV,KAAM5T,EAAW,IAAOwT,IAGxC,OAAI1V,EAAQ,IACD,IACAA,EAAQ,EACR,EAEJA,CACX,CACJ,C,IC7B4CgH,GAAO6F,WAAS,MAAU,KAAW1E,EAAAA,EAAAA,MAAY,G,OAAiB,EAAC,K,YAAM,Y,MAAoB,CAA0C,uBAAc,WAAS,6BAAC,YAAiB,KAAO,GAAW,eAAG,MAAC,SAA6C,IAAInB,MAAQ,GAAQ,gBAAmB,K,CAA8B,UAAa,GAACF,iBAAIiB,EAAAA,qBAAAA,CAAW,OAAI,YAAG,kBAEpYO,EAEJ,E,MCJ4CtB,GAAO6F,WAAS,MAAU,KAAyCG,EAAI,W,OAAE+I,EAAAA,MAAW,mCAAEC,EAAAA,YAASrT,EAAAA,QAAG,EAAC,GAAC,I,OAAwBwF,EAAAA,MAAY,CAA0B,IAAK,EAA8BvB,YAAM,2B,CAAC,QAAQ,UAAO,OAAIE,MAAO,UACjR,wFACD,IAAIwB,EAEJ,E,MCUA,IACA0E,KAAA,cACAjE,MAAA,CACAhB,YAAA3I,QCjB6S,MCQzS,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIF,GAAe,GAAiB,QCGhC,IACA4N,KAAA,cACAjE,MAAA,CACAhB,YAAA3I,MACAJ,MAAAiV,SAEAN,WAAA,CACAsC,mBAAAA,KC7BsS,MCQlS,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIF,GAAe,GAAiB,QCuKhC,IACAtC,WAAA,CACAuC,YAAA,GACAC,cAAA,EACAC,WAAA,EACAC,IAAA,EACAC,SAAAA,IAEAvN,MAAA,CACA,eACA,0BACA,WACA,eACA,aACA,UACA,QACA,QACA,SACA,iBACA,aACA,OACA,OACA,OACA,aACA,UACA,YACA,YACA,kBACA,UACA,aACA,mBACA,eAEAC,OACA,OACAuC,aAAA,GACAgL,KAAA,KACAtL,YAAA,KACA/I,SAAA,KACAlC,MAAA,KACAkL,sBAAA,EACAsL,0BAAA,EACAC,YAAA,EACAC,uBAAA,EACAC,qBAAA,EACAC,wBAAA,EACA9K,eAAA,EACApB,WAAA,EACAmM,KAAA,EACA7L,kBAAA,EACA8L,UAAA,SAAA5K,aAAAC,QAAA,aACA4K,cAAA,EACAC,kBAAA,EACAvL,KAAA,CACAC,cAAA,KAAAtE,SACA6P,KAAA,IAAAjN,KACAkN,OAAA,IAEAC,UAAA,KAEA,EACA7N,SAAA,CACA8N,sBACA,eAAAC,eAAA,KAAAd,MAGA,KAAAG,qBAEA,GAEAtN,MAAA,CACA0N,YACA5K,aAAAQ,QAAA,iBAAAoK,UACA,EACAC,aAAA/X,GACA,KAAAqL,MAAA,eAAArL,EACA,GAEA,sBACA,KAAAoQ,sBACA,KAAA3D,KAAA6L,eAAA,KAAAA,eACA,KAAA7L,KAAAiK,WAAA,KAAAA,WACA,KAAAjK,KAAAlE,KAAA,KAAAA,KACA,KAAAkE,KAAA8L,WAAA,KAAAA,WACA,KAAA9L,KAAAD,WAAA,KAAAA,WACA,IAAAqL,EAAA,EAEA,KAAAzP,WACA,KAAAmP,KAAAiB,EAAAA,EAAAA,WAAA3Q,IAAA,KAAAO,UAEA,KAAAmP,KAAAjL,GAAA,SAAAmM,IACA,GAAAA,EAAAC,SAAA,WAOA,GANAb,EAAAY,EAAAE,MAAA,QAAAC,MACA,IAAAf,EACA,KAAAN,KAAAsB,eAAAC,SAEA,KAAAvB,KAAAsB,eAAAE,OAAA,CAAAlB,KAAAA,EAAA,IAIA,KAAAU,YACA,SAAAS,WACAP,EAAAE,MAAA,SAAAM,eAAA,GACAR,EACAE,MAAA,SACA9W,SACAqX,GACAA,EAAAP,MAAA,QAAAC,QAAA,KAAA3S,QAGAwS,EAAAE,MAAA,SAAAM,gBAAApB,EACA,CACA,KAAApL,KAAA6L,eAAA,KAAAA,eACA,KAAAZ,uBAAA,EAEA,KAAArM,MAAA,cAGA,IAAAvK,EAAA,EACAqY,EAAA,GACAV,EAAAE,MAAA,SAAA9W,SAAAuX,IACA,IAAAC,EACA,QAAA9Q,OAAAuC,EAAAA,GAAAA,QAAA,CACA,MAAAtK,EAAA4Y,EACAT,MAAA,YACAC,MACAvK,EAAA+K,EACAT,MAAA,aACAC,MACAS,EAAA,IAAAlI,OAAAC,KAAAkI,OAAA,CACA9Y,IAAAA,EACA6N,IAAAA,GAEA,MACAgL,EAAAD,EAAAT,MAAA,QAAAC,MAGA,MAAApM,EAAAiM,EACAE,MAAA,cACAA,MAAAS,EAAAvP,KACA+O,MACAW,EAAAd,EACAE,MAAA,aAAA/T,MAAA,IAAAwU,EAAAvP,KACA2P,aAEA,OAAAtV,EAAA,SAAAhB,GAAAqW,EAEAJ,EAAA3M,GAAA,IACA+M,EACAL,MAAAG,GAEA,KAAAhJ,MAAA3O,IAAAkO,aACAyJ,EACAvY,EACA,KAAAuH,cAEA,KAAAgI,MAAA3O,IAAA+O,UACA4I,GACA,EACA7M,GAAAA,EAAAtK,OAAA,EACAsK,EAAA,GAAAiN,cACA,IAEA,KAAApJ,MAAA3O,IAAAgQ,cACAlF,EACAtJ,EACAgB,GACA,EACAmV,GAEAvY,GAAA,IAEA,KAAAuP,MAAA3O,IAAA0N,YACA,KAAA3C,KAAAyL,OAAAnX,KAAA,CACA2P,SAAA,IACA,KAAArI,aAAAqR,SACAzT,KAAA,KAAAA,MAEAkT,YAEA,KAAA9I,MAAA3O,IAAA+O,UAAA,KAAApI,cAAA,GAEA,KAAA0P,cAAA,EAEA,KAAAR,KAAAoB,MAAA,SAAAG,SAEA,KAAAlU,OAAA,KAAA8E,SAEA+O,EACAE,MAAA,eACA9W,SAAAuX,IACA,MAAA5M,EAAAiM,EACAE,MAAA,cACAA,MAAAS,EAAAvP,KACA+O,MACAe,EAAAlB,EACAE,MAAA,cACAA,MAAAS,EAAAvP,KACA+O,MACAgB,EAAAR,EAAAR,MACA,KAAArM,aAAAxL,KAAA,CACAyL,WAAAA,EACAmN,WAAAA,EACAC,YAAAA,GACA,IAGA,KAAArN,aAAAsN,MACA,CAAAC,EAAAC,IACAC,SAAAD,EAAAH,aACAI,SAAAF,EAAAF,eAGA,KAAAhC,wBAAA,GAGA,KAAAD,qBAAA,CAEA,CAIAc,EAAAE,MAAA,cAAAM,eACA,KAAArU,MAAA,IAEA,KAAA8S,uBAAA,IAIA,KAAAM,mBACA,KAAAD,cACA,KAAAiB,UAAA,GACAP,EAAAE,MAAA,SAAAM,eAAA,IAEA,KAAAgB,QAAAC,UAAA,KAAAlB,WAAA,GAEA,KAAAhB,kBAAA,EAEA,KAGA,EACAjN,QAAA,CACAc,cAAAwK,GACA,KAAApK,YAAAoK,CACA,EACA8D,UACA,KAAA3C,0BAAA,CACA,EACA4C,UACA,KAAA5C,0BAAA,CACA,EACA6C,cACA,KAAArO,kBAAA,KAAAA,iBACA,KAAAA,kBACAsO,YAAA,KACA,KAAAjK,MAAAkK,WAAAC,OAAA,GAGA,EACApO,iBACA,KAAAqO,oBAEA,KAAAlD,KAGA,KAAAA,KACAoB,MAAA,oBAAAN,cACAqC,KAAAC,EAAAA,EAAAA,IAAA,KAAA1O,YAAA,KAAA1D,QAGA,KAAA8H,MAAA3O,IAAA+O,UAAA,KAAApI,cAAA,GAEA,KAAAgI,MAAA3O,IAAAkO,aACA,KAAA3D,YACA,EACA,KAAA5D,cAGA,KAAAgI,MAAA3O,IAAAgQ,cACA,KACA,KAAAxO,SACA,KAAAlC,OACA,EACA,KAAA6K,eAEA,KAAAkM,cAAA,EACA,KAAA1H,MAAA3O,IAAA0N,YACA,KAAAxK,OAAA,KAAA8E,QACA,KAAAkO,wBAAA,EAEA,KAAAD,qBAAA,EAEA,KAAAtM,MAAA,eAGA,KAAAgF,MAAA3O,IAAA8R,iBAGA,KAAAtH,sBAAA,EACA,KAAAuL,YAAA,EAGA,KAAAC,uBAAA,CACA,EACAkD,qBAAAvS,GACA,YAAA4D,cAEA,KAAAA,YAAA5D,EACA,KAAAgI,MAAA3O,IAAA6P,gBACA,KAAAlB,MAAA3O,IAAA+O,UAAA,KAAAxE,cAEA,KAAAG,gBACA,EACAjE,gBACA,KAAAkD,MAAA,gBACA,EACAoP,oBACA,MAAAI,EAAA,IAAA7P,KAAA,KAAAmN,UAEA,CAAArN,EAAAA,GAAAA,QAAAA,EAAAA,GAAAA,aAAAgQ,SAAA,KAAAvS,OAEA,KAAAvH,QAAA,KAAAiF,OAAA,KAAAgG,aACA,KAAA/I,SAAA,OAEA,KAAAA,SAAAvB,KAAAoZ,MACA5J,OAAAC,KAAAxN,SAAAoX,UAAAC,uBACA,KAAA5S,aACA,KAAA4D,cAIA,KAAAjL,MAAAyV,GACA,KAAAvT,SACA,KAAAwT,WACAmE,EACA,KAAArS,YAIA,KAAA+O,KACA,KAAAA,KACAoB,MAAA,aAAA/T,MAAA,eAAAyT,cACAqC,IAAA,KACAC,EAAAA,EAAAA,IAAA,KAAA1O,YAAA,KAAA1D,MACArF,SAAA,KAAAA,SACAgB,OAAA,KAAAlD,MACA6Z,eAGA,KAAApO,KAAAyL,OAAAnX,KAAA,CACAmY,MAAA,KAAAjN,YACAhG,KAAA,KAAAA,KACAyK,SAAA,KAAArI,aACAnF,SAAA,KAAAA,SACAgB,OAAA,KAAAlD,MACA6Z,eAIA,KAAAxP,MAAA,yBAAAnI,SAAA,KAAAlC,MACA,EACAoS,iBACA,KAAA/C,MAAA3O,IAAA0R,iBACA,KAAA+E,UAAA,IAAAnN,IACA,EACArC,cAAAuS,GAAA,GACAA,IACA,KAAApO,eAAA,EACA,KAAA8K,wBAAA,GAIA,KAAA3L,YAAA,KACA,KAAAC,sBAAA,EACA,KAAAuL,YAAA,EACA,KAAAE,qBAAA,EACA,KAAAK,kBAAA,EACA,KAAAhM,kBAAA,EAEA,KAAAR,UAAA2P,MAAA,KAEA,KAAAf,UAGA,KAAArC,cAAA,EACA,KAAA1H,MAAA3O,IAAA6P,gBACA,KAAAlB,MAAA3O,IAAAmO,kBACA,KAAAQ,MAAA3O,IAAAyN,eAGA,KAAA9D,MAAA,gBAAA6P,EACA,EACAtN,aACA,KAAAd,eAAA,EACA,KAAAyK,MACA,KAAAA,KACAoB,MAAA,yBAAAN,cACAqC,KAAA,GACA,KAAArP,MAAA,aACA,IC1kBsR,MCQlR,IAAY,OACd,GACA,EACA,GACA,EACA,KACA,WACA,MAIF,GAAe,GAAiB,Q,sBCnB2J,cAAC,IAAGrD,EAAG,KAAUJ,EAAK,EAAC,S,OAAC,MAAQ,CAAS,OAAII,MAAG,gBAA2BmB,YAAY,MAAwBvB,WAAM,GAAC,WAAK,wBAAe,CAACE,EAAG,IAAO,CAAqEF,MAAM,CAAC,MAAO,YAAI0E,CAAE,EAAC,gB,YAAS,wB,MAAiB,CAAyB,kBAAI,CAACtE,EAAG,KAAQ,GAAEF,EAAI2B,gBAAiB,EAAE,MAAOG,EAAK,YAAO,MAAa,CAAgD,MAAO,CAAgD,KAAO,IAEhpBN,GAAAA,CAEJ,MAAe,SAAEA,G,wLC4BjB,IACAS,MAAA,4DCjC+R,MCQ3R,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIF,GAAe,GAAiB,Q,qDCRhC,MAAMqR,GACF7U,YACI8U,EACAC,EACAC,EACAC,GAEApN,KAAKiN,iBAAmBA,EACxBjN,KAAKkN,aAAeA,EACpBlN,KAAKmN,aAAeA,EACpBnN,KAAKoN,iBAAmBA,EACxBpN,KAAKqN,QAAU,IAAItK,OAAOC,KAAKgK,kBAC/BhN,KAAKsN,eAAiB,EAC1B,CAEAC,oBAAoB/W,EAAOgX,EAAsB,GAC7C,IAAIC,EAAQnL,EAAUoL,EACtB,GAAI1N,KAAKoN,iBAAkB,CACvBK,EAAS,GACT,MAAME,EAAY3N,KAAKoN,iBAAiB5W,EAAQ,GAChD8L,EAAW,IAAIS,OAAOC,KAAKkI,OAAOyC,EAAU,GAAIA,EAAU,GAC9D,KAAO,CACH,IAAI3G,EACJ,GACIA,EAAYhH,KAAK4N,wBACb5N,KAAKsN,eAAeZ,SAAS1F,EAAU1E,SAASuL,aAExD7N,KAAKsN,eAAe3a,KAAKqU,EAAU1E,SAASuL,YAE5CJ,EAASzG,EAAUyG,OACnBnL,EAAW0E,EAAU1E,SACrBoL,EAA0B1G,EAAU5R,UACxC,CAEA,OAAO,IAAI0Y,SAASC,IAChB/N,KAAKqN,QAAQW,YACT,CACIpL,SAAUN,EACV2L,WAAY,UACZR,SACAS,QAASlO,KAAKiN,iBAAiBkB,YACzB,CAACpL,OAAOC,KAAKoL,iBAAiBC,QAAStL,OAAOC,KAAKoL,iBAAiBE,QAASvL,OAAOC,KAAKoL,iBAAiBG,QAC1G,CAACxL,OAAOC,KAAKoL,iBAAiBG,UAExChB,MAAO3R,EAAM4S,KAELA,IAAWzL,OAAOC,KAAKyL,iBAAiBC,IACvC9S,GACAA,EAAKgH,UACL5C,KAAK2O,iBAAiB/S,GAIvBmS,QACU/N,KAAK4O,8BACPpY,EACAoF,EACA4R,EACAE,IAPRK,QAAc/N,KAAK6O,cAAcrY,GAUrC,GAEP,GAET,CAEA+W,oCACI/W,EACAoF,EACA4R,EACAE,GAEA,IAAIoB,EAAmBC,GAAkB,EAUzC,GATyB,MAArB/O,KAAKmN,eACL2B,GAAoBE,EAAAA,EAAAA,IAChBC,GAAAA,GAAgB,CACZrT,EAAKgH,SAASuC,OAAOlF,MACrBrE,EAAKgH,SAASuC,OAAO/S,QAEzB4N,KAAKmN,gBAGa,IAAtB2B,GAA+BtB,EAAsB,EACrD,OAAOxN,KAAK6O,cAAcrY,EAAOgX,EAAsB,GACpD,CAKH,IAAI0B,GAHsB,IAAtBJ,IACAC,GAAkB,GAGtB,IACIG,QAAiBlP,KAAKmP,aAAavT,EAGvC,CAFC,MAAMwT,GACH,OAAOpP,KAAK6O,cAAcrY,EAC9B,CAEA,MAAO,CACH6Y,SAAUzT,EACV0T,UAAW5B,GAA2B,KACtC7V,KAAMqX,EACNK,QAASR,EAEjB,CACJ,CAGAnB,kBACI,GAAyB,MAArB5N,KAAKmN,aAAsB,CAC3B,IAAI7K,EACAmL,EACArY,EAAa,KACjB,GAA+B,sBAA3B4K,KAAKmN,aAAa7X,KAA8B,CAChD,IAAIka,EAAUjc,KAAKoZ,MACfpZ,KAAKC,SAAWwM,KAAKmN,aAAa1a,SAASqB,QAG/C,MAAMoB,EAAU8K,KAAKmN,aAAa1a,SAAS+c,GAC3Cpa,EAAaF,EAAQE,WACS,UAA1BF,EAAQM,SAASF,MACjBgN,EAAWpN,EAAQM,SAASC,YAC5BgY,EAAS,KAETA,EAA6C,IAApCgC,EAAAA,EAAAA,KAAmB1d,EAAAA,GAAAA,GAAKmD,IACjCoN,EAAWoN,KAAwBxa,GAE3C,MACIuY,EAAuD,IAA9CgC,EAAAA,EAAAA,KAAmB1d,EAAAA,GAAAA,GAAKiO,KAAKmN,eACtC7K,EAAWoN,KAAwB1P,KAAKmN,cAG5C,MAAO,CACHM,SACAnL,SAAU,IAAIS,OAAOC,KAAKkI,OAAO5I,EAAS,GAAIA,EAAS,IACvDlN,aAER,CAGA,MAAMhD,EAAiD,QAA1CmB,KAAKoc,KAAqB,KAAhBpc,KAAKC,SAAkB,MAAoB,GAC5DyM,EAAsB,IAAhB1M,KAAKC,SAAiB,IAElC,MAAO,CACHia,OAAQ,IACRnL,SAAU,IAAIS,OAAOC,KAAKkI,OAAO9Y,EAAK6N,GACtC7K,WAAY,KAEpB,CAEAuZ,iBAAiB/S,GACb,QACIoE,KAAKiN,iBAAiB2C,sBAEbhU,EAAKiU,WACNjU,EAAKkU,MAAMhc,OAAS,GACnB9B,MAAMC,QAAQ2J,EAAKmU,IAAwB,IAAlBnU,EAAKmU,EAAEjc,QAGjD,CAEAyZ,mBAAmB3R,GACf,GACI,CAACc,EAAAA,GAAAA,QAAmBA,EAAAA,GAAAA,aAAuBgQ,SACvC1M,KAAKkN,aAAa/S,MAExB,CACE,GACI6F,KAAKkN,aAAa/S,OAASuC,EAAAA,GAAAA,SAC1BsD,KAAKkN,aAAa7S,YACf2F,KAAKkN,aAAa7S,WAAWuB,KAAKtG,OAC9B0a,EAAAA,GAAAA,UAER,OAAOC,EAAAA,EAAAA,IACHrU,EAAKgH,SAASuC,OACdnF,KAAKkN,aAAa7S,YACd2F,KAAKkN,aAAa7S,WAAWuB,MAElC,CACH,MAAM/D,EAAOmI,KAAKkN,aAAa5F,UAAU7U,SAASyd,MAC7Chb,IACGib,EAAAA,GAAAA,GACI,CACIvU,EAAKgH,SAASuC,OAAOlF,MACrBrE,EAAKgH,SAASuC,OAAO/S,OAEzB8C,KAIZ,GAAK2C,EAEE,CACH,MAAM4D,EAAMuE,KAAKkN,aAAa7S,WACxB2F,KAAKkN,aAAa7S,WAAWuB,KAAK+K,QAClC,SACN,OAAO9O,EAAKzC,WAAWqG,EAC3B,CANI,MAAM,IAAInH,MAAM,iBAOxB,CACJ,CACJ,EAIJ,UCtNA,IACIsH,OACI,MAAO,CACHwU,SAAS,EAEjB,EACAzT,QAAS,CACL0T,aAAahL,GACTA,EAAMiL,YAActQ,KAAKyD,GAAG,yBAChC,GAEJ8M,UACI5N,OAAO6N,iBAAiB,eAAgBxQ,KAAKqQ,aACjD,EACAI,iBAAiBC,EAAKC,EAAOC,GACzB,GAAK5Q,KAAKoQ,QAQNQ,QARe,CACf,MAAMC,EAASlO,OAAOmO,QAAQ9Q,KAAKyD,GAAG,2BAClCoN,EACAD,IAEAA,GAAK,EAEb,CAGJ,EACAG,gBACIpO,OAAOqO,oBAAoB,eAAgBhR,KAAKqQ,aACpD,GCyHJ,IACA9J,WAAA,CACAuC,YAAA,GACAmI,WAAA,EACAC,KAAA,GACAC,cAAA,GACAtI,mBAAAA,IAEAnH,OAAA,CAAA0P,IACAzV,MAAA,CACA3B,SAAA,CACA4M,QAAA,KACAtR,KAAAmR,QAGA0H,YAAA,CACAvH,SAAA,EACAtR,KAAAuR,SAEA+I,mBAAA,CACAhJ,SAAA,EACAtR,KAAAuR,SAEAoD,aAAA,CACArD,QAAA,KACAtR,KAAA+b,QAEAjT,WAAA,CACAwI,QAAA,KACAtR,KAAAmR,QAEA0G,aAAA,CACAvG,QAAA,KACAtR,KAAA7D,QAEA6M,YAAA,CACAsI,SAAA,EACAtR,KAAAuR,SAEA0B,KAAA,CACA3B,QAAA,EACAtR,KAAA+b,QAEA/I,WAAA,CACA1B,QAAA,IACAtR,KAAA+b,QAEAC,QAAA,CACA1K,QAAA,KACAtR,KAAAtD,OAEAob,iBAAA,CACAxG,QAAA,KACAtR,KAAAtD,OAEAuf,aAAA,CACA3K,QAAAlK,EAAAA,GAAAA,QACApH,KAAAmR,QAEA+K,WAAA,CACA5K,SAAA,EACAtR,KAAAuR,SAEA4K,YAAA,CACA7K,SAAA,EACAtR,KAAAuR,SAEA6K,YAAA,CACA9K,SAAA,EACAtR,KAAAuR,SAEA8K,mBAAA,CACA/K,SAAA,EACAtR,KAAAuR,SAEA+D,UAAA,CACAhE,QAAA,EACAtR,KAAA+b,QAEAjX,UAAA,CACAwM,QAAA4B,EAAAA,GAAAA,OACAlT,KAAAmR,QAEApM,WAAA,CACA/E,KAAA7D,QAEA4N,WAAA,CACA/J,KAAA7D,OACAmgB,UAAA,EACAhL,aAAApU,GAEAqf,gBAAA,CACAvc,KAAA+b,OACAO,UAAA,EACAhL,QAAA,GAEAkL,mBAAA,CACAlL,SAAA,EACAtR,KAAAuR,SAEAkL,iBAAA,CACAnL,SAAA,EACAtR,KAAAuR,UAGAjL,OACA,OACA/D,KAAA,KACAoC,aAAA,KACAyT,wBAAA,KACAxO,MAAA,EACAyJ,YAAA,EACA7S,OAAA,EACAkc,aAAA,EACAxb,MAAA,EACA0T,eAAA,KAAA3B,KACApO,KAAA,KAAAoX,aACApH,WAAA,KAAAwH,mBACArW,QAAA,KAAAqW,mBAAA,QAAAE,gBACA1W,cAAA,EACA8W,QAAA,KACAC,iBAAA,EACAC,qBAAA,EACA3X,SAAA,EACA2O,KAAA,KACApL,SAAA,EACAtD,cAAA,KAAA6D,YACA8T,YAAA,KAAA3O,GAAA,kCACA4O,WAAA,GACAtD,iBAAA,EACAM,SAAA,KAEAnV,eAAA,KAAAoO,WACAvW,KAAA,KAAAuf,QACAtW,yBAAA,EACAsX,cAAA,EAEAC,kBAAA,KACA5X,YAAA,GACAhB,kBAAA,KAAA6G,SAAA9F,WAAA8X,QAAA,KAAAxY,WAAA,KAAA8X,oBAAA,KAAAC,kBACApI,cAAA,EAEA,EACAzN,SAAA,KACA+K,EAAAA,EAAAA,IAAA,mBACA9K,EAAAA,EAAAA,IAAA,iBACA,YAEAlB,sBACA,gBAAAE,cAAA,KAAAmX,aACA,GAEA,iBAEA,KAAAjY,YAAA,KAAAA,WAAAuB,KAAA6W,SACA,KAAAtY,OAAAuC,EAAAA,GAAAA,gBAEA,KAAA2K,UACA,KAAAhN,YAAA,KAAAA,WAAAuB,KAAA6W,eAGA,KAAAzQ,sBACA,KAAAqN,SAAA,IAAAtM,OAAAC,KAAA0P,mBACA,KAAAzQ,MAAA0Q,YAGA,KAAAJ,oBACA,KAAAA,kBAAA,IAAAvF,GACA,CAAAmB,YAAA,KAAAA,YAAAyB,mBAAA,KAAAA,oBACA,CAAAzV,KAAA,KAAAA,KAAAE,WAAA,KAAAA,WAAAiN,UAAA,KAAAA,WACA,KAAA6F,aACA,KAAAC,mBAIA,KAAA9O,aAaA,KAAAtE,UACA,KAAA4Y,WAGA,KAAAzJ,KAAAiB,EAAAA,EAAAA,WAAA3Q,IAAA,KAAAO,UAEA,SAAAiQ,oBACA,KAAA4I,iBAGA,KAAA1J,KAAAoB,MAAA,UAAA+B,KAAA,GACA,KAAAnD,KAAAjL,GAAA,SAAAmM,IAEA,GAAAA,EAAAC,SAAA,WAwBA,GAtBA,KAAAyH,iBACA,KAAApX,YAAAlJ,OAAAqhB,QAAAzI,EAAAG,MAAApM,YAAA9K,KAAAyf,IACA,CACApK,YAAA,KAAAhO,YAAAuV,MAAA8C,GAAAA,EAAAzd,KAAAwd,EAAA,MAAApK,aAAA,EACAzJ,MAAAmL,EAAAG,OAAAgB,cAAAuH,EAAA,OACAnT,KAAAmT,EAAA,GACAxd,GAAAwd,EAAA,GACAnK,UAAAyB,EAAAG,OAAAM,QAAAiI,EAAA,QAGA,KAAAjB,qBACA,KAAAnX,YAAAlJ,OAAAqhB,QAAAzI,EAAAG,MAAApM,YAAA9K,KAAAyf,IACA,CACAnT,KAAAmT,EAAA,GACAnK,UAAAyB,EAAAG,OAAAM,QAAAiI,EAAA,IACAxd,GAAAwd,EAAA,SAQA1I,EACAE,MAAA,aAAA/T,OACA8T,SAAA,cAAAL,gBAEA,KAAAd,KACAoB,MAAA,aAAA/T,OACA+T,MAAA,cAAAN,cACAqC,IAAA,GAGA,QAAArC,cAAA,CACA,IAAAgJ,EAAA5I,EACAE,MACA,mBACA,KAAA/T,MACA,aAEAgU,MACA0I,EAAA7I,EACAE,MACA,mBACA,KAAA/T,MACA,cAEAgU,MAEA,KAAA3S,KAAAwS,EACAE,MACA,wBAAA/T,MAAA,SAEAgU,MACA,KAAAuE,gBAAA1E,EACAE,MACA,wBAAA/T,MAAA,YAEAgU,MACA,KAAAkD,wBAAArD,EACAE,MACA,mBACA,KAAA/T,MACA,cAEAgU,MACA,KAAAvQ,aAAA,IAAA8I,OAAAC,KAAAkI,OACA+H,EACAC,GAEA,KAAAnZ,eACA,CAMAsQ,EAAAE,MAAA,aAAA/T,OAAAqU,gBACAR,EAAAE,MAAA,QAAAC,OACA,KAAAzM,UAGA,KAAAtD,eAAA,EACA,KAAA4X,WAAA,GAEA,KAAAtU,SAAA,EACA,KAAAkE,MAAAkR,aAAAnO,iBAGA,KAAAkF,eAAAG,EACAE,MAAA,kBACAC,MAEA,QAAAN,iBACA,KAAAgI,kBACA,KAAApG,UAAA,KAAA5B,gBACA,KAAAgI,iBAAA,KAOA7H,EAAAE,MAAA,cAAAM,eACAR,EAAAE,MAAA,QAAAC,QAEA,KAAArB,KAAAoB,MAAA,UAAAG,SACA,KAAAvB,KAAAiK,MACA,KAAAjK,KAAAuB,SAEA,MAEA,KAAAkI,UACA,YA5IA,KAAAC,iBACA,KAAA5Q,MAAAkR,aAAAnO,iBAEA,QAAAkF,iBACA,KAAAgI,kBACA,KAAApG,UAAA,KAAA5B,gBACA,KAAAgI,iBAAA,IAGA,KAAAnU,SAAA,GAuIA,KAAAkE,MAAAoR,OAAApX,YACA,EACA8U,gBACAuC,SAAAC,cAAA,mBACAD,SACAC,cAAA,iBACAvC,oBAAA,eAAAwC,wBAEAF,SACAC,cAAA,iBACAvC,oBACA,YACA,KAAAyC,2BAGA9Q,OAAAqO,oBAAA,oBAAAX,cACA,KAAAlH,OAGA,KAAAA,KAAAoB,MAAA,UAAAG,SACA,KAAAvB,KAAAiK,MAEA,EACAzW,QAAA,KACAqL,EAAAA,EAAAA,IAAA,eACA,uBACA,aAAAqH,EAAA,UAAAC,EAAA,QAAAC,EAAA,KAAA1X,SAAA,KAAA0a,kBAAA1D,cAAA,KAAArY,OACA,KAAAyD,aAAAoV,EAAAzM,SAAAuC,OACA,KAAAuI,wBAAA4B,EACA,KAAAzX,KAAAA,EACA,KAAA6b,YAAArE,GAEA,KAAA/Q,aAEA,KAAA6K,KACAoB,MAAA,wBAAA/T,OACA8V,IAAA,CACAqH,SAAA,KAAA1Z,aAAA7H,MACAwhB,UAAA,KAAA3Z,aAAAgG,MACAqP,UAAAA,KACAzX,GAAA,CAAAA,QACA0X,WAIA,EACAxV,gBACA,MAAAsT,EAAA,IAAAtK,OAAAC,KAAAgK,kBACAK,EAAAW,YACA,CACApL,SAAA,KAAA3I,aACAgU,WAAA,UACAR,OAAA,GACAS,QAAA,KAAAC,YACA,CAAApL,OAAAC,KAAAoL,iBAAAC,QAAAtL,OAAAC,KAAAoL,iBAAAE,QAAAvL,OAAAC,KAAAoL,iBAAAG,QACA,CAAAxL,OAAAC,KAAAoL,iBAAAG,SAEA,KAAAmF,YAEA,EACAA,YAAA9X,GACA,KAAAyT,SAAAwE,WAAA,CACAC,gBAAA,EACA5T,mBAAA,EACA6T,gBAAA,EACAC,uBAAA,EACAC,gBAAA,EACAzC,WAAA,KAAAA,WACAC,YAAA,KAAAA,YACAyC,YAAA,KAAAzC,YACA0C,wBAAA,KAAA1C,YACA2C,aAAA,KAAA1C,YACA2C,UAAA,KAAA3C,cAGA4B,SAAAC,cAAA,yCACAD,SACAC,cAAA,wCACA7I,SACAwB,YAAA,KACAoH,SAAAC,cAAA,mBACAD,SACAC,cAAA,iBACA/C,iBACA,UACA,KAAAgD,wBAGAF,SACAC,cAAA,iBACA/C,iBACA,YACA,KAAAiD,0BAEAH,SACAC,cAAA,iBACA/C,iBACA,aACA,KAAAiD,0BAEAH,SACAC,cAAA,iBACA/C,iBACA,cACA,KAAAiD,0BAEA,GACA,IAEA7X,GAAAA,EAAAgH,UACA,KAAAyM,SAAAiF,QAAA1Y,EAAAgH,SAAA2R,MACA,KAAAlF,SAAAmF,OAAA,CACAC,QAAA,IACAC,MAAA,IAEA,KAAArF,SAAA/N,QAAA,EACA,EACAwK,UAAAvD,EAAAoM,GACA,MAAAC,EAAA,IAAAhY,KACAgY,EAAAC,WAAAD,EAAAE,aAAAvM,GACAoM,IACA,KAAArC,cAAA/J,EACA,KAAAvN,yBAAA,GAEA,KAAAkX,gBACA,KAAAD,QAAA,KAAAA,QAAA2C,EAAAA,EAAA,KAAA3C,SAEA,KAAAA,QAAA2C,EACA,KAAA3Y,aAEA,EACAA,WAAAzF,EAAA,KAAAA,OACAA,IAAA,KAAAA,QACA,KAAA2E,cAAA5H,KAAA6N,IACA,EACA7N,KAAAiD,OAAA,KAAAyb,QAAArV,KAAAE,OAAA,MAEA,KAAA3B,cAAA,EACA+Q,YAAA,KACA,KAAAjQ,WAAAzF,EAAA,GACA,MAEA,KAAAue,iBAAA,EACA,KAAA5C,sBAEA,CAAAzV,EAAAA,GAAAA,QAAAA,EAAAA,GAAAA,aAAAgQ,SACA,KAAAvS,MAGA,KAAA8H,MAAAkR,aAAA3G,sBACAwI,EAAAA,EAAAA,IACA,KAAA1N,UACA,KAAAjN,WACA,KAAAA,WAAAuB,KAAA+K,QACA,WAKA,KAAA1E,MAAAkR,aAAA3G,qBACA,KAAA+F,kBAAA3E,kBAAAtL,YAMA,EACA2S,YAAAngB,EAAAgB,GAEA,KAAAqc,qBAAA,EACA,KAAA7T,cACA,KAAAnD,cAAA,GAEA,KAAA+D,OAAApK,EACA,KAAAgB,QAAAA,EAEA,KAAAwI,cACA,KAAA6K,KACAoB,MAAA,yBAAAN,cACAqC,IAAA,KAAApN,OACA,KAAAiK,KACAoB,MAAA,0BAAAN,cACAqC,IAAA,KAAAxW,QAGA,KAAAsc,YAAA,KAAA3O,GAAA,kCACA,KAAAhJ,eAAA,EAEA,EACAH,aACA,KAAAqO,YAAA,KAAAzJ,MACA,KAAA8S,aAAA,KAAAlc,OACA,KAAAqF,cAAA,EACA,KAAAV,eAAA,EACA,KAAAO,yBAAA,EACA,KAAAR,SAAA,EACA,KAAAyH,MAAAoR,OAAAtW,YAGA,QAAAgW,KAAAthB,OAAAqhB,QAAA,KAAAnY,aACAoY,EAAA,GAAApK,YAAAoK,EAAA,GAAA7T,KAEA,EACA,oBAAAgW,GAAA,GACAA,IACA,KAAA1e,MAAA,EACA,KAAAmS,YAAA,EACA,KAAAqJ,aAAA,EACA,KAAA9S,MAAA,EACA,KAAApJ,OAAA,GAEA,KAAAiI,SAAA,EAGA,KAAA9D,aAAA,KACA,KAAApC,KAAA,KACA,KAAA2C,SAAA,EACA,KAAA0X,iBAAA,EACA,KAAAC,qBAAA,EACA,KAAApD,iBAAA,EACA,KAAArB,wBAAA,KAEA,KAAApP,cACA,KAAA7D,eAAA,EACA,KAAAsD,SAAA,GAIA,KAAAvH,OAAA,EAEA,QAAAyT,cAAA,KAAA3L,YAQA,KAAA6K,KACAoB,MAAA,sBAAAN,cACAqC,IAAA,KAAA9V,cATA,KAAAqc,iBACA,KAAAvU,aAAA,QAAA4L,gBACA,KAAA4B,UAAA,KAAA5B,iBASA,KAAAjI,MAAAkR,aAAAnO,iBAEA,KAAAjH,SAAA,KAAAO,WACA,EACAsU,WAEA,KAAAR,YAAA,KAAA3O,GAAA,iCACA,KAAA4O,WAAA,KAAA5O,GAAA,uBACA,KAAAhJ,eAAA,EACA,KAAA2V,SAAA,EACA,KAAAjH,MACA,KAAAA,KAAAiK,MACA,KAAAjK,KAAAuB,SACA,KAAAyK,QAAAxiB,KAAA,aAEA,KAAAwiB,QAAAxiB,KAAA,IAEA,EACA6M,aACA,KAAA4Q,SAAA,EACA,KAAA9R,aAIA,KAAA8T,YAAA,KAAA3O,GACA,0CAEA,KAAA4O,WAAA,GACA,KAAA5X,eAAA,GAPA,KAAA0a,QAAAxiB,KAAA,WASA,EACA6gB,uBAAAtO,KAEA,KAAAwM,aACA,iBAAAhF,SAAAxH,EAAAkQ,WACA,KAAA3D,aACA,kBAAA/E,SAAAxH,EAAAkQ,WACA,KAAA5D,YACA,sBAAA9E,SAAAxH,EAAAkQ,WAEAlQ,EAAAmQ,iBAEA,EACA5B,yBAAAvO,GACA,KAAAsM,YAAAtM,EAAAmQ,iBACA,ICpvB4R,MCQxR,IAAY,OACd,GACAtV,EACA7E,GACA,EACA,KACA,WACA,MAIF,GAAe,GAAiB,O,uBCjBhC,MAAMnJ,EAAO,UACPyB,EAAS,EAAQ,MACjB2c,EAAwB,UAY9B,SAAST,EAAwBvb,GAC/B,IAAIA,IAAYA,EAAQmB,MAAyB,YAAjBnB,EAAQmB,OAAqF,IAA/D,CAAC,UAAU,gBAAgBgD,QAAQnE,EAAQqB,SAASF,MAChH,MAAM,IAAIhB,MAAM,2DAElB,IAAKgO,EACL,MAAMgP,EAAUvf,EAAKoC,GACrB,GACEmO,EAAW9O,EAAO1B,eAAewf,UAE3BnB,EAAsB7N,EAAUnO,IAExC,OAAOmO,CACT,CAEAgT,EAAO3jB,QAAU+d,C,uBC5BjB,IAAI6F,EAAS,EAAQ,MAerB,SAASxjB,EAAKyjB,GACV,IAAIC,EAAS,CAACC,IAAUA,KAAWA,KAAWA,KAe9C,OAdAH,EAAOI,UAAUH,GAAS,SAAUI,GAC5BH,EAAO,GAAKG,EAAM,KAClBH,EAAO,GAAKG,EAAM,IAElBH,EAAO,GAAKG,EAAM,KAClBH,EAAO,GAAKG,EAAM,IAElBH,EAAO,GAAKG,EAAM,KAClBH,EAAO,GAAKG,EAAM,IAElBH,EAAO,GAAKG,EAAM,KAClBH,EAAO,GAAKG,EAAM,GAE1B,IACOH,CACX,CACA1jB,EAAK,WAAaA,EAClBJ,EAAQ,EAAUI,C,uBClClB,IAAI8jB,EAAc,EAAQ,MA4B1B,SAAS1F,EAAsBvd,EAAOuB,EAAS5B,GAG3C,QAFgB,IAAZA,IAAsBA,EAAU,CAAC,IAEhCK,EACD,MAAM,IAAI0B,MAAM,qBAEpB,IAAKH,EACD,MAAM,IAAIG,MAAM,uBAEpB,IAAIwhB,EAAKD,EAAYE,SAASnjB,GAC1BuC,EAAO0gB,EAAYG,QAAQ7hB,GAC3BmB,EAAOH,EAAKG,KACZvD,EAAOoC,EAAQpC,KACfkkB,EAAQ9gB,EAAKM,YAEjB,GAAI1D,IAA6B,IAArBmkB,EAAOJ,EAAI/jB,GACnB,OAAO,EAGE,YAATuD,IACA2gB,EAAQ,CAACA,IAGb,IADA,IAAIE,GAAa,EACRzjB,EAAI,EAAGA,EAAIujB,EAAMniB,SAAWqiB,EAAYzjB,IAE7C,GAAI0jB,EAAON,EAAIG,EAAMvjB,GAAG,GAAIH,EAAQ8jB,gBAAiB,CACjD,IAAIC,GAAS,EACTC,EAAI,EAER,MAAOA,EAAIN,EAAMvjB,GAAGoB,SAAWwiB,EACvBF,EAAON,EAAIG,EAAMvjB,GAAG6jB,IAAKhkB,EAAQ8jB,kBACjCC,GAAS,GAEbC,IAECD,IACDH,GAAa,EAErB,CAEJ,OAAOA,CACX,CAWA,SAASC,EAAON,EAAI5f,EAAMmgB,GACtB,IAAIG,GAAW,EACXtgB,EAAK,GAAG,KAAOA,EAAKA,EAAKpC,OAAS,GAAG,IACrCoC,EAAK,GAAG,KAAOA,EAAKA,EAAKpC,OAAS,GAAG,KACrCoC,EAAOA,EAAKugB,MAAM,EAAGvgB,EAAKpC,OAAS,IAEvC,IAAK,IAAIpB,EAAI,EAAGgC,EAAIwB,EAAKpC,OAAS,EAAGpB,EAAIwD,EAAKpC,OAAQY,EAAIhC,IAAK,CAC3D,IAAIgkB,EAAKxgB,EAAKxD,GAAG,GACbikB,EAAKzgB,EAAKxD,GAAG,GACbkkB,EAAK1gB,EAAKxB,GAAG,GACbmiB,EAAK3gB,EAAKxB,GAAG,GACboiB,EAAahB,EAAG,IAAMY,EAAKE,GAAMD,GAAMC,EAAKd,EAAG,IAAMe,GAAMf,EAAG,GAAKY,KAAQ,IAC1EA,EAAKZ,EAAG,KAAOc,EAAKd,EAAG,KAAO,IAC9Ba,EAAKb,EAAG,KAAOe,EAAKf,EAAG,KAAO,EACnC,GAAIgB,EACA,OAAQT,EAEZ,IAAIU,EAAYJ,EAAKb,EAAG,KAAOe,EAAKf,EAAG,IACnCA,EAAG,IAAOc,EAAKF,IAAOZ,EAAG,GAAKa,IAAQE,EAAKF,GAAMD,EACjDK,IACAP,GAAYA,EAEpB,CACA,OAAOA,CACX,CASA,SAASN,EAAOJ,EAAI/jB,GAChB,OAAQA,EAAK,IAAM+jB,EAAG,IAAM/jB,EAAK,IAAM+jB,EAAG,IAAM/jB,EAAK,IAAM+jB,EAAG,IAAM/jB,EAAK,IAAM+jB,EAAG,EACtF,CA7CAnkB,EAAQ,EAAUwe,C,qBC4BlB,SAASjb,EAAQC,EAAMC,EAAY7C,QACf,IAAZA,IAAsBA,EAAU,CAAC,GACrC,IAAI8C,EAAO,CAAEC,KAAM,WASnB,OARmB,IAAf/C,EAAQgD,IAAYhD,EAAQgD,MAC5BF,EAAKE,GAAKhD,EAAQgD,IAElBhD,EAAQR,OACRsD,EAAKtD,KAAOQ,EAAQR,MAExBsD,EAAKD,WAAaA,GAAc,CAAC,EACjCC,EAAKG,SAAWL,EACTE,CACX,CAiBA,SAASG,EAASF,EAAMG,EAAaC,GAEjC,YADiB,IAAbA,IAAuBA,EAAW,CAAC,GAC/BJ,GACJ,IAAK,QACD,OAAO1C,EAAM6C,GAAaD,SAC9B,IAAK,aACD,OAAOT,EAAWU,GAAaD,SACnC,IAAK,UACD,OAAOrB,EAAQsB,GAAaD,SAChC,IAAK,aACD,OAAOG,EAAWF,GAAaD,SACnC,IAAK,kBACD,OAAOI,EAAgBH,GAAaD,SACxC,IAAK,eACD,OAAOK,EAAaJ,GAAaD,SACrC,QACI,MAAM,IAAIlB,MAAMgB,EAAO,eAEnC,CAiBA,SAAS1C,EAAM6C,EAAaL,EAAY7C,GAEpC,QADgB,IAAZA,IAAsBA,EAAU,CAAC,IAChCkD,EACD,MAAM,IAAInB,MAAM,2BAEpB,IAAKtC,MAAMC,QAAQwD,GACf,MAAM,IAAInB,MAAM,gCAEpB,GAAImB,EAAY3B,OAAS,EACrB,MAAM,IAAIQ,MAAM,+CAEpB,IAAKvB,EAAS0C,EAAY,MAAQ1C,EAAS0C,EAAY,IACnD,MAAM,IAAInB,MAAM,oCAEpB,IAAIa,EAAO,CACPG,KAAM,QACNG,YAAaA,GAEjB,OAAOP,EAAQC,EAAMC,EAAY7C,EACrC,CAsBA,SAASuD,EAAOL,EAAaL,EAAY7C,GAErC,YADgB,IAAZA,IAAsBA,EAAU,CAAC,GAC9BM,EAAkB4C,EAAYnC,KAAI,SAAUyC,GAC/C,OAAOnD,EAAMmD,EAAQX,EACzB,IAAI7C,EACR,CAiBA,SAAS4B,EAAQsB,EAAaL,EAAY7C,QACtB,IAAZA,IAAsBA,EAAU,CAAC,GACrC,IAAK,IAAIyD,EAAK,EAAGC,EAAgBR,EAAaO,EAAKC,EAAcnC,OAAQkC,IAAM,CAC3E,IAAIE,EAAOD,EAAcD,GACzB,GAAIE,EAAKpC,OAAS,EACd,MAAM,IAAIQ,MAAM,+DAEpB,IAAK,IAAII,EAAI,EAAGA,EAAIwB,EAAKA,EAAKpC,OAAS,GAAGA,OAAQY,IAE9C,GAAIwB,EAAKA,EAAKpC,OAAS,GAAGY,KAAOwB,EAAK,GAAGxB,GACrC,MAAM,IAAIJ,MAAM,8CAG5B,CACA,IAAIa,EAAO,CACPG,KAAM,UACNG,YAAaA,GAEjB,OAAOP,EAAQC,EAAMC,EAAY7C,EACrC,CAoBA,SAAS4D,EAASV,EAAaL,EAAY7C,GAEvC,YADgB,IAAZA,IAAsBA,EAAU,CAAC,GAC9BM,EAAkB4C,EAAYnC,KAAI,SAAUyC,GAC/C,OAAO5B,EAAQ4B,EAAQX,EAC3B,IAAI7C,EACR,CAmBA,SAASwC,EAAWU,EAAaL,EAAY7C,GAEzC,QADgB,IAAZA,IAAsBA,EAAU,CAAC,GACjCkD,EAAY3B,OAAS,EACrB,MAAM,IAAIQ,MAAM,yDAEpB,IAAIa,EAAO,CACPG,KAAM,aACNG,YAAaA,GAEjB,OAAOP,EAAQC,EAAMC,EAAY7C,EACrC,CAqBA,SAAS6D,EAAYX,EAAaL,EAAY7C,GAE1C,YADgB,IAAZA,IAAsBA,EAAU,CAAC,GAC9BM,EAAkB4C,EAAYnC,KAAI,SAAUyC,GAC/C,OAAOhB,EAAWgB,EAAQX,EAC9B,IAAI7C,EACR,CAwBA,SAASM,EAAkBJ,EAAUF,QACjB,IAAZA,IAAsBA,EAAU,CAAC,GACrC,IAAI8D,EAAK,CAAEf,KAAM,qBAQjB,OAPI/C,EAAQgD,KACRc,EAAGd,GAAKhD,EAAQgD,IAEhBhD,EAAQR,OACRsE,EAAGtE,KAAOQ,EAAQR,MAEtBsE,EAAG5D,SAAWA,EACP4D,CACX,CAmBA,SAAST,EAAgBH,EAAaL,EAAY7C,QAC9B,IAAZA,IAAsBA,EAAU,CAAC,GACrC,IAAI4C,EAAO,CACPG,KAAM,kBACNG,YAAaA,GAEjB,OAAOP,EAAQC,EAAMC,EAAY7C,EACrC,CAmBA,SAASoD,EAAWF,EAAaL,EAAY7C,QACzB,IAAZA,IAAsBA,EAAU,CAAC,GACrC,IAAI4C,EAAO,CACPG,KAAM,aACNG,YAAaA,GAEjB,OAAOP,EAAQC,EAAMC,EAAY7C,EACrC,CAoBA,SAASsD,EAAaJ,EAAaL,EAAY7C,QAC3B,IAAZA,IAAsBA,EAAU,CAAC,GACrC,IAAI4C,EAAO,CACPG,KAAM,eACNG,YAAaA,GAEjB,OAAOP,EAAQC,EAAMC,EAAY7C,EACrC,CAoBA,SAAS+D,EAAmBC,EAAYnB,EAAY7C,QAChC,IAAZA,IAAsBA,EAAU,CAAC,GACrC,IAAI4C,EAAO,CACPG,KAAM,qBACNiB,WAAYA,GAEhB,OAAOrB,EAAQC,EAAMC,EAAY7C,EACrC,CAeA,SAASiE,EAAMC,EAAKC,GAEhB,QADkB,IAAdA,IAAwBA,EAAY,GACpCA,KAAeA,GAAa,GAC5B,MAAM,IAAIpC,MAAM,uCAEpB,IAAIqC,EAAapD,KAAKqD,IAAI,GAAIF,GAAa,GAC3C,OAAOnD,KAAKiD,MAAMC,EAAME,GAAcA,CAC1C,CAYA,SAASE,EAAgBC,EAASC,QAChB,IAAVA,IAAoBA,EAAQ,cAChC,IAAIC,EAASrF,EAAQsF,QAAQF,GAC7B,IAAKC,EACD,MAAM,IAAI1C,MAAMyC,EAAQ,qBAE5B,OAAOD,EAAUE,CACrB,CAYA,SAASE,EAAgBpC,EAAUiC,QACjB,IAAVA,IAAoBA,EAAQ,cAChC,IAAIC,EAASrF,EAAQsF,QAAQF,GAC7B,IAAKC,EACD,MAAM,IAAI1C,MAAMyC,EAAQ,qBAE5B,OAAOjC,EAAWkC,CACtB,CAYA,SAASG,EAAgBrC,EAAUiC,GAC/B,OAAOK,EAAiBF,EAAgBpC,EAAUiC,GACtD,CAUA,SAASM,EAAiBC,GACtB,IAAIzC,EAAQyC,EAAU,IAItB,OAHIzC,EAAQ,IACRA,GAAS,KAENA,CACX,CASA,SAASuC,EAAiBN,GACtB,IAAIS,EAAUT,GAAW,EAAIvD,KAAKM,IAClC,OAAkB,IAAV0D,EAAiBhE,KAAKM,EAClC,CASA,SAAS2D,EAAiBD,GACtB,IAAIT,EAAUS,EAAU,IACxB,OAAQT,EAAUvD,KAAKM,GAAM,GACjC,CAWA,SAAS4D,EAAc3D,EAAQ4D,EAAcC,GAGzC,QAFqB,IAAjBD,IAA2BA,EAAe,mBAC5B,IAAdC,IAAwBA,EAAY,gBAClC7D,GAAU,GACZ,MAAM,IAAIQ,MAAM,oCAEpB,OAAOuC,EAAgBK,EAAgBpD,EAAQ4D,GAAeC,EAClE,CAUA,SAASC,EAAYC,EAAMH,EAAcC,GAGrC,QAFqB,IAAjBD,IAA2BA,EAAe,eAC5B,IAAdC,IAAwBA,EAAY,gBAClCE,GAAQ,GACV,MAAM,IAAIvD,MAAM,kCAEpB,IAAIwD,EAAcnG,EAAQoG,YAAYL,GACtC,IAAKI,EACD,MAAM,IAAIxD,MAAM,0BAEpB,IAAI0D,EAAcrG,EAAQoG,YAAYJ,GACtC,IAAKK,EACD,MAAM,IAAI1D,MAAM,uBAEpB,OAAQuD,EAAOC,EAAeE,CAClC,CAaA,SAASjF,EAAS0D,GACd,OAAQwB,MAAMxB,IAAgB,OAARA,IAAiBzE,MAAMC,QAAQwE,EACzD,CAaA,SAASpC,EAAS6D,GACd,QAASA,GAASA,EAAMC,cAAgB1G,MAC5C,CAuBA,SAAS2G,EAAarG,GAClB,IAAKA,EACD,MAAM,IAAIuC,MAAM,oBAEpB,IAAKtC,MAAMC,QAAQF,GACf,MAAM,IAAIuC,MAAM,yBAEpB,GAAoB,IAAhBvC,EAAK+B,QAAgC,IAAhB/B,EAAK+B,OAC1B,MAAM,IAAIQ,MAAM,2CAEpBvC,EAAK0B,SAAQ,SAAUgD,GACnB,IAAK1D,EAAS0D,GACV,MAAM,IAAInC,MAAM,iCAExB,GACJ,CAuBA,SAAS+D,EAAW9C,GAChB,IAAKA,EACD,MAAM,IAAIjB,MAAM,kBAEpB,IAAiD,IAA7C,CAAC,SAAU,UAAUgE,eAAe/C,GACpC,MAAM,IAAIjB,MAAM,kCAExB,CAjtBA7C,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IAUtDD,EAAQ4G,YAAc,UAOtB5G,EAAQsF,QAAU,CACduB,YAAmC,IAAtB7G,EAAQ4G,YACrBE,YAAmC,IAAtB9G,EAAQ4G,YACrBhB,QAAS5F,EAAQ4G,YAAc,OAC/BG,KAA4B,QAAtB/G,EAAQ4G,YACdI,OAA8B,MAAtBhH,EAAQ4G,YAChBK,WAAYjH,EAAQ4G,YAAc,IAClCM,WAAYlH,EAAQ4G,YAAc,IAClCO,OAAQnH,EAAQ4G,YAChBQ,OAAQpH,EAAQ4G,YAChBS,MAAOrH,EAAQ4G,YAAc,SAC7BU,YAAmC,IAAtBtH,EAAQ4G,YACrBW,YAAmC,IAAtBvH,EAAQ4G,YACrBY,cAAexH,EAAQ4G,YAAc,KACrCzB,QAAS,EACTsC,MAA6B,OAAtBzH,EAAQ4G,aAQnB5G,EAAQ0H,aAAe,CACnBb,YAAa,IACbC,YAAa,IACblB,QAAS,EAAI,OACbmB,KAAM,QACNC,OAAQ,MACRC,WAAY,KACZC,WAAY,KACZC,OAAQ,EACRC,OAAQ,EACRC,MAAO,EAAI,SACXC,YAAa,IACbC,YAAa,IACbC,cAAe,EAAI,KACnBrC,QAAS,EAAInF,EAAQ4G,YACrBa,MAAO,WAQXzH,EAAQoG,YAAc,CAClBuB,MAAO,UACPd,YAAa,IACbC,YAAa,IACbC,KAAM,aACNa,SAAU,KACVZ,OAAQ,eACRC,WAAY,KACZC,WAAY,KACZC,OAAQ,EACRC,OAAQ,EACRC,MAAO,OACPC,YAAa,IACbC,YAAa,IACbE,MAAO,aAmCXzH,EAAQuD,QAAUA,EAmClBvD,EAAQ6D,SAAWA,EAoCnB7D,EAAQiB,MAAQA,EA2BhBjB,EAAQmE,OAASA,EAoCjBnE,EAAQwC,QAAUA,EAyBlBxC,EAAQwE,SAAWA,EA6BnBxE,EAAQoD,WAAaA,EA0BrBpD,EAAQyE,YAAcA,EAmCtBzE,EAAQkB,kBAAoBA,EA0B5BlB,EAAQiE,gBAAkBA,EA0B1BjE,EAAQgE,WAAaA,EA2BrBhE,EAAQkE,aAAeA,EA2BvBlE,EAAQ2E,mBAAqBA,EAsB7B3E,EAAQ6E,MAAQA,EAmBhB7E,EAAQkF,gBAAkBA,EAmB1BlF,EAAQuF,gBAAkBA,EAc1BvF,EAAQwF,gBAAkBA,EAgB1BxF,EAAQ0F,iBAAmBA,EAY3B1F,EAAQyF,iBAAmBA,EAY3BzF,EAAQ6F,iBAAmBA,EAkB3B7F,EAAQ8F,cAAgBA,EAyBxB9F,EAAQiG,YAAcA,EAetBjG,EAAQoB,SAAWA,EAenBpB,EAAQ0C,SAAWA,EAsCnB1C,EAAQyG,aAAeA,EA8BvBzG,EAAQ0G,WAAaA,C,uBCltBrB5G,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAIC,EAAY,EAAQ,MAaxB,SAASkkB,EAASH,GACd,IAAKA,EACD,MAAM,IAAIthB,MAAM,qBAEpB,IAAKtC,MAAMC,QAAQ2jB,GAAQ,CACvB,GAAmB,YAAfA,EAAMtgB,MACa,OAAnBsgB,EAAMpgB,UACkB,UAAxBogB,EAAMpgB,SAASF,KACf,OAAOsgB,EAAMpgB,SAASC,YAE1B,GAAmB,UAAfmgB,EAAMtgB,KACN,OAAOsgB,EAAMngB,WAErB,CACA,GAAIzD,MAAMC,QAAQ2jB,IACdA,EAAM9hB,QAAU,IACf9B,MAAMC,QAAQ2jB,EAAM,MACpB5jB,MAAMC,QAAQ2jB,EAAM,IACrB,OAAOA,EAEX,MAAM,IAAIthB,MAAM,qDACpB,CAcA,SAAS0iB,EAAUjhB,GACf,GAAI/D,MAAMC,QAAQ8D,GACd,OAAOA,EAGX,GAAoB,YAAhBA,EAAOT,MACP,GAAwB,OAApBS,EAAOP,SACP,OAAOO,EAAOP,SAASC,iBAK3B,GAAIM,EAAON,YACP,OAAOM,EAAON,YAGtB,MAAM,IAAInB,MAAM,8DACpB,CASA,SAAS2iB,EAAexhB,GACpB,GAAIA,EAAY3B,OAAS,GACrBjC,EAAUkB,SAAS0C,EAAY,KAC/B5D,EAAUkB,SAAS0C,EAAY,IAC/B,OAAO,EAEX,GAAIzD,MAAMC,QAAQwD,EAAY,KAAOA,EAAY,GAAG3B,OAChD,OAAOmjB,EAAexhB,EAAY,IAEtC,MAAM,IAAInB,MAAM,wCACpB,CAWA,SAAS4iB,EAAYtlB,EAAO0D,EAAMsK,GAC9B,IAAKtK,IAASsK,EACV,MAAM,IAAItL,MAAM,0BAEpB,IAAK1C,GAASA,EAAM0D,OAASA,EACzB,MAAM,IAAIhB,MAAM,oBACZsL,EACA,eACAtK,EACA,WACA1D,EAAM0D,KAElB,CAYA,SAAS6hB,EAAUjiB,EAASI,EAAMsK,GAC9B,IAAK1K,EACD,MAAM,IAAIZ,MAAM,qBAEpB,IAAKsL,EACD,MAAM,IAAItL,MAAM,gCAEpB,IAAKY,GAA4B,YAAjBA,EAAQI,OAAuBJ,EAAQM,SACnD,MAAM,IAAIlB,MAAM,oBAAsBsL,EAAO,oCAEjD,IAAK1K,EAAQM,UAAYN,EAAQM,SAASF,OAASA,EAC/C,MAAM,IAAIhB,MAAM,oBACZsL,EACA,eACAtK,EACA,WACAJ,EAAQM,SAASF,KAE7B,CAYA,SAAS8hB,EAAavkB,EAAmByC,EAAMsK,GAC3C,IAAK/M,EACD,MAAM,IAAIyB,MAAM,+BAEpB,IAAKsL,EACD,MAAM,IAAItL,MAAM,mCAEpB,IAAKzB,GAAgD,sBAA3BA,EAAkByC,KACxC,MAAM,IAAIhB,MAAM,oBAAsBsL,EAAO,gCAEjD,IAAK,IAAI5J,EAAK,EAAGqhB,EAAKxkB,EAAkBJ,SAAUuD,EAAKqhB,EAAGvjB,OAAQkC,IAAM,CACpE,IAAId,EAAUmiB,EAAGrhB,GACjB,IAAKd,GAA4B,YAAjBA,EAAQI,OAAuBJ,EAAQM,SACnD,MAAM,IAAIlB,MAAM,oBAAsBsL,EAAO,oCAEjD,IAAK1K,EAAQM,UAAYN,EAAQM,SAASF,OAASA,EAC/C,MAAM,IAAIhB,MAAM,oBACZsL,EACA,eACAtK,EACA,WACAJ,EAAQM,SAASF,KAE7B,CACJ,CAoBA,SAAS0gB,EAAQR,GACb,MAAqB,YAAjBA,EAAQlgB,KACDkgB,EAAQhgB,SAEZggB,CACX,CAoBA,SAAS8B,EAAQ9B,EAAS+B,GACtB,MAAqB,sBAAjB/B,EAAQlgB,KACD,oBAEU,uBAAjBkgB,EAAQlgB,KACD,qBAEU,YAAjBkgB,EAAQlgB,MAA2C,OAArBkgB,EAAQhgB,SAC/BggB,EAAQhgB,SAASF,KAErBkgB,EAAQlgB,IACnB,CAlMA3D,EAAQokB,SAAWA,EA+BnBpkB,EAAQqlB,UAAYA,EAmBpBrlB,EAAQslB,eAAiBA,EAuBzBtlB,EAAQulB,YAAcA,EA8BtBvlB,EAAQwlB,UAAYA,EAoCpBxlB,EAAQylB,aAAeA,EAyBvBzlB,EAAQqkB,QAAUA,EA+BlBrkB,EAAQ2lB,QAAUA,C,uBCtOlB7lB,OAAOC,eAAeC,EAAS,aAA/B,CAA+CC,OAAO,IAEtD,IAAI4lB,EAAU,EAAQ,MAmCtB,SAAS7B,EAAUH,EAAS3a,EAAU4c,GAEpC,GAAgB,OAAZjC,EA4BJ,IA3BA,IAAI9gB,EACF6hB,EACAmB,EACAliB,EACAmiB,EACA5hB,EACA6hB,EAGAC,EAFAC,EAAa,EACbC,EAAa,EAEbziB,EAAOkgB,EAAQlgB,KACf0iB,EAA+B,sBAAT1iB,EACtB2iB,EAAqB,YAAT3iB,EACZ4iB,EAAOF,EAAsBxC,EAAQ/iB,SAASqB,OAAS,EAchDqkB,EAAe,EAAGA,EAAeD,EAAMC,IAAgB,CAC9DP,EAA0BI,EACtBxC,EAAQ/iB,SAAS0lB,GAAc3iB,SAC/ByiB,EACAzC,EAAQhgB,SACRggB,EACJqC,IAAuBD,GACc,uBAAjCA,EAAwBtiB,KAE5BqiB,EAAQE,EACJD,EAAwBrhB,WAAWzC,OACnC,EAEJ,IAAK,IAAIskB,EAAY,EAAGA,EAAYT,EAAOS,IAAa,CACtD,IAAIC,EAAoB,EACpBC,EAAgB,EAMpB,GALA9iB,EAAWqiB,EACPD,EAAwBrhB,WAAW6hB,GACnCR,EAGa,OAAbpiB,EAAJ,CACAO,EAASP,EAASC,YAClB,IAAI8iB,EAAW/iB,EAASF,KAQxB,OANAwiB,GACEL,GACc,YAAbc,GAAuC,iBAAbA,EAEvB,EADA,EAGEA,GACN,KAAK,KACH,MACF,IAAK,QACH,IAOQ,IANN1d,EACE9E,EACAgiB,EACAI,EACAE,EACAC,GAGF,OAAO,EACTP,IACAM,IACA,MACF,IAAK,aACL,IAAK,aACH,IAAK3jB,EAAI,EAAGA,EAAIqB,EAAOjC,OAAQY,IAAK,CAClC,IAOQ,IANNmG,EACE9E,EAAOrB,GACPqjB,EACAI,EACAE,EACAC,GAGF,OAAO,EACTP,IACiB,eAAbQ,GAA2BF,GACjC,CACiB,eAAbE,GAA2BF,IAC/B,MACF,IAAK,UACL,IAAK,kBACH,IAAK3jB,EAAI,EAAGA,EAAIqB,EAAOjC,OAAQY,IAAK,CAClC,IAAK6hB,EAAI,EAAGA,EAAIxgB,EAAOrB,GAAGZ,OAASgkB,EAAYvB,IAAK,CAClD,IAOQ,IANN1b,EACE9E,EAAOrB,GAAG6hB,GACVwB,EACAI,EACAE,EACAC,GAGF,OAAO,EACTP,GACF,CACiB,oBAAbQ,GAAgCF,IACnB,YAAbE,GAAwBD,GAC9B,CACiB,YAAbC,GAAwBF,IAC5B,MACF,IAAK,eACH,IAAK3jB,EAAI,EAAGA,EAAIqB,EAAOjC,OAAQY,IAAK,CAElC,IADA4jB,EAAgB,EACX/B,EAAI,EAAGA,EAAIxgB,EAAOrB,GAAGZ,OAAQyiB,IAAK,CACrC,IAAKmB,EAAI,EAAGA,EAAI3hB,EAAOrB,GAAG6hB,GAAGziB,OAASgkB,EAAYJ,IAAK,CACrD,IAOQ,IANN7c,EACE9E,EAAOrB,GAAG6hB,GAAGmB,GACbK,EACAI,EACAE,EACAC,GAGF,OAAO,EACTP,GACF,CACAO,GACF,CACAD,GACF,CACA,MACF,IAAK,qBACH,IAAK3jB,EAAI,EAAGA,EAAIc,EAASe,WAAWzC,OAAQY,IAC1C,IAEE,IADAihB,EAAUngB,EAASe,WAAW7B,GAAImG,EAAU4c,GAG5C,OAAO,EACX,MACF,QACE,MAAM,IAAInjB,MAAM,yBAjGW,CAmGjC,CACF,CACF,CAoDA,SAASkkB,EAAYhD,EAAS3a,EAAU4d,EAAchB,GACpD,IAAIiB,EAAgBD,EAwBpB,OAvBA9C,EACEH,GACA,SACEmD,EACAZ,EACAI,EACAE,EACAC,GAGEI,EADiB,IAAfX,QAAqCvlB,IAAjBimB,EACNE,EAEA9d,EACd6d,EACAC,EACAZ,EACAI,EACAE,EACAC,EAEN,GACAb,GAEKiB,CACT,CA4BA,SAASE,EAASpD,EAAS3a,GACzB,IAAInI,EACJ,OAAQ8iB,EAAQlgB,MACd,IAAK,oBACH,IAAK5C,EAAI,EAAGA,EAAI8iB,EAAQ/iB,SAASqB,OAAQpB,IACvC,IAAoD,IAAhDmI,EAAS2a,EAAQ/iB,SAASC,GAAG0C,WAAY1C,GAAc,MAE7D,MACF,IAAK,UACHmI,EAAS2a,EAAQpgB,WAAY,GAC7B,MAEN,CA8CA,SAASyjB,EAAWrD,EAAS3a,EAAU4d,GACrC,IAAIC,EAAgBD,EAOpB,OANAG,EAASpD,GAAS,SAAUsD,EAAmBX,GAE3CO,EADmB,IAAjBP,QAAuC3lB,IAAjBimB,EACRK,EAEAje,EAAS6d,EAAeI,EAAmBX,EAC/D,IACOO,CACT,CA6BA,SAASK,EAAYvD,EAAS3a,GAC5B,GAAqB,YAAjB2a,EAAQlgB,KACVuF,EAAS2a,EAAS,QACb,GAAqB,sBAAjBA,EAAQlgB,KACjB,IAAK,IAAI5C,EAAI,EAAGA,EAAI8iB,EAAQ/iB,SAASqB,OAAQpB,IAC3C,IAAyC,IAArCmI,EAAS2a,EAAQ/iB,SAASC,GAAIA,GAAc,KAGtD,CA4CA,SAASsmB,EAAcxD,EAAS3a,EAAU4d,GACxC,IAAIC,EAAgBD,EAMpB,OALAM,EAAYvD,GAAS,SAAUyD,EAAgBd,GAE3CO,EADmB,IAAjBP,QAAuC3lB,IAAjBimB,EACRQ,EACGpe,EAAS6d,EAAeO,EAAgBd,EAC/D,IACOO,CACT,CAiBA,SAASQ,EAAS1D,GAChB,IAAIzf,EAAS,GAIb,OAHA4f,EAAUH,GAAS,SAAUI,GAC3B7f,EAAOpD,KAAKijB,EACd,IACO7f,CACT,CAkCA,SAASojB,EAAS3D,EAAS3a,GACzB,IAAInI,EACFgC,EACAqb,EACAva,EACAmiB,EACAC,EACAC,EACAuB,EACAC,EACAC,EACAnB,EAAe,EACfH,EAAuC,sBAAjBxC,EAAQlgB,KAC9B2iB,EAA6B,YAAjBzC,EAAQlgB,KACpB4iB,EAAOF,EAAsBxC,EAAQ/iB,SAASqB,OAAS,EAczD,IAAKpB,EAAI,EAAGA,EAAIwlB,EAAMxlB,IAAK,CA4BzB,IA3BAklB,EAA0BI,EACtBxC,EAAQ/iB,SAASC,GAAG8C,SACpByiB,EACAzC,EAAQhgB,SACRggB,EACJ4D,EAAoBpB,EAChBxC,EAAQ/iB,SAASC,GAAG0C,WACpB6iB,EACAzC,EAAQpgB,WACR,CAAC,EACLikB,EAAcrB,EACVxC,EAAQ/iB,SAASC,GAAGX,KACpBkmB,EACAzC,EAAQzjB,UACRS,EACJ8mB,EAAYtB,EACRxC,EAAQ/iB,SAASC,GAAG6C,GACpB0iB,EACAzC,EAAQjgB,QACR/C,EACJqlB,IAAuBD,GACc,uBAAjCA,EAAwBtiB,KAE5BqiB,EAAQE,EACJD,EAAwBrhB,WAAWzC,OACnC,EAECic,EAAI,EAAGA,EAAI4H,EAAO5H,IAMrB,GALAva,EAAWqiB,EACPD,EAAwBrhB,WAAWwZ,GACnC6H,EAGa,OAAbpiB,EAaJ,OAAQA,EAASF,MACf,IAAK,QACL,IAAK,aACL,IAAK,aACL,IAAK,UACL,IAAK,kBACL,IAAK,eACH,IAOQ,IANNuF,EACErF,EACA2iB,EACAiB,EACAC,EACAC,GAGF,OAAO,EACT,MAEF,IAAK,qBACH,IAAK5kB,EAAI,EAAGA,EAAIc,EAASe,WAAWzC,OAAQY,IAC1C,IAOQ,IANNmG,EACErF,EAASe,WAAW7B,GACpByjB,EACAiB,EACAC,EACAC,GAGF,OAAO,EAEX,MAEF,QACE,MAAM,IAAIhlB,MAAM,8BA/ClB,IAOQ,IANNuG,EACE,KACAsd,EACAiB,EACAC,EACAC,GAGF,OAAO,EA0CbnB,GACF,CACF,CAkDA,SAASoB,EAAW/D,EAAS3a,EAAU4d,GACrC,IAAIC,EAAgBD,EAuBpB,OAtBAU,EACE3D,GACA,SACEgE,EACArB,EACAiB,EACAC,EACAC,GAGEZ,EADmB,IAAjBP,QAAuC3lB,IAAjBimB,EACRe,EAEA3e,EACd6d,EACAc,EACArB,EACAiB,EACAC,EACAC,EAEN,IAEKZ,CACT,CA8BA,SAASe,EAAYjE,EAAS3a,GAC5Bse,EAAS3D,GAAS,SAAUhgB,EAAU2iB,EAAc/iB,EAAYrD,EAAMwD,GAEpE,IAiBIgjB,EAjBAjjB,EAAoB,OAAbE,EAAoB,KAAOA,EAASF,KAC/C,OAAQA,GACN,KAAK,KACL,IAAK,QACL,IAAK,aACL,IAAK,UACH,OAKQ,IAJNuF,EACE2c,EAAQtiB,QAAQM,EAAUJ,EAAY,CAAErD,KAAMA,EAAMwD,GAAIA,IACxD4iB,EACA,SAIJ,EAMJ,OAAQ7iB,GACN,IAAK,aACHijB,EAAW,QACX,MACF,IAAK,kBACHA,EAAW,aACX,MACF,IAAK,eACHA,EAAW,UACX,MAGJ,IACE,IAAIF,EAAoB,EACxBA,EAAoB7iB,EAASC,YAAY3B,OACzCukB,IACA,CACA,IAAIqB,EAAalkB,EAASC,YAAY4iB,GAClCljB,EAAO,CACTG,KAAMijB,EACN9iB,YAAaikB,GAEf,IAEE,IADA7e,EAAS2c,EAAQtiB,QAAQC,EAAMC,GAAa+iB,EAAcE,GAG1D,OAAO,CACX,CACF,GACF,CA8CA,SAASsB,EAAcnE,EAAS3a,EAAU4d,GACxC,IAAIC,EAAgBD,EAmBpB,OAlBAgB,EACEjE,GACA,SAAUyD,EAAgBd,EAAcE,GAMpCK,EAJiB,IAAjBP,GACsB,IAAtBE,QACiB7lB,IAAjBimB,EAEgBQ,EAEApe,EACd6d,EACAO,EACAd,EACAE,EAEN,IAEKK,CACT,CAuCA,SAASkB,EAAYpE,EAAS3a,GAC5B4e,EAAYjE,GAAS,SAAUtgB,EAASijB,EAAcE,GACpD,IAAIwB,EAAe,EAGnB,GAAK3kB,EAAQM,SAAb,CAEA,IAAIF,EAAOJ,EAAQM,SAASF,KAC5B,GAAa,UAATA,GAA6B,eAATA,EAAxB,CAGA,IAAIwkB,EACAC,EAAuB,EACvBC,EAAqB,EACrBC,EAAgB,EACpB,OAyCQ,IAxCNtE,EACEzgB,GACA,SACEyjB,EACAZ,EACAmC,EACAC,EACA7B,GAGA,QACqB9lB,IAAnBsnB,GACA3B,EAAe4B,GACfI,EAAsBH,GACtB1B,EAAgB2B,EAOhB,OALAH,EAAiBnB,EACjBoB,EAAuB5B,EACvB6B,EAAqBG,EACrBF,EAAgB3B,OAChBuB,EAAe,GAGjB,IAAIO,EAAiB5C,EAAQziB,WAC3B,CAAC+kB,EAAgBnB,GACjBzjB,EAAQE,YAEV,IAOQ,IANNyF,EACEuf,EACAjC,EACAE,EACAC,EACAuB,GAGF,OAAO,EACTA,IACAC,EAAiBnB,CACnB,UAxCJ,CAPqD,CAHxB,CAsD/B,GACF,CAuDA,SAAS0B,EAAc7E,EAAS3a,EAAU4d,GACxC,IAAIC,EAAgBD,EAChB6B,GAAU,EAwBd,OAvBAV,EACEpE,GACA,SACE4E,EACAjC,EACAE,EACAC,EACAuB,GAGEnB,GADc,IAAZ4B,QAAsC9nB,IAAjBimB,EACP2B,EAEAvf,EACd6d,EACA0B,EACAjC,EACAE,EACAC,EACAuB,GAEJS,GAAU,CACZ,IAEK5B,CACT,CAgCA,SAAS6B,EAAS/E,EAAS3a,GAEzB,IAAK2a,EAAS,MAAM,IAAIlhB,MAAM,uBAE9BmlB,EAAYjE,GAAS,SAAUtgB,EAASijB,EAAcE,GACpD,GAAyB,OAArBnjB,EAAQM,SAAZ,CACA,IAAIF,EAAOJ,EAAQM,SAASF,KACxBS,EAASb,EAAQM,SAASC,YAC9B,OAAQH,GACN,IAAK,aACH,IAAiE,IAA7DuF,EAAS3F,EAASijB,EAAcE,EAAmB,EAAG,GACxD,OAAO,EACT,MACF,IAAK,UACH,IACE,IAAIC,EAAgB,EACpBA,EAAgBviB,EAAOjC,OACvBwkB,IAEA,IAMQ,IALNzd,EACE2c,EAAQziB,WAAWgB,EAAOuiB,GAAgBpjB,EAAQE,YAClD+iB,EACAE,EACAC,GAGF,OAAO,EAEX,MAxBiC,CA0BvC,GACF,CAgDA,SAASkC,EAAWhF,EAAS3a,EAAU4d,GACrC,IAAIC,EAAgBD,EAgBpB,OAfA8B,EACE/E,GACA,SAAUiF,EAAatC,EAAcE,EAAmBC,GAEpDI,EADmB,IAAjBP,QAAuC3lB,IAAjBimB,EACRgC,EAEA5f,EACd6d,EACA+B,EACAtC,EACAE,EACAC,EAEN,IAEKI,CACT,CAoCA,SAASgC,EAAYlF,EAASjjB,GAG5B,GADAA,EAAUA,GAAW,CAAC,GACjBilB,EAAQnjB,SAAS9B,GAAU,MAAM,IAAI+B,MAAM,sBAChD,IAOIkB,EAPA2iB,EAAe5lB,EAAQ4lB,cAAgB,EACvCE,EAAoB9lB,EAAQ8lB,mBAAqB,EACjDC,EAAgB/lB,EAAQ+lB,eAAiB,EACzCuB,EAAetnB,EAAQsnB,cAAgB,EAGvCzkB,EAAa7C,EAAQ6C,WAGzB,OAAQogB,EAAQlgB,MACd,IAAK,oBACC6iB,EAAe,IACjBA,EAAe3C,EAAQ/iB,SAASqB,OAASqkB,GAC3C/iB,EAAaA,GAAcogB,EAAQ/iB,SAAS0lB,GAAc/iB,WAC1DI,EAAWggB,EAAQ/iB,SAAS0lB,GAAc3iB,SAC1C,MACF,IAAK,UACHJ,EAAaA,GAAcogB,EAAQpgB,WACnCI,EAAWggB,EAAQhgB,SACnB,MACF,IAAK,QACL,IAAK,aACH,OAAO,KACT,IAAK,aACL,IAAK,UACL,IAAK,kBACL,IAAK,eACHA,EAAWggB,EACX,MACF,QACE,MAAM,IAAIlhB,MAAM,sBAIpB,GAAiB,OAAbkB,EAAmB,OAAO,KAC9B,IAAIO,EAASP,EAASC,YACtB,OAAQD,EAASF,MACf,IAAK,QACL,IAAK,aACH,OAAO,KACT,IAAK,aAEH,OADIukB,EAAe,IAAGA,EAAe9jB,EAAOjC,OAAS+lB,EAAe,GAC7DrC,EAAQziB,WACb,CAACgB,EAAO8jB,GAAe9jB,EAAO8jB,EAAe,IAC7CzkB,EACA7C,GAEJ,IAAK,UAIH,OAHI+lB,EAAgB,IAAGA,EAAgBviB,EAAOjC,OAASwkB,GACnDuB,EAAe,IACjBA,EAAe9jB,EAAOuiB,GAAexkB,OAAS+lB,EAAe,GACxDrC,EAAQziB,WACb,CACEgB,EAAOuiB,GAAeuB,GACtB9jB,EAAOuiB,GAAeuB,EAAe,IAEvCzkB,EACA7C,GAEJ,IAAK,kBAKH,OAJI8lB,EAAoB,IACtBA,EAAoBtiB,EAAOjC,OAASukB,GAClCwB,EAAe,IACjBA,EAAe9jB,EAAOsiB,GAAmBvkB,OAAS+lB,EAAe,GAC5DrC,EAAQziB,WACb,CACEgB,EAAOsiB,GAAmBwB,GAC1B9jB,EAAOsiB,GAAmBwB,EAAe,IAE3CzkB,EACA7C,GAEJ,IAAK,eAQH,OAPI8lB,EAAoB,IACtBA,EAAoBtiB,EAAOjC,OAASukB,GAClCC,EAAgB,IAClBA,EAAgBviB,EAAOsiB,GAAmBvkB,OAASwkB,GACjDuB,EAAe,IACjBA,EACE9jB,EAAOsiB,GAAmBC,GAAexkB,OAAS+lB,EAAe,GAC9DrC,EAAQziB,WACb,CACEgB,EAAOsiB,GAAmBC,GAAeuB,GACzC9jB,EAAOsiB,GAAmBC,GAAeuB,EAAe,IAE1DzkB,EACA7C,GAGN,MAAM,IAAI+B,MAAM,qBAClB,CAmCA,SAASqmB,EAAUnF,EAASjjB,GAG1B,GADAA,EAAUA,GAAW,CAAC,GACjBilB,EAAQnjB,SAAS9B,GAAU,MAAM,IAAI+B,MAAM,sBAChD,IAOIkB,EAPA2iB,EAAe5lB,EAAQ4lB,cAAgB,EACvCE,EAAoB9lB,EAAQ8lB,mBAAqB,EACjDC,EAAgB/lB,EAAQ+lB,eAAiB,EACzCP,EAAaxlB,EAAQwlB,YAAc,EAGnC3iB,EAAa7C,EAAQ6C,WAGzB,OAAQogB,EAAQlgB,MACd,IAAK,oBACC6iB,EAAe,IACjBA,EAAe3C,EAAQ/iB,SAASqB,OAASqkB,GAC3C/iB,EAAaA,GAAcogB,EAAQ/iB,SAAS0lB,GAAc/iB,WAC1DI,EAAWggB,EAAQ/iB,SAAS0lB,GAAc3iB,SAC1C,MACF,IAAK,UACHJ,EAAaA,GAAcogB,EAAQpgB,WACnCI,EAAWggB,EAAQhgB,SACnB,MACF,IAAK,QACL,IAAK,aACH,OAAO,KACT,IAAK,aACL,IAAK,UACL,IAAK,kBACL,IAAK,eACHA,EAAWggB,EACX,MACF,QACE,MAAM,IAAIlhB,MAAM,sBAIpB,GAAiB,OAAbkB,EAAmB,OAAO,KAC9B,IAAIO,EAASP,EAASC,YACtB,OAAQD,EAASF,MACf,IAAK,QACH,OAAOkiB,EAAQ5kB,MAAMmD,EAAQX,EAAY7C,GAC3C,IAAK,aAGH,OAFI8lB,EAAoB,IACtBA,EAAoBtiB,EAAOjC,OAASukB,GAC/Bb,EAAQ5kB,MAAMmD,EAAOsiB,GAAoBjjB,EAAY7C,GAC9D,IAAK,aAEH,OADIwlB,EAAa,IAAGA,EAAahiB,EAAOjC,OAASikB,GAC1CP,EAAQ5kB,MAAMmD,EAAOgiB,GAAa3iB,EAAY7C,GACvD,IAAK,UAIH,OAHI+lB,EAAgB,IAAGA,EAAgBviB,EAAOjC,OAASwkB,GACnDP,EAAa,IACfA,EAAahiB,EAAOuiB,GAAexkB,OAASikB,GACvCP,EAAQ5kB,MAAMmD,EAAOuiB,GAAeP,GAAa3iB,EAAY7C,GACtE,IAAK,kBAKH,OAJI8lB,EAAoB,IACtBA,EAAoBtiB,EAAOjC,OAASukB,GAClCN,EAAa,IACfA,EAAahiB,EAAOsiB,GAAmBvkB,OAASikB,GAC3CP,EAAQ5kB,MAAMmD,EAAOsiB,GAAmBN,GAAa3iB,EAAY7C,GAC1E,IAAK,eAQH,OAPI8lB,EAAoB,IACtBA,EAAoBtiB,EAAOjC,OAASukB,GAClCC,EAAgB,IAClBA,EAAgBviB,EAAOsiB,GAAmBvkB,OAASwkB,GACjDP,EAAa,IACfA,EACEhiB,EAAOsiB,GAAmBC,GAAexkB,OAASikB,GAC/CP,EAAQ5kB,MACbmD,EAAOsiB,GAAmBC,GAAeP,GACzC3iB,EACA7C,GAGN,MAAM,IAAI+B,MAAM,qBAClB,CAEA3C,EAAQunB,SAAWA,EACnBvnB,EAAQgkB,UAAYA,EACpBhkB,EAAQ6mB,YAAcA,EACtB7mB,EAAQonB,YAAcA,EACtBpnB,EAAQqnB,cAAgBA,EACxBrnB,EAAQgpB,UAAYA,EACpBhpB,EAAQ+oB,YAAcA,EACtB/oB,EAAQ8nB,YAAcA,EACtB9nB,EAAQgoB,cAAgBA,EACxBhoB,EAAQwnB,SAAWA,EACnBxnB,EAAQ4nB,WAAaA,EACrB5nB,EAAQ4oB,SAAWA,EACnB5oB,EAAQ6oB,WAAaA,EACrB7oB,EAAQinB,SAAWA,EACnBjnB,EAAQknB,WAAaA,EACrBlnB,EAAQioB,YAAcA,EACtBjoB,EAAQ0oB,cAAgBA,C","sources":["webpack://geoguess/./node_modules/@turf/random/dist/js/index.js","webpack://geoguess/./node_modules/@turf/random/node_modules/@turf/helpers/dist/js/index.js","webpack://geoguess/./src/pages/StreetView.vue","webpack://geoguess/./src/components/HeaderGame.vue","webpack://geoguess/src/components/HeaderGame.vue","webpack://geoguess/./src/components/HeaderGame.vue?8ce7","webpack://geoguess/./src/components/HeaderGame.vue?b8ae","webpack://geoguess/./src/components/Maps.vue","webpack://geoguess/./src/components/DialogSummary.vue","webpack://geoguess/src/components/DialogSummary.vue","webpack://geoguess/./src/components/DialogSummary.vue?15ad","webpack://geoguess/./src/components/DialogSummary.vue?7156","webpack://geoguess/./src/components/game/DetailsMap.vue","webpack://geoguess/src/components/game/DetailsMap.vue","webpack://geoguess/./src/components/game/DetailsMap.vue?e671","webpack://geoguess/./src/components/game/DetailsMap.vue?1f63","webpack://geoguess/./src/components/map/Map.vue","webpack://geoguess/./src/components/map/mixins/MapMixin.js","webpack://geoguess/src/components/map/Map.vue","webpack://geoguess/./src/components/map/Map.vue?4e8b","webpack://geoguess/./src/components/map/Map.vue?7e73","webpack://geoguess/./src/components/map/MapAreas.vue","webpack://geoguess/src/components/map/MapAreas.vue","webpack://geoguess/./src/components/map/MapAreas.vue?da18","webpack://geoguess/./src/components/map/MapAreas.vue?f58b","webpack://geoguess/./src/utils/game/score.js","webpack://geoguess/./src/components/game/Leaderboard.vue","webpack://geoguess/./src/components/game/LeaderboardContent.vue","webpack://geoguess/src/components/game/LeaderboardContent.vue","webpack://geoguess/./src/components/game/LeaderboardContent.vue?2640","webpack://geoguess/./src/components/game/LeaderboardContent.vue?11f1","webpack://geoguess/src/components/game/Leaderboard.vue","webpack://geoguess/./src/components/game/Leaderboard.vue?81a8","webpack://geoguess/./src/components/game/Leaderboard.vue?6c2b","webpack://geoguess/src/components/Maps.vue","webpack://geoguess/./src/components/Maps.vue?ef24","webpack://geoguess/./src/components/Maps.vue?9ab2","webpack://geoguess/./src/components/DialogMessage.vue","webpack://geoguess/src/components/DialogMessage.vue","webpack://geoguess/./src/components/DialogMessage.vue?dad5","webpack://geoguess/./src/components/DialogMessage.vue?f87c","webpack://geoguess/./src/plugins/StreetViewService.js","webpack://geoguess/./src/mixins/ConfirmExitMixin.js","webpack://geoguess/src/pages/StreetView.vue","webpack://geoguess/./src/pages/StreetView.vue?b9ef","webpack://geoguess/./src/pages/StreetView.vue?3ecd","webpack://geoguess/./node_modules/random-position-in-polygon/index.js","webpack://geoguess/./node_modules/random-position-in-polygon/node_modules/@turf/bbox/dist/js/index.js","webpack://geoguess/./node_modules/random-position-in-polygon/node_modules/@turf/boolean-point-in-polygon/dist/js/index.js","webpack://geoguess/./node_modules/random-position-in-polygon/node_modules/@turf/helpers/dist/js/index.js","webpack://geoguess/./node_modules/random-position-in-polygon/node_modules/@turf/invariant/dist/js/index.js","webpack://geoguess/./node_modules/random-position-in-polygon/node_modules/@turf/meta/dist/js/index.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar helpers_1 = require(\"@turf/helpers\");\n/**\n * Returns a random position within a {@link bounding box}.\n *\n * @name randomPosition\n * @param {Array<number>} [bbox=[-180, -90, 180, 90]] a bounding box inside of which positions are placed.\n * @returns {Array<number>} Position [longitude, latitude]\n * @example\n * var position = turf.randomPosition([-180, -90, 180, 90])\n * // => position\n */\nfunction randomPosition(bbox) {\n    if (Array.isArray(bbox)) {\n        return coordInBBox(bbox);\n    }\n    if (bbox && bbox.bbox) {\n        return coordInBBox(bbox.bbox);\n    }\n    return [lon(), lat()];\n}\nexports.randomPosition = randomPosition;\n/**\n * Returns a random {@link point}.\n *\n * @name randomPoint\n * @param {number} [count=1] how many geometries will be generated\n * @param {Object} [options={}] Optional parameters\n * @param {Array<number>} [options.bbox=[-180, -90, 180, 90]] a bounding box inside of which geometries are placed.\n * @returns {FeatureCollection<Point>} GeoJSON FeatureCollection of points\n * @example\n * var points = turf.randomPoint(25, {bbox: [-180, -90, 180, 90]})\n * // => points\n */\nfunction randomPoint(count, options) {\n    if (options === void 0) { options = {}; }\n    if (count === undefined || count === null) {\n        count = 1;\n    }\n    var features = [];\n    for (var i = 0; i < count; i++) {\n        features.push(helpers_1.point(randomPosition(options.bbox)));\n    }\n    return helpers_1.featureCollection(features);\n}\nexports.randomPoint = randomPoint;\n/**\n * Returns a random {@link polygon}.\n *\n * @name randomPolygon\n * @param {number} [count=1] how many geometries will be generated\n * @param {Object} [options={}] Optional parameters\n * @param {Array<number>} [options.bbox=[-180, -90, 180, 90]] a bounding box inside of which geometries are placed.\n * @param {number} [options.num_vertices=10] is how many coordinates each LineString will contain.\n * @param {number} [options.max_radial_length=10] is the maximum number of decimal degrees latitude or longitude that a\n * vertex can reach out of the center of the Polygon.\n * @returns {FeatureCollection<Polygon>} GeoJSON FeatureCollection of polygons\n * @example\n * var polygons = turf.randomPolygon(25, {bbox: [-180, -90, 180, 90]})\n * // => polygons\n */\nfunction randomPolygon(count, options) {\n    if (options === void 0) { options = {}; }\n    // Default param\n    if (count === undefined || count === null) {\n        count = 1;\n    }\n    if (!helpers_1.isNumber(options.num_vertices) || options.num_vertices === undefined) {\n        options.num_vertices = 10;\n    }\n    if (!helpers_1.isNumber(options.max_radial_length) ||\n        options.max_radial_length === undefined) {\n        options.max_radial_length = 10;\n    }\n    var features = [];\n    var _loop_1 = function (i) {\n        var vertices = [];\n        var circleOffsets = Array.apply(null, new Array(options.num_vertices + 1)).map(Math.random);\n        // Sum Offsets\n        circleOffsets.forEach(function (cur, index, arr) {\n            arr[index] = index > 0 ? cur + arr[index - 1] : cur;\n        });\n        // scaleOffsets\n        circleOffsets.forEach(function (cur) {\n            cur = (cur * 2 * Math.PI) / circleOffsets[circleOffsets.length - 1];\n            var radialScaler = Math.random();\n            vertices.push([\n                radialScaler * (options.max_radial_length || 10) * Math.sin(cur),\n                radialScaler * (options.max_radial_length || 10) * Math.cos(cur),\n            ]);\n        });\n        vertices[vertices.length - 1] = vertices[0]; // close the ring\n        // center the polygon around something\n        vertices = vertices.map(vertexToCoordinate(randomPosition(options.bbox)));\n        features.push(helpers_1.polygon([vertices]));\n    };\n    for (var i = 0; i < count; i++) {\n        _loop_1(i);\n    }\n    return helpers_1.featureCollection(features);\n}\nexports.randomPolygon = randomPolygon;\n/**\n * Returns a random {@link linestring}.\n *\n * @name randomLineString\n * @param {number} [count=1] how many geometries will be generated\n * @param {Object} [options={}] Optional parameters\n * @param {Array<number>} [options.bbox=[-180, -90, 180, 90]] a bounding box inside of which geometries are placed.\n * @param {number} [options.num_vertices=10] is how many coordinates each LineString will contain.\n * @param {number} [options.max_length=0.0001] is the maximum number of decimal degrees that a\n * vertex can be from its predecessor\n * @param {number} [options.max_rotation=Math.PI / 8] is the maximum number of radians that a\n * line segment can turn from the previous segment.\n * @returns {FeatureCollection<LineString>} GeoJSON FeatureCollection of linestrings\n * @example\n * var lineStrings = turf.randomLineString(25, {bbox: [-180, -90, 180, 90]})\n * // => lineStrings\n */\nfunction randomLineString(count, options) {\n    if (options === void 0) { options = {}; }\n    // Optional parameters\n    options = options || {};\n    if (!helpers_1.isObject(options)) {\n        throw new Error(\"options is invalid\");\n    }\n    var bbox = options.bbox;\n    var num_vertices = options.num_vertices;\n    var max_length = options.max_length;\n    var max_rotation = options.max_rotation;\n    if (count === undefined || count === null) {\n        count = 1;\n    }\n    // Default parameters\n    if (!helpers_1.isNumber(num_vertices) ||\n        num_vertices === undefined ||\n        num_vertices < 2) {\n        num_vertices = 10;\n    }\n    if (!helpers_1.isNumber(max_length) || max_length === undefined) {\n        max_length = 0.0001;\n    }\n    if (!helpers_1.isNumber(max_rotation) || max_rotation === undefined) {\n        max_rotation = Math.PI / 8;\n    }\n    var features = [];\n    for (var i = 0; i < count; i++) {\n        var startingPoint = randomPosition(bbox);\n        var vertices = [startingPoint];\n        for (var j = 0; j < num_vertices - 1; j++) {\n            var priorAngle = j === 0\n                ? Math.random() * 2 * Math.PI\n                : Math.tan((vertices[j][1] - vertices[j - 1][1]) /\n                    (vertices[j][0] - vertices[j - 1][0]));\n            var angle = priorAngle + (Math.random() - 0.5) * max_rotation * 2;\n            var distance = Math.random() * max_length;\n            vertices.push([\n                vertices[j][0] + distance * Math.cos(angle),\n                vertices[j][1] + distance * Math.sin(angle),\n            ]);\n        }\n        features.push(helpers_1.lineString(vertices));\n    }\n    return helpers_1.featureCollection(features);\n}\nexports.randomLineString = randomLineString;\nfunction vertexToCoordinate(hub) {\n    return function (cur) {\n        return [cur[0] + hub[0], cur[1] + hub[1]];\n    };\n}\nfunction rnd() {\n    return Math.random() - 0.5;\n}\nfunction lon() {\n    return rnd() * 360;\n}\nfunction lat() {\n    return rnd() * 180;\n}\nfunction coordInBBox(bbox) {\n    return [\n        Math.random() * (bbox[2] - bbox[0]) + bbox[0],\n        Math.random() * (bbox[3] - bbox[1]) + bbox[1],\n    ];\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * @module helpers\n */\n/**\n * Earth Radius used with the Harvesine formula and approximates using a spherical (non-ellipsoid) Earth.\n *\n * @memberof helpers\n * @type {number}\n */\nexports.earthRadius = 6371008.8;\n/**\n * Unit of measurement factors using a spherical (non-ellipsoid) earth radius.\n *\n * @memberof helpers\n * @type {Object}\n */\nexports.factors = {\n    centimeters: exports.earthRadius * 100,\n    centimetres: exports.earthRadius * 100,\n    degrees: exports.earthRadius / 111325,\n    feet: exports.earthRadius * 3.28084,\n    inches: exports.earthRadius * 39.37,\n    kilometers: exports.earthRadius / 1000,\n    kilometres: exports.earthRadius / 1000,\n    meters: exports.earthRadius,\n    metres: exports.earthRadius,\n    miles: exports.earthRadius / 1609.344,\n    millimeters: exports.earthRadius * 1000,\n    millimetres: exports.earthRadius * 1000,\n    nauticalmiles: exports.earthRadius / 1852,\n    radians: 1,\n    yards: exports.earthRadius * 1.0936,\n};\n/**\n * Units of measurement factors based on 1 meter.\n *\n * @memberof helpers\n * @type {Object}\n */\nexports.unitsFactors = {\n    centimeters: 100,\n    centimetres: 100,\n    degrees: 1 / 111325,\n    feet: 3.28084,\n    inches: 39.37,\n    kilometers: 1 / 1000,\n    kilometres: 1 / 1000,\n    meters: 1,\n    metres: 1,\n    miles: 1 / 1609.344,\n    millimeters: 1000,\n    millimetres: 1000,\n    nauticalmiles: 1 / 1852,\n    radians: 1 / exports.earthRadius,\n    yards: 1.0936133,\n};\n/**\n * Area of measurement factors based on 1 square meter.\n *\n * @memberof helpers\n * @type {Object}\n */\nexports.areaFactors = {\n    acres: 0.000247105,\n    centimeters: 10000,\n    centimetres: 10000,\n    feet: 10.763910417,\n    hectares: 0.0001,\n    inches: 1550.003100006,\n    kilometers: 0.000001,\n    kilometres: 0.000001,\n    meters: 1,\n    metres: 1,\n    miles: 3.86e-7,\n    millimeters: 1000000,\n    millimetres: 1000000,\n    yards: 1.195990046,\n};\n/**\n * Wraps a GeoJSON {@link Geometry} in a GeoJSON {@link Feature}.\n *\n * @name feature\n * @param {Geometry} geometry input geometry\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature} a GeoJSON Feature\n * @example\n * var geometry = {\n *   \"type\": \"Point\",\n *   \"coordinates\": [110, 50]\n * };\n *\n * var feature = turf.feature(geometry);\n *\n * //=feature\n */\nfunction feature(geom, properties, options) {\n    if (options === void 0) { options = {}; }\n    var feat = { type: \"Feature\" };\n    if (options.id === 0 || options.id) {\n        feat.id = options.id;\n    }\n    if (options.bbox) {\n        feat.bbox = options.bbox;\n    }\n    feat.properties = properties || {};\n    feat.geometry = geom;\n    return feat;\n}\nexports.feature = feature;\n/**\n * Creates a GeoJSON {@link Geometry} from a Geometry string type & coordinates.\n * For GeometryCollection type use `helpers.geometryCollection`\n *\n * @name geometry\n * @param {string} type Geometry Type\n * @param {Array<any>} coordinates Coordinates\n * @param {Object} [options={}] Optional Parameters\n * @returns {Geometry} a GeoJSON Geometry\n * @example\n * var type = \"Point\";\n * var coordinates = [110, 50];\n * var geometry = turf.geometry(type, coordinates);\n * // => geometry\n */\nfunction geometry(type, coordinates, _options) {\n    if (_options === void 0) { _options = {}; }\n    switch (type) {\n        case \"Point\":\n            return point(coordinates).geometry;\n        case \"LineString\":\n            return lineString(coordinates).geometry;\n        case \"Polygon\":\n            return polygon(coordinates).geometry;\n        case \"MultiPoint\":\n            return multiPoint(coordinates).geometry;\n        case \"MultiLineString\":\n            return multiLineString(coordinates).geometry;\n        case \"MultiPolygon\":\n            return multiPolygon(coordinates).geometry;\n        default:\n            throw new Error(type + \" is invalid\");\n    }\n}\nexports.geometry = geometry;\n/**\n * Creates a {@link Point} {@link Feature} from a Position.\n *\n * @name point\n * @param {Array<number>} coordinates longitude, latitude position (each in decimal degrees)\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<Point>} a Point feature\n * @example\n * var point = turf.point([-75.343, 39.984]);\n *\n * //=point\n */\nfunction point(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    if (!coordinates) {\n        throw new Error(\"coordinates is required\");\n    }\n    if (!Array.isArray(coordinates)) {\n        throw new Error(\"coordinates must be an Array\");\n    }\n    if (coordinates.length < 2) {\n        throw new Error(\"coordinates must be at least 2 numbers long\");\n    }\n    if (!isNumber(coordinates[0]) || !isNumber(coordinates[1])) {\n        throw new Error(\"coordinates must contain numbers\");\n    }\n    var geom = {\n        type: \"Point\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\nexports.point = point;\n/**\n * Creates a {@link Point} {@link FeatureCollection} from an Array of Point coordinates.\n *\n * @name points\n * @param {Array<Array<number>>} coordinates an array of Points\n * @param {Object} [properties={}] Translate these properties to each Feature\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north]\n * associated with the FeatureCollection\n * @param {string|number} [options.id] Identifier associated with the FeatureCollection\n * @returns {FeatureCollection<Point>} Point Feature\n * @example\n * var points = turf.points([\n *   [-75, 39],\n *   [-80, 45],\n *   [-78, 50]\n * ]);\n *\n * //=points\n */\nfunction points(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    return featureCollection(coordinates.map(function (coords) {\n        return point(coords, properties);\n    }), options);\n}\nexports.points = points;\n/**\n * Creates a {@link Polygon} {@link Feature} from an Array of LinearRings.\n *\n * @name polygon\n * @param {Array<Array<Array<number>>>} coordinates an array of LinearRings\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<Polygon>} Polygon Feature\n * @example\n * var polygon = turf.polygon([[[-5, 52], [-4, 56], [-2, 51], [-7, 54], [-5, 52]]], { name: 'poly1' });\n *\n * //=polygon\n */\nfunction polygon(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    for (var _i = 0, coordinates_1 = coordinates; _i < coordinates_1.length; _i++) {\n        var ring = coordinates_1[_i];\n        if (ring.length < 4) {\n            throw new Error(\"Each LinearRing of a Polygon must have 4 or more Positions.\");\n        }\n        for (var j = 0; j < ring[ring.length - 1].length; j++) {\n            // Check if first point of Polygon contains two numbers\n            if (ring[ring.length - 1][j] !== ring[0][j]) {\n                throw new Error(\"First and last Position are not equivalent.\");\n            }\n        }\n    }\n    var geom = {\n        type: \"Polygon\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\nexports.polygon = polygon;\n/**\n * Creates a {@link Polygon} {@link FeatureCollection} from an Array of Polygon coordinates.\n *\n * @name polygons\n * @param {Array<Array<Array<Array<number>>>>} coordinates an array of Polygon coordinates\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the FeatureCollection\n * @returns {FeatureCollection<Polygon>} Polygon FeatureCollection\n * @example\n * var polygons = turf.polygons([\n *   [[[-5, 52], [-4, 56], [-2, 51], [-7, 54], [-5, 52]]],\n *   [[[-15, 42], [-14, 46], [-12, 41], [-17, 44], [-15, 42]]],\n * ]);\n *\n * //=polygons\n */\nfunction polygons(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    return featureCollection(coordinates.map(function (coords) {\n        return polygon(coords, properties);\n    }), options);\n}\nexports.polygons = polygons;\n/**\n * Creates a {@link LineString} {@link Feature} from an Array of Positions.\n *\n * @name lineString\n * @param {Array<Array<number>>} coordinates an array of Positions\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<LineString>} LineString Feature\n * @example\n * var linestring1 = turf.lineString([[-24, 63], [-23, 60], [-25, 65], [-20, 69]], {name: 'line 1'});\n * var linestring2 = turf.lineString([[-14, 43], [-13, 40], [-15, 45], [-10, 49]], {name: 'line 2'});\n *\n * //=linestring1\n * //=linestring2\n */\nfunction lineString(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    if (coordinates.length < 2) {\n        throw new Error(\"coordinates must be an array of two or more positions\");\n    }\n    var geom = {\n        type: \"LineString\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\nexports.lineString = lineString;\n/**\n * Creates a {@link LineString} {@link FeatureCollection} from an Array of LineString coordinates.\n *\n * @name lineStrings\n * @param {Array<Array<Array<number>>>} coordinates an array of LinearRings\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north]\n * associated with the FeatureCollection\n * @param {string|number} [options.id] Identifier associated with the FeatureCollection\n * @returns {FeatureCollection<LineString>} LineString FeatureCollection\n * @example\n * var linestrings = turf.lineStrings([\n *   [[-24, 63], [-23, 60], [-25, 65], [-20, 69]],\n *   [[-14, 43], [-13, 40], [-15, 45], [-10, 49]]\n * ]);\n *\n * //=linestrings\n */\nfunction lineStrings(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    return featureCollection(coordinates.map(function (coords) {\n        return lineString(coords, properties);\n    }), options);\n}\nexports.lineStrings = lineStrings;\n/**\n * Takes one or more {@link Feature|Features} and creates a {@link FeatureCollection}.\n *\n * @name featureCollection\n * @param {Feature[]} features input features\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {FeatureCollection} FeatureCollection of Features\n * @example\n * var locationA = turf.point([-75.343, 39.984], {name: 'Location A'});\n * var locationB = turf.point([-75.833, 39.284], {name: 'Location B'});\n * var locationC = turf.point([-75.534, 39.123], {name: 'Location C'});\n *\n * var collection = turf.featureCollection([\n *   locationA,\n *   locationB,\n *   locationC\n * ]);\n *\n * //=collection\n */\nfunction featureCollection(features, options) {\n    if (options === void 0) { options = {}; }\n    var fc = { type: \"FeatureCollection\" };\n    if (options.id) {\n        fc.id = options.id;\n    }\n    if (options.bbox) {\n        fc.bbox = options.bbox;\n    }\n    fc.features = features;\n    return fc;\n}\nexports.featureCollection = featureCollection;\n/**\n * Creates a {@link Feature<MultiLineString>} based on a\n * coordinate array. Properties can be added optionally.\n *\n * @name multiLineString\n * @param {Array<Array<Array<number>>>} coordinates an array of LineStrings\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<MultiLineString>} a MultiLineString feature\n * @throws {Error} if no coordinates are passed\n * @example\n * var multiLine = turf.multiLineString([[[0,0],[10,10]]]);\n *\n * //=multiLine\n */\nfunction multiLineString(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    var geom = {\n        type: \"MultiLineString\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\nexports.multiLineString = multiLineString;\n/**\n * Creates a {@link Feature<MultiPoint>} based on a\n * coordinate array. Properties can be added optionally.\n *\n * @name multiPoint\n * @param {Array<Array<number>>} coordinates an array of Positions\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<MultiPoint>} a MultiPoint feature\n * @throws {Error} if no coordinates are passed\n * @example\n * var multiPt = turf.multiPoint([[0,0],[10,10]]);\n *\n * //=multiPt\n */\nfunction multiPoint(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    var geom = {\n        type: \"MultiPoint\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\nexports.multiPoint = multiPoint;\n/**\n * Creates a {@link Feature<MultiPolygon>} based on a\n * coordinate array. Properties can be added optionally.\n *\n * @name multiPolygon\n * @param {Array<Array<Array<Array<number>>>>} coordinates an array of Polygons\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<MultiPolygon>} a multipolygon feature\n * @throws {Error} if no coordinates are passed\n * @example\n * var multiPoly = turf.multiPolygon([[[[0,0],[0,10],[10,10],[10,0],[0,0]]]]);\n *\n * //=multiPoly\n *\n */\nfunction multiPolygon(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    var geom = {\n        type: \"MultiPolygon\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\nexports.multiPolygon = multiPolygon;\n/**\n * Creates a {@link Feature<GeometryCollection>} based on a\n * coordinate array. Properties can be added optionally.\n *\n * @name geometryCollection\n * @param {Array<Geometry>} geometries an array of GeoJSON Geometries\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<GeometryCollection>} a GeoJSON GeometryCollection Feature\n * @example\n * var pt = turf.geometry(\"Point\", [100, 0]);\n * var line = turf.geometry(\"LineString\", [[101, 0], [102, 1]]);\n * var collection = turf.geometryCollection([pt, line]);\n *\n * // => collection\n */\nfunction geometryCollection(geometries, properties, options) {\n    if (options === void 0) { options = {}; }\n    var geom = {\n        type: \"GeometryCollection\",\n        geometries: geometries,\n    };\n    return feature(geom, properties, options);\n}\nexports.geometryCollection = geometryCollection;\n/**\n * Round number to precision\n *\n * @param {number} num Number\n * @param {number} [precision=0] Precision\n * @returns {number} rounded number\n * @example\n * turf.round(120.4321)\n * //=120\n *\n * turf.round(120.4321, 2)\n * //=120.43\n */\nfunction round(num, precision) {\n    if (precision === void 0) { precision = 0; }\n    if (precision && !(precision >= 0)) {\n        throw new Error(\"precision must be a positive number\");\n    }\n    var multiplier = Math.pow(10, precision || 0);\n    return Math.round(num * multiplier) / multiplier;\n}\nexports.round = round;\n/**\n * Convert a distance measurement (assuming a spherical Earth) from radians to a more friendly unit.\n * Valid units: miles, nauticalmiles, inches, yards, meters, metres, kilometers, centimeters, feet\n *\n * @name radiansToLength\n * @param {number} radians in radians across the sphere\n * @param {string} [units=\"kilometers\"] can be degrees, radians, miles, inches, yards, metres,\n * meters, kilometres, kilometers.\n * @returns {number} distance\n */\nfunction radiansToLength(radians, units) {\n    if (units === void 0) { units = \"kilometers\"; }\n    var factor = exports.factors[units];\n    if (!factor) {\n        throw new Error(units + \" units is invalid\");\n    }\n    return radians * factor;\n}\nexports.radiansToLength = radiansToLength;\n/**\n * Convert a distance measurement (assuming a spherical Earth) from a real-world unit into radians\n * Valid units: miles, nauticalmiles, inches, yards, meters, metres, kilometers, centimeters, feet\n *\n * @name lengthToRadians\n * @param {number} distance in real units\n * @param {string} [units=\"kilometers\"] can be degrees, radians, miles, inches, yards, metres,\n * meters, kilometres, kilometers.\n * @returns {number} radians\n */\nfunction lengthToRadians(distance, units) {\n    if (units === void 0) { units = \"kilometers\"; }\n    var factor = exports.factors[units];\n    if (!factor) {\n        throw new Error(units + \" units is invalid\");\n    }\n    return distance / factor;\n}\nexports.lengthToRadians = lengthToRadians;\n/**\n * Convert a distance measurement (assuming a spherical Earth) from a real-world unit into degrees\n * Valid units: miles, nauticalmiles, inches, yards, meters, metres, centimeters, kilometres, feet\n *\n * @name lengthToDegrees\n * @param {number} distance in real units\n * @param {string} [units=\"kilometers\"] can be degrees, radians, miles, inches, yards, metres,\n * meters, kilometres, kilometers.\n * @returns {number} degrees\n */\nfunction lengthToDegrees(distance, units) {\n    return radiansToDegrees(lengthToRadians(distance, units));\n}\nexports.lengthToDegrees = lengthToDegrees;\n/**\n * Converts any bearing angle from the north line direction (positive clockwise)\n * and returns an angle between 0-360 degrees (positive clockwise), 0 being the north line\n *\n * @name bearingToAzimuth\n * @param {number} bearing angle, between -180 and +180 degrees\n * @returns {number} angle between 0 and 360 degrees\n */\nfunction bearingToAzimuth(bearing) {\n    var angle = bearing % 360;\n    if (angle < 0) {\n        angle += 360;\n    }\n    return angle;\n}\nexports.bearingToAzimuth = bearingToAzimuth;\n/**\n * Converts an angle in radians to degrees\n *\n * @name radiansToDegrees\n * @param {number} radians angle in radians\n * @returns {number} degrees between 0 and 360 degrees\n */\nfunction radiansToDegrees(radians) {\n    var degrees = radians % (2 * Math.PI);\n    return (degrees * 180) / Math.PI;\n}\nexports.radiansToDegrees = radiansToDegrees;\n/**\n * Converts an angle in degrees to radians\n *\n * @name degreesToRadians\n * @param {number} degrees angle between 0 and 360 degrees\n * @returns {number} angle in radians\n */\nfunction degreesToRadians(degrees) {\n    var radians = degrees % 360;\n    return (radians * Math.PI) / 180;\n}\nexports.degreesToRadians = degreesToRadians;\n/**\n * Converts a length to the requested unit.\n * Valid units: miles, nauticalmiles, inches, yards, meters, metres, kilometers, centimeters, feet\n *\n * @param {number} length to be converted\n * @param {Units} [originalUnit=\"kilometers\"] of the length\n * @param {Units} [finalUnit=\"kilometers\"] returned unit\n * @returns {number} the converted length\n */\nfunction convertLength(length, originalUnit, finalUnit) {\n    if (originalUnit === void 0) { originalUnit = \"kilometers\"; }\n    if (finalUnit === void 0) { finalUnit = \"kilometers\"; }\n    if (!(length >= 0)) {\n        throw new Error(\"length must be a positive number\");\n    }\n    return radiansToLength(lengthToRadians(length, originalUnit), finalUnit);\n}\nexports.convertLength = convertLength;\n/**\n * Converts a area to the requested unit.\n * Valid units: kilometers, kilometres, meters, metres, centimetres, millimeters, acres, miles, yards, feet, inches, hectares\n * @param {number} area to be converted\n * @param {Units} [originalUnit=\"meters\"] of the distance\n * @param {Units} [finalUnit=\"kilometers\"] returned unit\n * @returns {number} the converted area\n */\nfunction convertArea(area, originalUnit, finalUnit) {\n    if (originalUnit === void 0) { originalUnit = \"meters\"; }\n    if (finalUnit === void 0) { finalUnit = \"kilometers\"; }\n    if (!(area >= 0)) {\n        throw new Error(\"area must be a positive number\");\n    }\n    var startFactor = exports.areaFactors[originalUnit];\n    if (!startFactor) {\n        throw new Error(\"invalid original units\");\n    }\n    var finalFactor = exports.areaFactors[finalUnit];\n    if (!finalFactor) {\n        throw new Error(\"invalid final units\");\n    }\n    return (area / startFactor) * finalFactor;\n}\nexports.convertArea = convertArea;\n/**\n * isNumber\n *\n * @param {*} num Number to validate\n * @returns {boolean} true/false\n * @example\n * turf.isNumber(123)\n * //=true\n * turf.isNumber('foo')\n * //=false\n */\nfunction isNumber(num) {\n    return !isNaN(num) && num !== null && !Array.isArray(num);\n}\nexports.isNumber = isNumber;\n/**\n * isObject\n *\n * @param {*} input variable to validate\n * @returns {boolean} true/false\n * @example\n * turf.isObject({elevation: 10})\n * //=true\n * turf.isObject('foo')\n * //=false\n */\nfunction isObject(input) {\n    return !!input && input.constructor === Object;\n}\nexports.isObject = isObject;\n/**\n * Validate BBox\n *\n * @private\n * @param {Array<number>} bbox BBox to validate\n * @returns {void}\n * @throws Error if BBox is not valid\n * @example\n * validateBBox([-180, -40, 110, 50])\n * //=OK\n * validateBBox([-180, -40])\n * //=Error\n * validateBBox('Foo')\n * //=Error\n * validateBBox(5)\n * //=Error\n * validateBBox(null)\n * //=Error\n * validateBBox(undefined)\n * //=Error\n */\nfunction validateBBox(bbox) {\n    if (!bbox) {\n        throw new Error(\"bbox is required\");\n    }\n    if (!Array.isArray(bbox)) {\n        throw new Error(\"bbox must be an Array\");\n    }\n    if (bbox.length !== 4 && bbox.length !== 6) {\n        throw new Error(\"bbox must be an Array of 4 or 6 numbers\");\n    }\n    bbox.forEach(function (num) {\n        if (!isNumber(num)) {\n            throw new Error(\"bbox must only contain numbers\");\n        }\n    });\n}\nexports.validateBBox = validateBBox;\n/**\n * Validate Id\n *\n * @private\n * @param {string|number} id Id to validate\n * @returns {void}\n * @throws Error if Id is not valid\n * @example\n * validateId([-180, -40, 110, 50])\n * //=Error\n * validateId([-180, -40])\n * //=Error\n * validateId('Foo')\n * //=OK\n * validateId(5)\n * //=OK\n * validateId(null)\n * //=Error\n * validateId(undefined)\n * //=Error\n */\nfunction validateId(id) {\n    if (!id) {\n        throw new Error(\"id is required\");\n    }\n    if ([\"string\", \"number\"].indexOf(typeof id) === -1) {\n        throw new Error(\"id must be a number or a string\");\n    }\n}\nexports.validateId = validateId;\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"game-page\"}},[_c('div',{attrs:{\"id\":\"street-view-container\"}},[_c('HeaderGame',{ref:\"header\",attrs:{\"distance\":_vm.scoreHeader,\"points\":_vm.pointsHeader,\"round\":_vm.round,\"room-name\":_vm.roomName,\"nb-round\":_vm.nbRound,\"remaining-time\":_vm.remainingTime,\"mode\":_vm.mode,\"leaderboardEnabled\":_vm.guessedLeaderboard || _vm.scoreLeaderboard},on:{\"toggleLeaderboard\":function($event){_vm.leaderboardShown = !_vm.leaderboardShown}}}),_c('div',{attrs:{\"id\":\"game-interface\"}},[_c('v-overlay',{attrs:{\"value\":!_vm.isReady && !_vm.multiplayer,\"opacity\":\"0.5\"}},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"size\":\"64\"}})],1),_c('div',{ref:\"streetView\",attrs:{\"id\":\"street-view\"}}),_c('div',{attrs:{\"id\":\"game-interface__overlay\"}},[_c('v-tooltip',{attrs:{\"top\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-btn',_vm._g(_vm._b({staticClass:\"resetBtn\",attrs:{\"rounded\":\"\",\"dark\":\"\",\"fab\":\"\"},on:{\"click\":_vm.resetLocation}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"mdi-crosshairs-gps\")])],1)]}}])},[_c('span',[_vm._v(_vm._s(_vm.$t('Maps.reset')))])]),_c('Maps',{ref:\"mapContainer\",attrs:{\"random-lat-lng\":_vm.randomLatLng,\"random-feature-properties\":_vm.randomFeatureProperties,\"room-name\":_vm.roomName,\"player-number\":_vm.playerNumber,\"player-name\":_vm.playerName,\"is-ready\":!!_vm.randomLatLng,\"round\":_vm.round,\"score\":_vm.score,\"points\":_vm.points,\"difficulty\":_vm.difficultyData,\"time-limitation\":_vm.timeLimitation,\"bbox\":_vm.bbox,\"mode\":_vm.mode,\"area\":_vm.area,\"time-attack\":_vm.timeAttack,\"nb-round\":_vm.nbRound,\"countdown\":_vm.countdown,\"score-mode\":_vm.scoreMode,\"areasGeoJsonUrl\":_vm.areaParams && _vm.areaParams.data.urlArea,\"pathKey\":_vm.areaParams ? _vm.areaParams.data.pathKey : 'iso_a2',\"mapDetails\":_vm.mapDetails},on:{\"resetLocation\":_vm.resetLocation,\"calculateDistance\":_vm.updateScore,\"showResult\":_vm.showResult,\"goToNextRound\":_vm.goToNextRound,\"finishGame\":_vm.finishGame,\"printMapFull\":function($event){_vm.printMapFull = $event}}})],1)],1)],1),_c('v-overlay',{attrs:{\"value\":_vm.overlay,\"opacity\":\"0.8\",\"z-index\":\"1\"}}),_c('DialogMessage',{attrs:{\"dialog-message\":_vm.dialogMessage,\"dialog-title\":_vm.dialogTitle,\"dialog-text\":_vm.dialogText}}),_c('div',{staticClass:\"alert-container\"},[(!_vm.$vuetify.breakpoint.mobile && _vm.roomName && !_vm.printMapFull)?_c('Leaderboard',{attrs:{\"leaderboard\":_vm.leaderboard},model:{value:(_vm.leaderboardShown),callback:function ($$v) {_vm.leaderboardShown=$$v},expression:\"leaderboardShown\"}}):_vm._e(),(_vm.$vuetify.breakpoint.mobile && _vm.roomName && !_vm.printMapFull)?_c('DialogMessage',{attrs:{\"dialog-title\":\"Leaderboard\",\"dismissible\":true,\"dialogMessage\":_vm.leaderboardShown},on:{\"close\":function($event){_vm.leaderboardShown = false}}},[_c('LeaderboardContent',{attrs:{\"leaderboard\":_vm.leaderboard}})],1):_vm._e(),(_vm.isVisibleDialog)?_c('v-alert',{staticClass:\"warning-alert\",attrs:{\"type\":\"warning\",\"dismissible\":\"\"}},[_c('b',[_vm._v(_vm._s(_vm.$t('StreetView.nearby.title')))]),_vm._v(\" : \"+_vm._s(_vm.$t('StreetView.nearby.message'))+\" \")]):_vm._e(),_c('v-alert',{attrs:{\"id\":\"warningCountdown\",\"type\":\"info\",\"dismissible\":\"\",\"transition\":\"slide-x-transition\",\"prominent\":\"\",\"icon\":\"mdi-clock-fast\"},model:{value:(_vm.isVisibleCountdownAlert),callback:function ($$v) {_vm.isVisibleCountdownAlert=$$v},expression:\"isVisibleCountdownAlert\"}},[_vm._v(\" \"+_vm._s(_vm.$tc('StreetView.countdownAlert', _vm.remainingTime))+\" \"),_c('v-progress-linear',{attrs:{\"active\":_vm.isVisibleCountdownAlert,\"color\":\"white\",\"absolute\":\"\",\"bottom\":\"\"},model:{value:(_vm.countdownPercentage),callback:function ($$v) {_vm.countdownPercentage=$$v},expression:\"countdownPercentage\"}})],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('v-app-bar',{staticClass:\"header-game\",attrs:{\"color\":\"grey darken-4\"}},[(_vm.remainingTime != null && _vm.remainingTime > 0)?_c('div',[_c('span',{attrs:{\"id\":\"countdown-text\"}},[_vm._v(_vm._s(_vm.countdownText))])]):_c('div',[_c('span',{attrs:{\"id\":\"countdown-text\"}},[_vm._v(_vm._s(_vm.timerText))])]),(_vm.roomName && !_vm.streamerMode)?_c('div',{staticClass:\"round-score-container room-name\"},[_c('span',{staticClass:\"sub-text\"},[_vm._v(_vm._s(_vm.$t('HeaderGame.room'))+\" : \")]),_c('span',{staticClass:\"main-text\"},[_vm._v(\" \"+_vm._s(_vm.roomName)+\" \")])]):_vm._e(),_c('div',{staticClass:\"flex-grow-1\"}),_c('div',{staticClass:\"round-score-container\"},[_c('span',{staticClass:\"sub-text\"},[_vm._v(_vm._s(_vm.$t('HeaderGame.round'))+\": \")]),_c('span',{staticClass:\"main-text\",attrs:{\"id\":\"roundLabel\"}},[_vm._v(\" \"+_vm._s(_vm.round)+\" / \"+_vm._s(_vm.nbRound)+\" \")])]),(_vm.isDistanceVisible)?_c('div',{staticClass:\"round-score-container\"},[_c('span',{staticClass:\"sub-text\"},[_vm._v(_vm._s(_vm.$t('HeaderGame.distance'))+\": \")]),_c('span',{staticClass:\"main-text\"},[_vm._v(_vm._s(_vm.$t('HeaderGame.kmaway', { value: new Intl.NumberFormat(_vm.$i18n.locale).format( _vm.distance / 1000 ), })))])]):_vm._e(),_c('div',{staticClass:\"round-points-container\"},[_c('span',{staticClass:\"sub-text\"},[_vm._v(_vm._s(_vm.$t('HeaderGame.score'))+\": \")]),_c('span',{staticClass:\"main-text\"},[_vm._v(_vm._s(_vm.points))])]),(_vm.roomName && _vm.leaderboardEnabled)?_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-btn',_vm._g(_vm._b({staticClass:\"ml-3\",attrs:{\"dark\":\"\",\"elevation\":\"\",\"fab\":\"\",\"small\":\"\"},on:{\"click\":_vm.toggleLeaderboard}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"mdi-scoreboard-outline\")])],1)]}}],null,false,3135299119)},[_c('span',[_vm._v(_vm._s(_vm.$t('StreetView.leaderboard')))])]):_vm._e()],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <v-app-bar class=\"header-game\" color=\"grey darken-4\">\n            <div v-if=\"remainingTime != null && remainingTime > 0\">\n                <span id=\"countdown-text\">{{ countdownText }}</span>\n            </div>\n\n            <div v-else>\n                <span id=\"countdown-text\">{{ timerText }}</span>\n            </div>\n            <div\n                v-if=\"roomName && !streamerMode\"\n                class=\"round-score-container room-name\"\n            >\n                <span class=\"sub-text\">{{ $t('HeaderGame.room') }} : </span>\n                <span class=\"main-text\">\n                    {{ roomName }}\n                </span>\n            </div>\n            <div class=\"flex-grow-1\" />\n            <div class=\"round-score-container\">\n                <span class=\"sub-text\">{{ $t('HeaderGame.round') }}: </span>\n                <span id=\"roundLabel\" class=\"main-text\">\n                    {{ round }} / {{ nbRound }}\n                </span>\n            </div>\n\n            <div v-if=\"isDistanceVisible\" class=\"round-score-container\">\n                <span class=\"sub-text\">{{ $t('HeaderGame.distance') }}: </span>\n                <span class=\"main-text\">{{\n                    $t('HeaderGame.kmaway', {\n                        value: new Intl.NumberFormat($i18n.locale).format(\n                            distance / 1000\n                        ),\n                    })\n                }}</span>\n            </div>\n            <div class=\"round-points-container\">\n                <span class=\"sub-text\">{{ $t('HeaderGame.score') }}: </span>\n\n                <span class=\"main-text\">{{ points }}</span>\n            </div>\n            <v-tooltip bottom v-if=\"roomName && leaderboardEnabled\">\n                <template v-slot:activator=\"{ on, attrs }\">\n                    <v-btn \n                        dark elevation fab small \n                        class=\"ml-3\"\n                        v-bind=\"attrs\"\n                        v-on=\"on\"\n                        @click=\"toggleLeaderboard\" \n                    >\n              \n                        <v-icon>mdi-scoreboard-outline</v-icon>\n                    </v-btn>\n            \n                </template>\n                <span>{{ $t('StreetView.leaderboard') }}</span>\n            </v-tooltip>\n        </v-app-bar>\n    </div>\n</template>\n\n<script>\nimport { getCountdownText } from '@/utils';\nimport { GAME_MODE } from '../constants';\nimport { mapState } from 'vuex';\n\nexport default {\n    props: [\n        'distance',\n        'points',\n        'round',\n        'remainingTime',\n        'roomName',\n        'nbRound',\n        'mode',\n        'leaderboardEnabled'\n    ],\n    data() {\n        return {\n            startedAt: null,\n            timerText: '',\n            intervalFunction: null,\n        };\n    },\n    watch: {\n        round: function () {\n            this.startTimer();\n        },\n    },\n    computed: {\n        ...mapState({\n            streamerMode: (state) => state.homeStore.streamerMode,\n        }),\n        countdownText() {\n            return getCountdownText(this.remainingTime);\n        },\n        isDistanceVisible() {\n            return this.mode !== GAME_MODE.COUNTRY;\n        },\n    },\n    methods: {\n        startTimer() {\n            if (this.remainingTime != 0) {\n                return;\n            }\n            this.startedAt = new Date();\n\n            this.intervalFunction = setInterval(() => {\n                this.timerText = getCountdownText(\n                    Math.round((Date.now() - this.startedAt) / 1000)\n                );\n            }, 1000);\n        },\n        stopTimer() {\n            if (this.intervalFunction) {\n                clearInterval(this.intervalFunction);\n            }\n        },\n        toggleLeaderboard() {\n            this.$emit('toggleLeaderboard');\n        },\n    },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.header-game {\n    z-index: 3;\n    opacity: 0.8;\n}\n\n.toolbar-title {\n    color: white;\n}\n\n.round-score-container {\n    padding: 0 10px 0 40px;\n}\n\n.round-points-container {\n    padding: 0 10px 0 40px;\n}\n\n.main-text,\n#countdown-text {\n    color: white;\n}\n\n.sub-text {\n    color: #616161;\n}\n@media (max-width: 555px) {\n    .room-name {\n        display: none;\n    }\n    .main-text,\n    .sub-text,\n    #countdown-text {\n        font-size: 14px;\n    }\n\n    .round-score-container {\n        padding: 0 5%;\n        .sub-text {\n            display: none;\n        }\n    }\n\n    .round-points-container {\n        padding: 0 5%;\n        .sub-text {\n            display: none;\n        }\n    }\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./HeaderGame.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./HeaderGame.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./HeaderGame.vue?vue&type=template&id=3611ba70&scoped=true\"\nimport script from \"./HeaderGame.vue?vue&type=script&lang=js\"\nexport * from \"./HeaderGame.vue?vue&type=script&lang=js\"\nimport style0 from \"./HeaderGame.vue?vue&type=style&index=0&id=3611ba70&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3611ba70\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',_vm._g({class:[\n        (_vm.$viewport.width >= 450 && (_vm.activeMap || _vm.pinActive)) ||\n            _vm.isMakeGuessButtonClicked ||\n            _vm.isNextButtonVisible\n            ? 'container-map--active'\n            : '',\n        _vm.printMapFull ? 'container-map--full' : '',\n        `container-map--size-${_vm.size}`,\n    ],attrs:{\"id\":\"container-map\"}},\n        _vm.$viewport.width >= 450 // Only on tablet and desktop Issue #104\n            ? {\n                mouseover: () => {\n                    _vm.activeMap = true;\n                },\n                mouseleave: () => {\n                    _vm.activeMap = false;\n                },\n            }\n            : {}\n    ),[_c('div',{staticClass:\"container-map_details\"},[_c('div',{staticClass:\"alert-container\"},[(_vm.guessString && !_vm.$vuetify.breakpoint.mobile && _vm.leaderboardShown)?_c('Leaderboard',{attrs:{\"leaderboard-shown\":_vm.leaderboardShown}}):_vm._e()],1),(_vm.printMapFull)?_c('DetailsMap',{attrs:{\"properties\":_vm.randomFeatureProperties}}):_vm._e()],1),_c('div',{staticClass:\"container-map_controls\"},[_c('div',{staticClass:\"container-map_btns\"},[_c('v-btn',{attrs:{\"fab\":\"\",\"x-small\":\"\"},on:{\"click\":_vm.showNotepad}},[_c('v-icon',{attrs:{\"dark\":\"\"}},[_vm._v(\" mdi-file-document-edit \")])],1),_c('v-btn',{attrs:{\"id\":\"btnDown\",\"fab\":\"\",\"x-small\":\"\",\"disabled\":_vm.size < 2},on:{\"click\":function($event){_vm.size--}}},[_c('v-icon',{attrs:{\"dark\":\"\"}},[_vm._v(\" mdi-arrow-bottom-left \")])],1),_c('v-btn',{attrs:{\"id\":\"btnUp\",\"fab\":\"\",\"x-small\":\"\",\"disabled\":_vm.size > 3},on:{\"click\":function($event){_vm.size++}}},[_c('v-icon',{attrs:{\"dark\":\"\"}},[_vm._v(\" mdi-arrow-top-right \")])],1),_c('v-btn',{attrs:{\"id\":\"btnPin\",\"fab\":\"\",\"x-small\":\"\"},on:{\"click\":function($event){_vm.pinActive = !_vm.pinActive}}},[_c('v-icon',{attrs:{\"dark\":\"\"}},[_vm._v(\" mdi-pin\"+_vm._s(_vm.pinActive ? '-off' : '')+\" \")])],1)],1)]),(\n            _vm.$viewport.width < 450 &&\n                !_vm.isGuessButtonClicked &&\n                _vm.isMakeGuessButtonClicked\n        )?_c('v-btn',{attrs:{\"id\":\"hide-map-button\",\"fab\":\"\",\"x-small\":\"\",\"color\":\"red\"},on:{\"click\":_vm.hideMap}},[_c('v-icon',{attrs:{\"color\":\"white\"}},[_vm._v(\" mdi-close \")])],1):_vm._e(),(this.mode === 'classic')?_c('Map',{ref:\"map\",attrs:{\"id\":\"map\",\"bbox\":_vm.bbox},on:{\"setSeletedPos\":_vm.setSeletedPos}}):_vm._e(),(this.mode !== 'classic')?_c('MapAreas',{ref:\"map\",attrs:{\"id\":\"map\",\"area\":_vm.area,\"areasGeoJsonUrl\":_vm.areasGeoJsonUrl,\"pathKey\":_vm.pathKey,\"bbox\":_vm.bbox,\"showFlag\":this.mode === 'country'},on:{\"setSeletedPos\":_vm.setSeletedPos}}):_vm._e(),(!_vm.printMapFull)?_c('textarea',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isNotepadVisible),expression:\"isNotepadVisible\"}],ref:\"refNotepad\",staticClass:\"container-map_notepad\",attrs:{\"spellcheck\":\"false\"}}):_vm._e(),_vm._v(\" \"),(\n            !_vm.isNextButtonVisible &&\n                !_vm.isSummaryButtonVisible &&\n                (_vm.$viewport.width > 450 || _vm.isMakeGuessButtonClicked)\n        )?_c('button',{attrs:{\"id\":\"guess-button\",\"disabled\":_vm.randomLatLng == null ||\n                _vm.selectedPos == null ||\n                _vm.isGuessButtonClicked ||\n                (!!this.room && !_vm.isReady)},on:{\"click\":_vm.selectLocation}},[_vm._v(\" \"+_vm._s(_vm.$t('Maps.guess'))+\" \")]):_vm._e(),(_vm.isNextButtonVisible)?_c('button',{style:({\n            backgroundColor: _vm.isNextButtonEnabled ? '#F44336' : '#B71C1C',\n        }),attrs:{\"id\":\"next-button\",\"disabled\":!_vm.isNextButtonEnabled},on:{\"click\":function($event){return _vm.goToNextRound(false)}}},[_vm._v(\" \"+_vm._s(_vm.$t('Maps.nextRound'))+\" \")]):_vm._e(),(_vm.isSummaryButtonVisible)?_c('button',{attrs:{\"id\":\"summary-button\"},on:{\"click\":function($event){_vm.dialogSummary = true}}},[_vm._v(\" \"+_vm._s(_vm.$t('Maps.viewSummary'))+\" \")]):_vm._e(),(\n            _vm.$viewport.width < 450 &&\n                !_vm.isGuessButtonClicked &&\n                !_vm.isMakeGuessButtonClicked &&\n                !_vm.isNextButtonVisible\n        )?_c('button',{staticClass:\"primary\",attrs:{\"id\":\"make-guess-button\"},on:{\"click\":_vm.showMap}},[_vm._v(\" \"+_vm._s(_vm.$t('Maps.makeGuess'))+\" \")]):_vm._e(),_c('DialogSummary',{attrs:{\"dialog-summary\":_vm.dialogSummary,\"summary-texts\":_vm.summaryTexts,\"score\":_vm.score,\"player-name\":_vm.playerName,\"points\":_vm.points,\"game\":_vm.game,\"multiplayer\":!!_vm.room,\"mapDetails\":_vm.mapDetails,\"nb-round\":_vm.nbRound},on:{\"finishGame\":_vm.finishGame,\"playAgain\":function($event){return _vm.goToNextRound(true)}}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-dialog',{attrs:{\"value\":_vm.dialogSummary,\"max-width\":\"720\",\"persistent\":\"\",\"fullscreen\":_vm.$viewport.width < 450}},[_c('v-card',{attrs:{\"color\":\"#061422\"}},[_c('v-card-text',{attrs:{\"id\":\"card-text\"}},[(!_vm.multiplayer)?_c('v-row',{attrs:{\"justify\":\"center\"}},[_c('p',{attrs:{\"id\":\"summary-text\"},domProps:{\"innerHTML\":_vm._s(\n                        _vm.$t('DialogSummary.summaryMsgSinglePoints', {\n                            points: _vm.points,\n                        }) +\n                            (_vm.showDistance\n                                ? _vm.$t('DialogSummary.summaryMsgSingleDistance', {\n                                    distance: _vm.score / 1000,\n                                })\n                                : '')\n                    )}})]):_vm._e(),_vm._l((_vm.summaryTexts),function(text,index){return _c('v-row',{key:index,staticClass:\"mt-3\",attrs:{\"justify\":\"center\"}},[_c('span',{attrs:{\"id\":\"summary-text\"}},[(index == 0 || index == 1 || index == 2)?_c('v-icon',{attrs:{\"color\":index == 0\n                                ? '#CCAC00'\n                                : index == 1\n                                    ? '#C0C0C0'\n                                    : '#CC8E34'}},[_vm._v(\"mdi-crown\")]):_vm._e(),_c('span',{domProps:{\"innerHTML\":_vm._s(\n                            _vm.$t('DialogSummary.summaryMsgMultiPoints', {\n                                playerName: text.playerName,\n                                points: text.finalPoints,\n                            }) +\n                                (_vm.showDistance\n                                    ? _vm.$t(\n                                        'DialogSummary.summaryMsgMultiDistance',\n                                        {\n                                            distance: text.finalScore / 1000,\n                                        }\n                                    )\n                                    : '')\n                        )}})],1)])}),_c('v-row',{staticClass:\"mt-8\",attrs:{\"justify\":\"center\"}},[_c('v-btn',{staticClass:\"mt-8\",attrs:{\"id\":\"play-again-button\",\"dark\":\"\",\"color\":\"#43B581\"},on:{\"click\":function($event){return _vm.$emit('finishGame')}}},[_vm._v(\" \"+_vm._s(_vm.$t('DialogSummary.viewDetails'))+\" \")]),(!_vm.multiplayer)?_c('v-btn',{staticClass:\"mt-8\",attrs:{\"id\":\"exit-button\",\"dark\":\"\",\"color\":\"#f44336\"},on:{\"click\":function($event){return _vm.$emit('playAgain')}}},[_vm._v(\" \"+_vm._s(_vm.$t('Maps.playAgain'))+\" \")]):_vm._e()],1)],2)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-dialog\n        :value=\"dialogSummary\"\n        max-width=\"720\"\n        persistent\n        :fullscreen=\"$viewport.width < 450\"\n    >\n        <v-card color=\"#061422\">\n            <v-card-text id=\"card-text\">\n                <v-row\n                    v-if=\"!multiplayer\"\n                    justify=\"center\"\n                >\n                    <p\n                        id=\"summary-text\"\n                        v-html=\"\n                            $t('DialogSummary.summaryMsgSinglePoints', {\n                                points,\n                            }) +\n                                (showDistance\n                                    ? $t('DialogSummary.summaryMsgSingleDistance', {\n                                        distance: score / 1000,\n                                    })\n                                    : '')\n                        \"\n                    />\n                </v-row>\n                <v-row\n                    v-for=\"(text, index) in summaryTexts\"\n                    :key=\"index\"\n                    class=\"mt-3\"\n                    justify=\"center\"\n                >\n                    <span id=\"summary-text\">\n                        <v-icon\n                            v-if=\"index == 0 || index == 1 || index == 2\"\n                            :color=\"\n                                index == 0\n                                    ? '#CCAC00'\n                                    : index == 1\n                                        ? '#C0C0C0'\n                                        : '#CC8E34'\n                            \"\n                        >mdi-crown</v-icon>\n                        <span\n                            v-html=\"\n                                $t('DialogSummary.summaryMsgMultiPoints', {\n                                    playerName: text.playerName,\n                                    points: text.finalPoints,\n                                }) +\n                                    (showDistance\n                                        ? $t(\n                                            'DialogSummary.summaryMsgMultiDistance',\n                                            {\n                                                distance: text.finalScore / 1000,\n                                            }\n                                        )\n                                        : '')\n                            \"\n                        />\n                    </span>\n                </v-row>\n                <v-row\n                    class=\"mt-8\"\n                    justify=\"center\"\n                >\n                    <v-btn\n                        id=\"play-again-button\"\n                        class=\"mt-8\"\n                        dark\n                        color=\"#43B581\"\n                        @click=\"$emit('finishGame')\"\n                    >\n                        {{ $t('DialogSummary.viewDetails') }}\n                    </v-btn>\n                    <v-btn\n                        v-if=\"!multiplayer\"\n                        id=\"exit-button\"\n                        class=\"mt-8\"\n                        dark\n                        color=\"#f44336\"\n                        @click=\"$emit('playAgain')\"\n                    >\n                        {{ $t('Maps.playAgain') }}\n                    </v-btn>\n                </v-row>\n            </v-card-text>\n        </v-card>\n    </v-dialog>\n</template>\n\n<script>\nimport { GAME_MODE } from '../constants';\nexport default {\n    props: [\n        'dialogSummary',\n        'summaryTexts',\n        'playerName',\n        'score',\n        'points',\n        'multiplayer',\n        'game',\n        'mode',\n        'mapDetails',\n        'nbRound',\n    ],\n    computed: {\n        showDistance() {\n            return this.mode === GAME_MODE.CLASSIC;\n        },\n    },\n    watch: {\n        dialogSummary: function (newVal) {\n            if (newVal == true) {\n                this.updateRecord();\n            }\n        },\n    },\n    methods: {\n        updateRecord() {\n            let history = localStorage.getItem('history');\n            if (history == null) {\n                history = [];\n            } else {\n                history = JSON.parse(history);\n            }\n            history.push({\n                ...this.game,\n                score: this.score,\n                points: this.points,\n                rank: this.multiplayer\n                    ? this.summaryTexts.findIndex(\n                          (text) => text.playerName === this.playerName\n                      ) + 1\n                    : undefined,\n                nbRound: this.nbRound,\n                mapDetails: this.mapDetails\n            });\n            localStorage.setItem('history', JSON.stringify(history));\n        },\n        finishGame() {\n            this.$emit('finishGame');\n        },\n    },\n};\n</script>\n\n<style scoped>\n#exit-button,\n#play-again-button {\n    height: 44px;\n    width: 210px;\n    border-radius: 40px;\n    margin: 0 2%;\n}\n\n#card-text {\n    text-align: center;\n    padding: 80px 10% 80px 10%;\n}\n\n#summary-text {\n    font-size: 18px;\n    opacity: 0.9;\n}\n\n@media (max-width: 450px) {\n    #exit-button,\n    #play-again-button {\n        height: 36px;\n    }\n\n    #exit-button {\n        margin-top: 28px;\n        margin-bottom: 24px;\n    }\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DialogSummary.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DialogSummary.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./DialogSummary.vue?vue&type=template&id=200a3bd4&scoped=true\"\nimport script from \"./DialogSummary.vue?vue&type=script&lang=js\"\nexport * from \"./DialogSummary.vue?vue&type=script&lang=js\"\nimport style0 from \"./DialogSummary.vue?vue&type=style&index=0&id=200a3bd4&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"200a3bd4\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (\n        _vm.properties &&\n            typeof _vm.properties === 'object' &&\n            (_vm.properties.title || _vm.properties.description)\n    )?_c('div',{staticClass:\"details-map_container\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.properties.title)+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.properties.description)+\" \")]),(_vm.properties.link && _vm.validURL(_vm.properties.link))?_c('a',{staticClass:\"details-map_link\",attrs:{\"href\":_vm.properties.link,\"target\":\"_blank\"}},[_c('v-icon',{attrs:{\"color\":\"darkGreen\"}},[_vm._v(\"mdi-alert-circle\")]),_vm._v(\" \"+_vm._s(_vm.$t('DetailsMap.moreInfo')))],1):_vm._e()]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div\n        v-if=\"\n            properties &&\n                typeof properties === 'object' &&\n                (properties.title || properties.description)\n        \"\n        class=\"details-map_container\"\n    >\n        <h2>\n            {{ properties.title }}\n        </h2>\n        <p>\n            {{ properties.description }}\n        </p>\n        <a\n            v-if=\"properties.link && validURL(properties.link)\"\n            :href=\"properties.link\"\n            target=\"_blank\"\n            class=\"details-map_link\"\n        ><v-icon color=\"darkGreen\">mdi-alert-circle</v-icon>\n            {{ $t('DetailsMap.moreInfo') }}</a>\n    </div>\n</template>\n\n<script>\nimport { validURL } from '@/utils';\nexport default {\n    name: 'DetailsMap',\n    props: ['properties'],\n    methods: {\n        validURL(url) {\n            return validURL(url);\n        },\n    },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.details-map_container {\n    background: #ded3af;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n    padding: 1% 2%;\n    color: black;\n    position: relative;\n    .details-map_link {\n        right: 0.6rem;\n        position: absolute;\n        bottom: 0.4rem;\n        text-decoration: none;\n        font-size: 0.9rem;\n        vertical-align: middle;\n        .v-icon {\n            font-size: 1.2rem;\n        }\n    }\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DetailsMap.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DetailsMap.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./DetailsMap.vue?vue&type=template&id=4d0af0f4&scoped=true\"\nimport script from \"./DetailsMap.vue?vue&type=script&lang=js\"\nexport * from \"./DetailsMap.vue?vue&type=script&lang=js\"\nimport style0 from \"./DetailsMap.vue?vue&type=style&index=0&id=4d0af0f4&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4d0af0f4\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"map\"}},[_c('GmapMap',{ref:\"mapRef\",attrs:{\"id\":\"mapClassic\",\"center\":{ lat: 37.86926, lng: -122.254811 },\"zoom\":1,\"map-type-id\":\"roadmap\",\"options\":{\n            fullscreenControl: false,\n            mapTypeControl: false,\n            streetViewControl: false,\n            draggableCursor: 'crosshair',\n            clickableIcons: false,\n            styles: _vm.$vuetify.theme.dark ? _vm.$vuetify.theme.themes.dark.gmap : _vm.$vuetify.theme.themes.light.gmap\n        }}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const MapMixin = {\r\n   \r\n    props: ['bbox'],\r\n    watch: {\r\n        bbox() {\r\n            this.centerOnBbox();\r\n        },\r\n    },\r\n    methods: {\r\n        centerOnBbox() {\r\n            if (this.map) {\r\n                if (this.bbox) {\r\n                    this.map.fitBounds({\r\n                        east: this.bbox[2],\r\n                        north: this.bbox[3],\r\n                        south: Math.max(this.bbox[1], -89),\r\n                        west: this.bbox[0],\r\n                    });\r\n                } else {\r\n                    this.map.setZoom(0);\r\n                    this.map.setCenter({lat: 0, lng: 0});\r\n                }\r\n            }\r\n        },        \r\n        drawPolyline() {},\r\n        removePolylines() {},\r\n    }\r\n};\r\n\r\nexport default MapMixin;\r\n","<template>\n    <div id=\"map\">\n        <GmapMap\n            id=\"mapClassic\"\n            ref=\"mapRef\"\n            :center=\"{ lat: 37.86926, lng: -122.254811 }\"\n            :zoom=\"1\"\n            map-type-id=\"roadmap\"\n            :options=\"{\n                fullscreenControl: false,\n                mapTypeControl: false,\n                streetViewControl: false,\n                draggableCursor: 'crosshair',\n                clickableIcons: false,\n                styles: $vuetify.theme.dark ? $vuetify.theme.themes.dark.gmap : $vuetify.theme.themes.light.gmap\n            }\"\n        />\n    </div>\n</template>\n<script>\nimport { STROKE_COLORS } from '../../constants';\nimport MapMixin from './mixins/MapMixin';\n\nexport default {\n    name: 'Map',\n    mixins: [MapMixin],\n    data() {\n        return {\n            map: null,\n            marker: [],\n            markers: [],\n            polylines: [],\n            strokeColors: STROKE_COLORS,\n        };\n    },\n    async mounted() {\n        await this.$gmapApiPromiseLazy();\n        this.$refs.mapRef.$mapPromise.then((map) => {\n            this.map = map;\n\n            this.centerOnBbox();\n        });\n    },\n    methods: {\n        putMarker(position, isRandomLocation, label) {\n            let info = {};\n            if (isRandomLocation) {\n                info = {\n                    icon: {\n                        url: window.location.origin + '/img/icons/favicon-16x16.png',\n                        anchor: new google.maps.Point(8,8),\n                    }\n                };\n            }\n            if (label) {\n                info = {\n                    label,\n                };\n            }\n            const marker = new google.maps.Marker({\n                ...info,\n                position: position,\n                map: this.map,\n            });\n            this.markers.push(marker);\n        },\n        removeMarkers() {\n            for (const element of this.markers) {\n                element.setMap(null);\n            }\n            this.markers = [];\n        },\n        setInfoWindow(playerName, distance, points, endGame = false) {\n            let dataToDisplay = '';\n\n            if (distance < 1000) {\n                dataToDisplay +=\n                    '<b>' +\n                    this.$t('Maps.infoWindow.Distance') +\n                    ': </b>' +\n                    new Intl.NumberFormat(this.$i18n.locale, { style: \"unit\", unit:\"meter\" }).format(distance);\n            } else {\n                dataToDisplay +=\n                    '<b>' +\n                    this.$t('Maps.infoWindow.Distance') +\n                    ': </b>' +\n                    new Intl.NumberFormat(this.$i18n.locale, { style: \"unit\", unit:\"kilometer\" }).format(distance / 1000);\n            }\n\n            dataToDisplay +=\n                '<br/><b>' +\n                this.$t('Maps.infoWindow.Points') +\n                ': </b>' +\n                points;\n\n            const infoWindow = new google.maps.InfoWindow({\n                headerContent: playerName,\n                headerDisabled: !playerName,\n                content: `<div>${dataToDisplay}</div>`,\n            });\n            infoWindow.open(\n                this.map,\n                this.markers[\n                    playerName || endGame ? this.markers.length - 1 : 0\n                ]\n            );\n        },\n        drawPolyline(selectedLatLng, i = 0, randomLatLng) {\n            const lineSymbol = {\n                path: \"M 0,-1 0,1\",\n                strokeOpacity: 1,\n                scale: 2,\n            };\n            const polyline = new google.maps.Polyline({\n                path: [selectedLatLng, randomLatLng],\n                strokeOpacity: 0,\n                strokeColor: this.strokeColors[i % this.strokeColors.length],\n                icons: [\n                    {\n                        icon: lineSymbol,\n                        offset: \"0\",\n                        repeat: \"10px\",\n                    },\n                ],\n            });\n            polyline.setMap(this.map);\n            this.polylines.push(polyline);\n        },\n        removePolylines() {\n            for (const element of this.polylines) {\n                element.setMap(null);\n            }\n        },\n        startNextRound() {\n            this.$refs.mapRef.$mapPromise.then(() => {\n                this.map.addListener('click', (e) => {\n                    // Clear the previous marker when clicking the map\n                    this.removeMarkers();\n\n                    // Show the new marker\n                    this.putMarker(e.latLng);\n\n                    // Save latLng\n                    this.$emit('setSeletedPos', e.latLng);\n                });\n                this.centerOnBbox();\n            });\n        },\n        removeListener() {\n            google.maps.event.clearListeners(this.map, 'click');\n        },\n        fitBounds() {\n            const bounds = new google.maps.LatLngBounds();\n\n            for (const element of this.markers) {\n                if (element.getVisible()) {\n                    bounds.extend(element.getPosition());\n                }\n            }\n\n            this.map.fitBounds(bounds);\n        },\n    },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n#mapClassic {\n    width: 100%;\n    height: 100%;\n    background-color: var(--v-gmapBg-base);\n}\n\n.gm-style-iw {\n  color: black;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Map.vue?vue&type=template&id=3c21c1d4&scoped=true\"\nimport script from \"./Map.vue?vue&type=script&lang=js\"\nexport * from \"./Map.vue?vue&type=script&lang=js\"\nimport style0 from \"./Map.vue?vue&type=style&index=0&id=3c21c1d4&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3c21c1d4\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"map-areas\",attrs:{\"id\":\"map\"}},[_c('div',{staticClass:\"map-content\"},[(_vm.polygonSelect || _vm.areaName)?_c('div',{staticClass:\"map-label\",attrs:{\"title\":_vm.areaName}},[(_vm.showFlag)?_c('FlagIcon',{attrs:{\"size\":\"big\",\"rounded\":\"\",\"iso-name\":_vm.areaRandom || _vm.areaNameSelect}}):_vm._e(),_c('span',{staticClass:\"map-label__country-name\",class:{\n                    beige: !_vm.areaRandom,\n                    green: !!_vm.areaRandom,\n                    'white--text': !!_vm.areaRandom,\n                    large: !_vm.showFlag,\n                }},[_vm._v(\" \"+_vm._s(_vm.areaName)+\" \")])],1):_vm._e(),_c('GmapMap',{ref:\"mapRef\",attrs:{\"id\":\"mapAreas\",\"center\":{ lat: 37.86926, lng: -122.254811 },\"zoom\":1,\"map-type-id\":\"roadmap\",\"options\":{\n                fullscreenControl: false,\n                mapTypeControl: false,\n                streetViewControl: false,\n                draggableCursor: 'crosshair',\n                clickableIcons: false,\n                styles: _vm.$vuetify.theme.dark ? _vm.$vuetify.theme.themes.dark.gmap : _vm.$vuetify.theme.themes.light.gmap,\n            }}})],1),(_vm.infoWindowDatas.length > 0)?_c('div',{staticClass:\"result-panel\"},_vm._l((_vm.infoWindowDatas),function(info){return _c('div',{key:info.playerName,staticClass:\"result-panel__item\",class:{ flag: _vm.showFlag }},[(_vm.showFlag)?_c('FlagIcon',{attrs:{\"iso-name\":info.area}}):_vm._e(),_c('b',[_vm._v(_vm._s(info.playerName))]),(!_vm.showFlag)?_c('span',[_vm._v(_vm._s(info.area))]):_vm._e()],1)}),0):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div id=\"map\" class=\"map-areas\">\n        <div class=\"map-content\">\n            <div\n                v-if=\"polygonSelect || areaName\"\n                class=\"map-label\"\n                :title=\"areaName\"\n            >\n                <FlagIcon\n                    v-if=\"showFlag\"\n                    size=\"big\"\n                    rounded\n                    :iso-name=\"areaRandom || areaNameSelect\"\n                />\n                <span\n                    class=\"map-label__country-name\"\n                    :class=\"{\n                        beige: !areaRandom,\n                        green: !!areaRandom,\n                        'white--text': !!areaRandom,\n                        large: !showFlag,\n                    }\"\n                >\n                    {{ areaName }}\n                </span>\n            </div>\n            <GmapMap\n                id=\"mapAreas\"\n                ref=\"mapRef\"\n                :center=\"{ lat: 37.86926, lng: -122.254811 }\"\n                :zoom=\"1\"\n                map-type-id=\"roadmap\"\n                :options=\"{\n                    fullscreenControl: false,\n                    mapTypeControl: false,\n                    streetViewControl: false,\n                    draggableCursor: 'crosshair',\n                    clickableIcons: false,\n                    styles: $vuetify.theme.dark ? $vuetify.theme.themes.dark.gmap : $vuetify.theme.themes.light.gmap,\n                }\"\n            />\n        </div>\n        <div v-if=\"infoWindowDatas.length > 0\" class=\"result-panel\">\n            <div\n                v-for=\"info in infoWindowDatas\"\n                :key=\"info.playerName\"\n                class=\"result-panel__item\"\n                :class=\"{ flag: showFlag }\"\n            >\n                <FlagIcon v-if=\"showFlag\" :iso-name=\"info.area\" />\n                <b>{{ info.playerName }}</b>\n                <span v-if=\"!showFlag\">{{ info.area }}</span>\n            </div>\n        </div>\n    </div>\n</template>\n<script type=\"text/javascript\">\nimport FlagIcon from '@/components/shared/FlagIcon';\nimport { mapActions, mapGetters } from 'vuex';\nimport MapMixin from './mixins/MapMixin';\n\nexport default {\n    mixins: [MapMixin],\n    components: {\n        FlagIcon,\n    },\n    props: {\n        area: {\n            type: String,\n        },\n        areasGeoJsonUrl: String,\n        pathKey: {\n            type: String,\n            default: 'iso_a2',\n        },\n        showFlag: Boolean,\n    },\n    data() {\n        return {\n            map: null,\n            polygonSelect: null,\n            areas: {},\n            markers: [],\n            allowSelect: true,\n            areaRandom: null,\n            randomPos: null,\n            infoWindowDatas: [],\n        };\n    },\n    computed: {\n        ...mapGetters(['areasJson']),\n        areaName() {\n            if (this.showFlag && (this.areaRandom || this.polygonSelect)) {\n                return this.$countryNameLocale(\n                    this.areaRandom || this.areaNameSelect\n                );\n            } else {\n                return this.areaRandom || this.areaNameSelect;\n            }\n        },\n        areaNameSelect() {\n            return this.polygonSelect\n                ? this.polygonSelect\n                      .getFeatureById('feature')\n                      .getProperty(this.pathKey)\n                : undefined;\n        },\n    },\n    async mounted() {\n        await this.loadAreas(this.areasGeoJsonUrl);\n        await this.$gmapApiPromiseLazy();\n        this.$refs.mapRef.$mapPromise.then((map) => {\n            this.map = map;\n            this.areasJson.features.forEach((c) => {\n                if (Array.isArray(c.geometry.coordinates)) {\n                    const p = new google.maps.Data({\n                        style: {\n                            strokeOpacity: 0,\n                            fillOpacity: 0,\n                            strokeWeight: 2,\n                        },\n                    });\n                    c.id = 'feature';\n                    p.addGeoJson(c);\n\n                    p.setMap(this.map);\n                    p.addListener('click', () => {\n                        if (!this.allowSelect) {\n                            return;\n                        }\n                        if (this.polygonSelect) {\n                            this.polygonSelect.setStyle({\n                                strokeOpacity: 0,\n                                fillOpacity: 0,\n                            });\n                        }\n                        if (Object.is(p, this.polygonSelect)) {\n                            this.polygonSelect = null;\n                            this.$emit('setSeletedPos', null);\n                        } else {\n                            p.setStyle({\n                                strokeOpacity: 0.8,\n                                fillOpacity: 0.3,\n                                strokeColor: '#1E3A8A',\n                                fillColor: '#1D4ED8',\n                            });\n\n                            this.polygonSelect = p;\n                            this.$emit(\n                                'setSeletedPos',\n                                p\n                                    .getFeatureById('feature')\n                                    .getProperty(this.pathKey)\n                            );\n                        }\n                    });\n                    this.areas[c.properties[this.pathKey]] = p;\n                }\n            });\n            this.centerOnBbox();\n        });\n    },\n    methods: {\n        ...mapActions(['loadAreas']),\n        putMarker(pos, isRandomLocation, area) {\n            const areaName = isRandomLocation ? area || this.area : pos;\n            if (isRandomLocation) {\n                this.areaRandom = this.area;\n                this.randomPos = new google.maps.Marker({\n                    position: pos,\n                    map: this.map,\n                });\n            }\n            if (this.areas[areaName]) {\n                this.areas[areaName].setStyle({\n                    fillOpacity: 0.3,\n                    strokeOpacity: 0.8,\n                    fillColor: isRandomLocation ? '#52DA42' : '#FF4081',\n                    strokeColor: isRandomLocation ? '#16A910' : '#FF4081',\n                });\n                this.markers.push(areaName);\n            }\n        },\n        removeMarkers() {\n            this.markers.forEach((areaName) => {\n                this.areas[areaName].setStyle({\n                    strokeOpacity: 0,\n                    fillOpacity: 0,\n                });\n            });\n            if (this.polygonSelect) {\n                this.polygonSelect.setStyle({\n                    strokeOpacity: 0,\n                    fillOpacity: 0,\n                });\n            }\n            if (this.randomPos) {\n                this.randomPos.setMap(null);\n                this.randomPos = null;\n            }\n            this.markers = [];\n            this.infoWindowDatas = [];\n        },\n        setInfoWindow(playerName, _distance, _points, _endGame, area) {\n            if (playerName) this.infoWindowDatas.push({ playerName, area });\n        },\n        startNextRound() {\n            if (this.polygonSelect) {\n                this.polygonSelect.setStyle({\n                    strokeOpacity: 0,\n                    fillOpacity: 0,\n                });\n            }\n            this.polygonSelect = null;\n            this.areaRandom = null;\n            this.allowSelect = true;\n\n            this.centerOnBbox();\n        },\n        removeListener() {\n            this.allowSelect = false;\n        },\n        fitBounds() {\n            if (this.bbox) {\n                this.centerOnBbox();\n            } else {\n                this.map.setZoom(2);\n            }\n        },\n    },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n#map {\n    overflow: hidden;\n    display: flex;\n    .result-panel {\n        height: 100%;\n        padding: 2%;\n        background: var(--v-card-base);\n        display: flex;\n        flex-direction: column;\n        width: 30%;\n        .result-panel__item {\n            display: grid;\n            grid-template-rows: auto auto;\n\n            &.flag {\n                display: inline-grid;\n                grid-template-columns: 42px auto;\n                grid-column-gap: 5px;\n                align-items: center;\n            }\n        }\n    }\n    .map-content {\n        position: relative;\n        width: 100%;\n        height: 100%;\n        #mapAreas {\n            width: 100%;\n            height: 100%;\n        }\n        .map-label {\n            z-index: 5;\n            position: absolute;\n            top: 1rem;\n            left: 1rem;\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n\n            .map-label__country-name {\n                &.large {\n                    width: fit-content;\n                }\n                width: 7rem;\n                text-align: center;\n                text-overflow: ellipsis;\n                white-space: nowrap;\n                overflow: hidden;\n                background: var(--v-primary-base);\n                margin-top: 0.2rem;\n                padding: 0.1% 5%;\n                border-radius: 5px;\n                font-weight: 500;\n            }\n        }\n    }\n}\n@media (max-width: 450px) {\n    #map.map-areas {\n        display: grid !important;\n        grid-auto-rows: auto 30vw;\n        .result-panel {\n            width: 100%;\n            overflow-y: auto;\n        }\n    }\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MapAreas.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MapAreas.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./MapAreas.vue?vue&type=template&id=30884500&scoped=true\"\nimport script from \"./MapAreas.vue?vue&type=script&lang=js\"\nexport * from \"./MapAreas.vue?vue&type=script&lang=js\"\nimport style0 from \"./MapAreas.vue?vue&type=style&index=0&id=30884500&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"30884500\",\n  null\n  \n)\n\nexport default component.exports","import { SCORE_MODE } from '../../constants';\n\nexport function getScore(distance, difficulty, time, mode) {\n    switch (mode) {\n        case SCORE_MODE.TIME:\n            return Math.round(\n                getScoreNormal(distance, difficulty) * Math.exp(-time / 6000000)\n            );\n\n        default:\n            return getScoreNormal(distance, difficulty);\n    }\n}\n\nfunction getScoreNormal(distance, difficulty) {\n    if (distance < 50) {\n        return 5000;\n    } else {\n        const point = Math.round(\n            5000 * Math.exp(-(distance / 1000 / difficulty))\n        );\n\n        if (point > 5000) {\n            return 5000;\n        } else if (point < 0) {\n            return 0;\n        }\n        return point;\n    }\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-alert',{staticClass:\"mt-2 mr-2\",attrs:{\"id\":\"leaderboard-alert\",\"transition\":\"slide-x-reverse-transition\",\"width\":\"300\",\"dark\":\"\",\"dismissible\":\"\",\"value\":_vm.value},on:{\"input\":(value) => _vm.$emit('input', value)}},[_c('h4',[_vm._v(\"Leaderboard\")]),_c('LeaderboardContent',{attrs:{\"leaderboard\":_vm.leaderboard}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',_vm._l((_vm.leaderboard),function({name, scoreHeader, guessed, id}){return _c('div',{key:id,staticClass:\"leaderboard-alert__line\"},[_c('div',[(guessed)?_c('v-icon',{attrs:{\"color\":\"green\"}},[_vm._v(\"mdi-check\")]):_vm._e()],1),_c('p',[_vm._v(\" \"+_vm._s(name)+\" \"+_vm._s(scoreHeader ? `: ${scoreHeader}` : '')+\" \")])])}),0)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <div class=\"leaderboard-alert__line\" v-for=\"({name, scoreHeader, guessed, id}) of leaderboard\" :key=\"id\">\n            <div>\n                <v-icon color=\"green\" v-if=\"guessed\">mdi-check</v-icon>\n            </div>\n            <p>\n                {{ name }} {{ scoreHeader ? `: ${scoreHeader}` : ''}}\n            </p>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: \"Leaderboard\",\n    props: {\n        leaderboard: Array,\n    },\n};\n</script>\n\n<style scoped lang=\"scss\">\n\n.leaderboard-alert__line{\n    display: grid;\n    grid-template-columns: 1.5rem auto;\n    align-items: center;\n    gap: 0.5rem;\n    p{\n        margin: 0;\n        vertical-align: baseline;\n    }\n    margin-top: 0.5rem;\n}\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LeaderboardContent.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LeaderboardContent.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./LeaderboardContent.vue?vue&type=template&id=7a33b83f&scoped=true\"\nimport script from \"./LeaderboardContent.vue?vue&type=script&lang=js\"\nexport * from \"./LeaderboardContent.vue?vue&type=script&lang=js\"\nimport style0 from \"./LeaderboardContent.vue?vue&type=style&index=0&id=7a33b83f&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7a33b83f\",\n  null\n  \n)\n\nexport default component.exports","<template>\n    <v-alert\n        id=\"leaderboard-alert\"\n        transition=\"slide-x-reverse-transition\"\n        width=\"300\"\n        dark\n        class=\"mt-2 mr-2\"\n        dismissible\n        :value=\"value\"\n        @input=\"(value) => $emit('input', value)\"\n    >\n        <h4>Leaderboard</h4>\n        <LeaderboardContent\n            :leaderboard=\"leaderboard\"\n        />\n    </v-alert>\n\n</template>\n\n<script>\nimport LeaderboardContent from './LeaderboardContent.vue';\n\nexport default {\n    name: \"Leaderboard\",\n    props: {\n        leaderboard: Array,\n        value: Boolean, \n    },\n    components: {\n        LeaderboardContent,\n    }\n};\n</script>\n\n<style scoped lang=\"scss\">\n.leaderboard {\n    inset: 0;\n    position: absolute;\n}\n#leaderboard-alert {\n    opacity: 0.8;\n    white-space: pre-line;\n    float: right;\n}\n\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Leaderboard.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Leaderboard.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Leaderboard.vue?vue&type=template&id=41b5218a&scoped=true\"\nimport script from \"./Leaderboard.vue?vue&type=script&lang=js\"\nexport * from \"./Leaderboard.vue?vue&type=script&lang=js\"\nimport style0 from \"./Leaderboard.vue?vue&type=style&index=0&id=41b5218a&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"41b5218a\",\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div\n        id=\"container-map\"\n        :class=\"[\n            ($viewport.width >= 450 && (activeMap || pinActive)) ||\n                isMakeGuessButtonClicked ||\n                isNextButtonVisible\n                ? 'container-map--active'\n                : '',\n            printMapFull ? 'container-map--full' : '',\n            `container-map--size-${size}`,\n        ]\"\n        v-on=\"\n            $viewport.width >= 450 // Only on tablet and desktop Issue #104\n                ? {\n                    mouseover: () => {\n                        activeMap = true;\n                    },\n                    mouseleave: () => {\n                        activeMap = false;\n                    },\n                }\n                : {}\n        \"\n    >\n        <div class=\"container-map_details\">\n            <div class=\"alert-container\">\n                <Leaderboard\n                    v-if=\"guessString && !$vuetify.breakpoint.mobile && leaderboardShown\"\n                    :leaderboard-shown=\"leaderboardShown\"\n                ></Leaderboard>\n            </div>\n            <DetailsMap\n                v-if=\"printMapFull\"\n                :properties=\"randomFeatureProperties\"\n            />\n        </div>\n\n        <div class=\"container-map_controls\">\n            <div class=\"container-map_btns\">\n                <v-btn fab x-small @click=\"showNotepad\">\n                    <v-icon dark> mdi-file-document-edit </v-icon>\n                </v-btn>\n\n                <v-btn\n                    id=\"btnDown\"\n                    fab\n                    x-small\n                    :disabled=\"size < 2\"\n                    @click=\"size--\"\n                >\n                    <v-icon dark> mdi-arrow-bottom-left </v-icon>\n                </v-btn>\n\n                <v-btn\n                    id=\"btnUp\"\n                    fab\n                    x-small\n                    :disabled=\"size > 3\"\n                    @click=\"size++\"\n                >\n                    <v-icon dark> mdi-arrow-top-right </v-icon>\n                </v-btn>\n\n                <v-btn id=\"btnPin\" fab x-small @click=\"pinActive = !pinActive\">\n                    <v-icon dark> mdi-pin{{ pinActive ? '-off' : '' }} </v-icon>\n                </v-btn>\n            </div>\n        </div>\n        <v-btn\n            v-if=\"\n                $viewport.width < 450 &&\n                    !isGuessButtonClicked &&\n                    isMakeGuessButtonClicked\n            \"\n            id=\"hide-map-button\"\n            fab\n            x-small\n            color=\"red\"\n            @click=\"hideMap\"\n        >\n            <v-icon color=\"white\"> mdi-close </v-icon>\n        </v-btn>\n        <Map\n            v-if=\"this.mode === 'classic'\"\n            id=\"map\"\n            ref=\"map\"\n            :bbox=\"bbox\"\n            @setSeletedPos=\"setSeletedPos\"\n        />\n        <MapAreas\n            v-if=\"this.mode !== 'classic'\"\n            id=\"map\"\n            ref=\"map\"\n            :area=\"area\"\n            :areasGeoJsonUrl=\"areasGeoJsonUrl\"\n            :pathKey=\"pathKey\"\n            :bbox=\"bbox\"\n            :showFlag=\"this.mode === 'country'\"\n            @setSeletedPos=\"setSeletedPos\"\n        />\n        <textarea\n            class=\"container-map_notepad\"\n            v-show=\"isNotepadVisible\"\n            spellcheck=\"false\"\n            v-if=\"!printMapFull\"\n            ref=\"refNotepad\"\n        />\n        <button\n            v-if=\"\n                !isNextButtonVisible &&\n                    !isSummaryButtonVisible &&\n                    ($viewport.width > 450 || isMakeGuessButtonClicked)\n            \"\n            id=\"guess-button\"\n            :disabled=\"\n                randomLatLng == null ||\n                    selectedPos == null ||\n                    isGuessButtonClicked ||\n                    (!!this.room && !isReady)\n            \"\n            @click=\"selectLocation\"\n        >\n            {{ $t('Maps.guess') }}\n        </button>\n        <button\n            v-if=\"isNextButtonVisible\"\n            id=\"next-button\"\n            :disabled=\"!isNextButtonEnabled\"\n            :style=\"{\n                backgroundColor: isNextButtonEnabled ? '#F44336' : '#B71C1C',\n            }\"\n            @click=\"goToNextRound(false)\"\n        >\n            {{ $t('Maps.nextRound') }}\n        </button>\n        <button\n            v-if=\"isSummaryButtonVisible\"\n            id=\"summary-button\"\n            @click=\"dialogSummary = true\"\n        >\n            {{ $t('Maps.viewSummary') }}\n        </button>\n\n        <button\n            v-if=\"\n                $viewport.width < 450 &&\n                    !isGuessButtonClicked &&\n                    !isMakeGuessButtonClicked &&\n                    !isNextButtonVisible\n            \"\n            id=\"make-guess-button\"\n            class=\"primary\"\n            @click=\"showMap\"\n        >\n            {{ $t('Maps.makeGuess') }}\n        </button>\n        <DialogSummary\n            :dialog-summary=\"dialogSummary\"\n            :summary-texts=\"summaryTexts\"\n            :score=\"score\"\n            :player-name=\"playerName\"\n            :points=\"points\"\n            :game=\"game\"\n            :multiplayer=\"!!room\"\n            :mapDetails=\"mapDetails\"\n            :nb-round=\"nbRound\"\n            @finishGame=\"finishGame\"\n            @playAgain=\"goToNextRound(true)\"\n        />\n    </div>\n</template>\n\n<script>\nimport firebase from 'firebase/app';\nimport 'firebase/database';\n\nimport DialogSummary from '@/components/DialogSummary';\nimport DetailsMap from '@/components/game/DetailsMap';\nimport Map from '@/components/map/Map';\nimport MapAreas from '@/components/map/MapAreas';\nimport { GAME_MODE } from '../constants';\nimport { getSelectedPos } from '../utils';\nimport { getScore } from '../utils/game/score';\nimport Leaderboard from \"@/components/game/Leaderboard.vue\";\n\nexport default {\n    components: {\n        Leaderboard,\n        DialogSummary,\n        DetailsMap,\n        Map,\n        MapAreas,\n    },\n    props: [\n        'randomLatLng',\n        'randomFeatureProperties',\n        'roomName',\n        'playerNumber',\n        'playerName',\n        'isReady',\n        'round',\n        'score',\n        'points',\n        'timeLimitation',\n        'difficulty',\n        'bbox',\n        'mode',\n        'area',\n        'timeAttack',\n        'nbRound',\n        'countdown',\n        'scoreMode',\n        'areasGeoJsonUrl',\n        'pathKey',\n        'mapDetails',\n        'leaderboardShown',\n        'guessString'\n    ],\n    data() {\n        return {\n            summaryTexts: [],\n            room: null,\n            selectedPos: null,\n            distance: null,\n            point: null,\n            isGuessButtonClicked: false,\n            isMakeGuessButtonClicked: false,\n            isSelected: false,\n            isNextStreetViewReady: false,\n            isNextButtonVisible: false,\n            isSummaryButtonVisible: false,\n            dialogSummary: false,\n            activeMap: false,\n            size: 2,\n            isNotepadVisible: false,\n            pinActive: localStorage.getItem('pinActive') === 'true',\n            printMapFull: false,\n            countdownStarted: false,\n            game: {\n                multiplayer: !!this.roomName,\n                date: new Date(),\n                rounds: [],\n            },\n            startTime: null,\n        };\n    },\n    computed: {\n        isNextButtonEnabled() {\n            if (this.playerNumber == 1 || !this.room) {\n                return true;\n            } else {\n                return this.isNextStreetViewReady;            \n            }\n        },\n    },\n    watch: {\n      pinActive() {\n        localStorage.setItem('pinActive', this.pinActive);\n      },\n      printMapFull(value) {\n        this.$emit('printMapFull', value);\n      }\n    },\n    async mounted() {\n        await this.$gmapApiPromiseLazy();\n        this.game.timeLimitation = this.timeLimitation;\n        this.game.difficulty = this.difficulty;\n        this.game.mode = this.mode;\n        this.game.timeAttack = this.timeAttack;\n        this.game.playerName = this.playerName;\n        let size = 0;\n\n        if (this.roomName) {\n            this.room = firebase.database().ref(this.roomName);\n\n            this.room.on('value', (snapshot) => {\n                if (snapshot.hasChild('active')) {\n                    size = snapshot.child('size').val();\n                    if (size === 1) {\n                        this.room.onDisconnect().remove();\n                    } else {\n                        this.room.onDisconnect().update({ size: size - 1 });\n                    }\n                    if (\n                        // If Time Attack and 1st true guess finish round\n                        (this.timeAttack &&\n                            this.countdown === 0 &&\n                            snapshot.child('guess').numChildren() >= 1 &&\n                            snapshot\n                                .child('guess')\n                                .forEach(\n                                    (guess) =>\n                                        guess.child('area').val() === this.area\n                                )) ||\n                        // Allow players to move on to the next round when every players guess locations\n                        snapshot.child('guess').numChildren() === size\n                    ) {\n                        this.game.timeLimitation = this.timeLimitation;\n                        this.isNextStreetViewReady = false;\n\n                        this.$emit('showResult');\n\n                        // Put markers and draw polylines on the map\n                        let i = 0;\n                        let players = {};\n                        snapshot.child('guess').forEach((childSnapshot) => {\n                            let posGuess;\n                            if (this.mode === GAME_MODE.CLASSIC) {\n                                const lat = childSnapshot\n                                    .child('latitude')\n                                    .val();\n                                const lng = childSnapshot\n                                    .child('longitude')\n                                    .val();\n                                posGuess = new google.maps.LatLng({\n                                    lat: lat,\n                                    lng: lng,\n                                });\n                            } else {\n                                posGuess = childSnapshot.child('area').val();\n                            }\n\n                            const playerName = snapshot\n                                .child('playerName')\n                                .child(childSnapshot.key)\n                                .val();\n                            const roundValues = snapshot\n                                .child('round' + this.round + '/' + childSnapshot.key)\n                                .exportVal();\n\n                            const { points, distance } = roundValues;\n\n                            players[playerName] = {\n                                ...roundValues,\n                                guess: posGuess,\n                            };\n                            this.$refs.map.drawPolyline(\n                                posGuess,\n                                i,\n                                this.randomLatLng\n                            );\n                            this.$refs.map.putMarker(\n                                posGuess,\n                                false,\n                                playerName && playerName.length > 0\n                                    ? playerName[0].toUpperCase()\n                                    : ''\n                            );\n                            this.$refs.map.setInfoWindow(\n                                playerName,\n                                distance,\n                                points,\n                                false,\n                                posGuess\n                            );\n                            i++;\n                        });\n                        this.$refs.map.fitBounds();\n                        this.game.rounds.push({\n                            position: {\n                                ...this.randomLatLng.toJSON(),\n                                area: this.area,\n                            },\n                            players,\n                        });\n                        this.$refs.map.putMarker(this.randomLatLng, true);\n\n                        this.printMapFull = true;\n                        // Remove guess node every time the round is done\n                        this.room.child('guess').remove();\n\n                        if (this.round >= this.nbRound) {\n                            // Show summary button\n                            snapshot\n                                .child('finalPoints')\n                                .forEach((childSnapshot) => {\n                                    const playerName = snapshot\n                                        .child('playerName')\n                                        .child(childSnapshot.key)\n                                        .val();\n                                    const finalScore = snapshot\n                                        .child('finalScore')\n                                        .child(childSnapshot.key)\n                                        .val();\n                                    const finalPoints = childSnapshot.val();\n                                    this.summaryTexts.push({\n                                        playerName: playerName,\n                                        finalScore: finalScore,\n                                        finalPoints: finalPoints,\n                                    });\n                                });\n\n                            this.summaryTexts.sort(\n                                (a, b) =>\n                                    parseInt(b.finalPoints) -\n                                    parseInt(a.finalPoints)\n                            );\n\n                            this.isSummaryButtonVisible = true;\n                        } else {\n                            // Show next button\n                            this.isNextButtonVisible = true;\n                        }\n                    }\n\n                    // Allow other players to move on to the next round when the next street view is set\n                    if (\n                        snapshot.child('streetView').numChildren() ==\n                        this.round + 1\n                    ) {\n                        this.isNextStreetViewReady = true;\n                    }\n\n                    if (\n                        !this.countdownStarted &&\n                        !this.printMapFull &&\n                        this.countdown > 0 &&\n                        snapshot.child('guess').numChildren() >= 1\n                    ) {\n                        this.$parent.initTimer(this.countdown, true);\n\n                        this.countdownStarted = true;\n                    }\n                }\n            });\n        }\n    },\n    methods: {\n        setSeletedPos(pos) {\n            this.selectedPos = pos;\n        },\n        showMap() {\n            this.isMakeGuessButtonClicked = true;\n        },\n        hideMap() {\n            this.isMakeGuessButtonClicked = false;\n        },\n        showNotepad() {\n            this.isNotepadVisible = !this.isNotepadVisible;\n            if (this.isNotepadVisible) {\n                setTimeout(() => {\n                    this.$refs.refNotepad.focus();\n                });\n            }\n        },\n        selectLocation() {\n            this.calculateDistance();\n\n            if (this.room) {\n                // Save the selected location into database\n                // So that it uses for putting the markers and polylines\n                this.room\n                    .child('guess/player' + this.playerNumber)\n                    .set(getSelectedPos(this.selectedPos, this.mode));\n            } else {\n                // Put the marker on the random location\n                this.$refs.map.putMarker(this.randomLatLng, true);\n                // Show the polyline\n                this.$refs.map.drawPolyline(\n                    this.selectedPos,\n                    1,\n                    this.randomLatLng\n                );\n\n                this.$refs.map.setInfoWindow(\n                    null,\n                    this.distance,\n                    this.point,\n                    false,\n                    this.setSeletedPos\n                );\n                this.printMapFull = true;\n                this.$refs.map.fitBounds();\n                if (this.round >= this.nbRound) {\n                    this.isSummaryButtonVisible = true;\n                } else {\n                    this.isNextButtonVisible = true;\n                }\n                this.$emit('showResult');\n            }\n            // Clear the event\n            this.$refs.map.removeListener();\n\n            // Diable guess button and opacity of the map\n            this.isGuessButtonClicked = true;\n            this.isSelected = true;\n\n            // Turn off the flag before the next button appears\n            this.isNextStreetViewReady = false;\n        },\n        selectRandomLocation(randomLatLng) {\n            if (this.selectedPos === null) {\n                // set a random location if the player didn't select in time\n                this.selectedPos = randomLatLng;\n                this.$refs.map.removeMarkers();\n                this.$refs.map.putMarker(this.selectedPos);\n            }\n            this.selectLocation();\n        },\n        resetLocation() {\n            this.$emit('resetLocation');\n        },\n        calculateDistance() {\n            const timePassed = new Date() - this.startTime;\n            if (\n                [GAME_MODE.COUNTRY, GAME_MODE.CUSTOM_AREA].includes(this.mode)\n            ) {\n                this.point = +(this.area === this.selectedPos);\n                this.distance = null;\n            } else {\n                this.distance = Math.floor(\n                    google.maps.geometry.spherical.computeDistanceBetween(\n                        this.randomLatLng,\n                        this.selectedPos\n                    )\n                );\n\n                this.point = getScore(\n                    this.distance,\n                    this.difficulty,\n                    timePassed,\n                    this.scoreMode\n                );\n            }\n            // Save the distance into firebase\n            if (this.room) {\n                this.room\n                    .child('round' + this.round + '/player' + this.playerNumber)\n                    .set({\n                        ...getSelectedPos(this.selectedPos, this.mode),\n                        distance: this.distance,\n                        points: this.point,\n                        timePassed,\n                    });\n            } else {\n                this.game.rounds.push({\n                    guess: this.selectedPos,\n                    area: this.area,\n                    position: this.randomLatLng,\n                    distance: this.distance,\n                    points: this.point,\n                    timePassed,\n                });\n            }\n\n            this.$emit('calculateDistance', this.distance, this.point);\n        },\n        startNextRound() {\n            this.$refs.map.startNextRound();\n            this.startTime = new Date();\n        },\n        goToNextRound(isPlayAgain = false) {\n            if (isPlayAgain) {\n                this.dialogSummary = false;\n                this.isSummaryButtonVisible = false;\n            }\n\n            // Reset\n            this.selectedPos = null;\n            this.isGuessButtonClicked = false;\n            this.isSelected = false;\n            this.isNextButtonVisible = false;\n            this.countdownStarted = false;\n            this.isNotepadVisible = false;\n\n            if (this.$viewport.width < 450) {\n                // Hide the map if the player is on mobile\n                this.hideMap();\n            }\n\n            this.printMapFull = false;\n            this.$refs.map.removeMarkers();\n            this.$refs.map.removePolylines();\n            this.$refs.map.centerOnBbox();\n\n            // Replace the streetview with the next one\n            this.$emit('goToNextRound', isPlayAgain);\n        },\n        finishGame() {\n            this.dialogSummary = false;\n            if (this.room)\n                this.room\n                    .child('isGameDone/player' + this.playerNumber)\n                    .set(true);\n            this.$emit('finishGame');\n        },\n    }\n};\n</script>\n\n<style scoped lang=\"scss\">\n.alert-container {\n    position: absolute;\n    right: 0;\n    .v-alert {\n        z-index: 2;\n    }\n}\n\n#container-map {\n    display: flex;\n    flex-direction: column;\n    position: absolute;\n    bottom: 5px;\n    left: 10px;\n    z-index: 3;\n    opacity: 0.7;\n    width: var(--width);\n    height: var(--height);\n    --aspect-ratio: 1.25;\n    --inactive-width: 16vw;\n    --active-width: 30vw;\n    --active-height: calc(var(--active-width) / var(--aspect-ratio));\n    --inactive-height: calc(var(--inactive-width) / var(--aspect-ratio));\n    --height: var(--inactive-height);\n    --width: var(--inactive-width);\n    max-width: 100%;\n    max-height: calc(100% - 150px);\n    transition: 0.3s;\n    #map {\n        width: 100%;\n        height: 100%;\n    }\n\n    &.container-map--size-1 {\n        --active-width: 16vw;\n    }\n    &.container-map--size-3 {\n        --active-width: 45vw;\n    }\n    &.container-map--size-4 {\n        --active-width: 65vw;\n    }\n    &.container-map--active {\n        opacity: 1;\n        --width: var(--active-width);\n        --height: var(--active-height);\n        .container-map_controls {\n            display: flex;\n        }\n    }\n    &.container-map--full {\n        transition: none;\n        opacity: 1;\n        --active-width: 85vw;\n        --inactive-width: 85vw;\n        position: relative;\n        margin: auto;\n        .container-map_controls {\n            display: none;\n        }\n        .container-map_details {\n            display: block;\n            position: relative;\n        }\n    }\n\n    .container-map_details {\n        display: none;\n    }\n    .container-map_controls {\n        .container-map_btns {\n            background-color: rgba(33, 33, 33);\n            padding: 0.2rem;\n            border-top-left-radius: 5%;\n            border-top-right-radius: 5%;\n        }\n        button {\n            width: 1.5rem;\n            height: 1.5rem;\n            margin: 0 0.5rem;\n        }\n        display: flex;\n        flex-direction: row-reverse;\n    }\n\n    .container-map_notepad {\n        position: absolute;\n        background-color: var(--v-notepad-base);\n        resize: none;\n        left: var(--width);\n        margin-left: 10px;\n        transition: 0.3s;\n        width: 300px;\n        height: calc(100% - 74px);\n        top: 30px;\n        border-radius: 3px;\n        outline: none;\n        padding: 5px;\n        box-shadow: 0px 2px 8px 0px rgba(99, 99, 99, 0.2);\n    }\n\n    .theme--dark & .container-map_notepad {\n        color: #fff;\n    }\n    .theme--light & .container-map_notepad {\n        color: #000;\n    }\n}\n\n#make-guess-button,\n#guess-button,\n#next-button,\n#summary-button,\n#reset-button,\n#play-again-button {\n    border: none;\n    border-bottom-right-radius: 5px;\n    border-bottom-left-radius: 5px;\n    opacity: 0.8;\n    color: white;\n    font-size: 16px;\n    text-decoration: none;\n    text-align: center;\n    padding: 10px 0;\n    z-index: 999;\n}\n\n\n#reset-button {\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    width: 25%;\n    background-color: #ff5e5e;\n}\n\n#next-button,\n#summary-button:not(.w-50) {\n    width: 100%;\n}\nbutton.w-50 {\n    width: 50%;\n}\n#make-guess-button,\n#guess-button {\n    background-color: #212121;\n}\n\n#guess-button:hover,\n#reset-button {\n    opacity: 1;\n}\n\n#play-again-button {\n    background-color: #43b581;\n}\n\n#next-button,\n#summary-button {\n    background-color: #f44336;\n}\n\n@media (max-width: 750px) {\n    #container-map {\n        --inactive-width: 25vw;\n\n        &.container-map--size-1 {\n            --active-width: 25vw;\n        }\n    }\n}\n\n@media (max-width: 450px) {\n    #container-map {\n        width: 100%;\n        opacity: 1;\n        height: auto;\n        left: 0;\n        bottom: 0;\n        display: flex;\n        flex-direction: column;\n        .container-map_controls {\n            display: none;\n        }\n        .container-map_notepad {\n            display: none;\n        }\n        #map {\n            display: none;\n        }\n        &.container-map--active #map {\n            display: block;\n        }\n\n        &.container-map--active .container-map_controls {\n            display: none;\n        }\n        &.container-map--active {\n            height: 40vh;\n        }\n        &.container-map--full {\n            position: absolute;\n            --width: 100%;\n            height: calc(100% - 64px);\n            bottom: 0;\n            margin: 0;\n            max-height: 100%;\n        }\n        .container-map_controls_guess {\n            z-index: 999;\n        }\n    }\n\n    #make-guess-button,\n    #next-button,\n    #reset-button,\n    #guess-button,\n    #summary-button {\n        border-radius: 0;\n        opacity: 1;\n        bottom: 0;\n        width: 100%;\n    }\n\n\n    #hide-map-button {\n        position: absolute;\n        top: 0;\n        right: 0;\n        z-index: 4;\n    }\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Maps.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Maps.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Maps.vue?vue&type=template&id=f0261f86&scoped=true\"\nimport script from \"./Maps.vue?vue&type=script&lang=js\"\nexport * from \"./Maps.vue?vue&type=script&lang=js\"\nimport style0 from \"./Maps.vue?vue&type=style&index=0&id=f0261f86&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f0261f86\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-dialog',{attrs:{\"value\":_vm.dialogMessage,\"max-width\":\"600\",\"persistent\":\"\",\"fullscreen\":_vm.$viewport.width < 450}},[_c('v-card',{attrs:{\"color\":\"#061422\"}},[_c('v-card-title',[_c('span',{staticClass:\"dialog-message__title\",attrs:{\"id\":\"card-title\"}},[_vm._v(_vm._s(_vm.dialogTitle))]),_c('v-spacer'),(_vm.dismissible)?_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.$emit('close')}}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1):_vm._e()],1),_c('v-card-text',[_c('v-container',[_vm._t(\"default\",function(){return [_c('span',[_vm._v(_vm._s(_vm.dialogText))])]})],2)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-dialog\n        :value=\"dialogMessage\"\n        max-width=\"600\"\n        persistent\n        :fullscreen=\"$viewport.width < 450\"\n    >\n        <v-card color=\"#061422\">\n            <v-card-title>\n                <span\n                    id=\"card-title\"\n                    class=\"dialog-message__title\"\n                >{{\n                    dialogTitle\n                }}</span>\n                <v-spacer />\n                <v-btn v-if=\"dismissible\" icon @click=\"$emit('close')\">\n                    <v-icon>mdi-close</v-icon>\n                </v-btn>\n            </v-card-title>\n            <v-card-text>\n                <v-container>\n                    <slot>\n                        <span>{{ dialogText }}</span>\n                    </slot>\n                </v-container>\n            </v-card-text>\n        </v-card>\n    </v-dialog>\n</template>\n\n<script>\nexport default {\n    props: ['dialogMessage', 'dialogTitle', 'dialogText', 'dismissible'],\n};\n</script>\n\n<style scoped>\nspan {\n    color: #888;\n    white-space: pre-line;\n}\n\n#card-title {\n    font-size: 16px;\n    font-weight: 500;\n    opacity: 0.9;\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DialogMessage.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DialogMessage.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./DialogMessage.vue?vue&type=template&id=41bf8db0&scoped=true\"\nimport script from \"./DialogMessage.vue?vue&type=script&lang=js\"\nexport * from \"./DialogMessage.vue?vue&type=script&lang=js\"\nimport style0 from \"./DialogMessage.vue?vue&type=style&index=0&id=41bf8db0&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"41bf8db0\",\n  null\n  \n)\n\nexport default component.exports","import bbox from '@turf/bbox';\nimport booleanPointInPolygon from '@turf/boolean-point-in-polygon';\nimport * as turfModel from '@turf/helpers';\nimport randomPositionInPolygon from 'random-position-in-polygon';\nimport { AREA_MODE, GAME_MODE } from '../constants';\nimport {\n    getAreaCodeNameFromLatLng,\n    getMaxDistanceBbox,\n    isInGeoJSON\n} from '../utils';\n\nclass StreetViewService {\n    constructor(\n        settingsPanorama,\n        settingsGame,\n        placeGeoJson,\n        roundsPredefined\n    ) {\n        this.settingsPanorama = settingsPanorama;\n        this.settingsGame = settingsGame;\n        this.placeGeoJson = placeGeoJson;\n        this.roundsPredefined = roundsPredefined;\n        this.service = new google.maps.StreetViewService();\n        this.alreadyVisited = [];\n    }\n\n    async getStreetView(round, cptNotFoundLocation = 0) {\n        let radius, position, randomFeatureProperties;\n        if (this.roundsPredefined) {\n            radius = 50;\n            const positions = this.roundsPredefined[round - 1];\n            position = new google.maps.LatLng(positions[0], positions[1]);\n        } else {\n            let randomPos;\n            do{\n                randomPos = this.getRandomLatLng();\n            } while(this.alreadyVisited.includes(randomPos.position.toString()));\n\n            this.alreadyVisited.push(randomPos.position.toString());\n            \n            radius = randomPos.radius;\n            position = randomPos.position;\n            randomFeatureProperties = randomPos.properties;\n        }\n\n        return new Promise((resolve) => {\n            this.service.getPanorama(\n                {\n                    location: position,\n                    preference: 'nearest',\n                    radius,\n                    sources: this.settingsPanorama.allPanorama\n                        ? [google.maps.StreetViewSource.DEFAULT, google.maps.StreetViewSource.OUTDOOR, google.maps.StreetViewSource.GOOGLE]\n                        : [google.maps.StreetViewSource.GOOGLE],\n                },\n                async (data, status) => {\n                    if (\n                        status !== google.maps.StreetViewStatus.OK ||\n                        !data ||\n                        !data.location ||\n                        !this._checkStreetView(data)\n                    ) {\n                        resolve(await this.getStreetView(round));\n                    } else {\n                        resolve(\n                            await this._getResponseStreetViewService(\n                                round,\n                                data,\n                                cptNotFoundLocation,\n                                randomFeatureProperties\n                            )\n                        );\n                    }\n                }\n            );\n        });\n    }\n\n    async _getResponseStreetViewService(\n        round,\n        data,\n        cptNotFoundLocation,\n        randomFeatureProperties\n    ) {\n        let isInGeoJSONResult, isVisibleDialog = false;\n        if (this.placeGeoJson != null) {\n            isInGeoJSONResult = isInGeoJSON(\n                turfModel.point([\n                    data.location.latLng.lng(),\n                    data.location.latLng.lat(),\n                ]),\n                this.placeGeoJson\n            );\n        }\n        if (isInGeoJSONResult === false && cptNotFoundLocation < 3) {\n            return this.getStreetView(round, cptNotFoundLocation + 1);\n        } else {\n            // If 3 times Street View does not find location in the polygon placeGeoJson print warning message\n            if (isInGeoJSONResult === false) {\n                isVisibleDialog = true;\n            }\n            let areaCode;\n            try{\n                areaCode = await this._getAreaCode(data);\n            }catch(err){\n                return this.getStreetView(round);\n            }\n            \n            return {\n                panorama: data,\n                roundInfo: randomFeatureProperties || null,\n                area: areaCode,\n                warning: isVisibleDialog,\n            };\n        }\n    }\n    \n\n    getRandomLatLng() {\n        if (this.placeGeoJson != null) {\n            let position,\n                radius,\n                properties = null;\n            if (this.placeGeoJson.type === 'FeatureCollection') {  \n                let randInt = Math.floor(\n                    Math.random() * this.placeGeoJson.features.length\n                );\n\n                const feature = this.placeGeoJson.features[randInt];\n                properties = feature.properties;\n                if (feature.geometry.type === 'Point') {\n                    position = feature.geometry.coordinates;\n                    radius = 50;\n                } else {\n                    radius = getMaxDistanceBbox(bbox(feature)) * 10;\n                    position = randomPositionInPolygon(feature);\n                }\n            } else {\n                radius = getMaxDistanceBbox(bbox(this.placeGeoJson)) * 10;\n                position = randomPositionInPolygon(this.placeGeoJson);\n            }\n\n            return {\n                radius,\n                position: new google.maps.LatLng(position[1], position[0]),\n                properties,\n            };\n        }\n\n        // Generate a random latitude and longitude\n        const lat = (Math.acos(Math.random() * 1.99 - 0.995) * 57.2958) - 90;\n        const lng = Math.random() * 360 - 180;\n\n        return {\n            radius: 100000,\n            position: new google.maps.LatLng(lat, lng),\n            properties: null,\n        };\n    }\n\n    _checkStreetView(data) {\n        return !(\n            this.settingsPanorama.optimiseStreetView && \n                (\n                    !data.imageDate ||\n                    data.links.length < 2 ||\n                    (Array.isArray(data.g) && data.g.length !== 0)\n                )\n        );\n    }\n\n    async _getAreaCode(data){\n        if (\n            [GAME_MODE.COUNTRY, GAME_MODE.CUSTOM_AREA].includes(\n                this.settingsGame.mode\n            )\n        ) {\n            if (\n                this.settingsGame.mode === GAME_MODE.COUNTRY ||\n                (this.settingsGame.areaParams &&\n                    this.settingsGame.areaParams.data.type ===\n                        AREA_MODE.NOMINATIM)\n            ) {\n                return getAreaCodeNameFromLatLng(\n                    data.location.latLng,\n                    this.settingsGame.areaParams &&\n                        this.settingsGame.areaParams.data\n                );\n            } else {\n                const area = this.settingsGame.areasJson.features.find(\n                    (feature) =>\n                        booleanPointInPolygon(\n                            [\n                                data.location.latLng.lng(),\n                                data.location.latLng.lat(),\n                            ],\n                            feature\n                        )\n                );\n\n                if (!area) {\n                    throw new Error('Area not found');\n                } else {\n                    const key = this.settingsGame.areaParams\n                        ? this.settingsGame.areaParams.data.pathKey\n                        : 'iso_a2';\n                    return area.properties[key];\n                }\n            }\n        }\n    }\n}\n\n\nexport default StreetViewService;\n","export default {\n    data() {\n        return {\n            canExit: false,\n        };\n    },\n    methods: {\n        beforeUnload(event) {\n            event.returnValue = this.$t('StreetView.confirmExit');\n        },\n    },\n    created() {\n        window.addEventListener('beforeunload', this.beforeUnload);\n    },\n    beforeRouteLeave(_to, _from, next) {\n        if (!this.canExit) {\n            const answer = window.confirm(this.$t('StreetView.confirmExit'));\n            if (answer) {\n                next();\n            } else {\n                next(false);\n            }\n        } else {\n            next();\n        }\n    },\n    beforeDestroy() {\n        window.removeEventListener('beforeunload', this.beforeUnload);\n    },\n};\n","<template>\n    <div id=\"game-page\">\n        <div id=\"street-view-container\">\n            <HeaderGame\n                ref=\"header\"\n                :distance=\"scoreHeader\"\n                :points=\"pointsHeader\"\n                :round=\"round\"\n                :room-name=\"roomName\"\n                :nb-round=\"nbRound\"\n                :remaining-time=\"remainingTime\"\n                :mode=\"mode\"\n                :leaderboardEnabled=\"guessedLeaderboard || scoreLeaderboard\"\n                @toggleLeaderboard=\"leaderboardShown = !leaderboardShown\"\n            />\n\n            <div id=\"game-interface\">\n                <v-overlay :value=\"!isReady && !multiplayer\" opacity=\"0.5\" >\n                    <v-progress-circular\n                        indeterminate\n                        size=\"64\"\n                    ></v-progress-circular>\n                </v-overlay>\n                <div id=\"street-view\" ref=\"streetView\" />\n\n\n                <div id=\"game-interface__overlay\">\n                    <v-tooltip top>\n                        <template v-slot:activator=\"{ on, attrs }\">\n                            <v-btn class=\"resetBtn\" rounded dark fab\n                                   v-bind=\"attrs\"\n                                   v-on=\"on\"\n                                   @click=\"resetLocation\" >\n                                <v-icon>mdi-crosshairs-gps</v-icon>\n                            </v-btn>\n                        </template>\n                        <span>{{ $t('Maps.reset') }}</span>\n                    </v-tooltip>\n                    <Maps\n                        ref=\"mapContainer\"\n                        :random-lat-lng=\"randomLatLng\"\n                        :random-feature-properties=\"randomFeatureProperties\"\n                        :room-name=\"roomName\"\n                        :player-number=\"playerNumber\"\n                        :player-name=\"playerName\"\n                        :is-ready=\"!!randomLatLng\"\n                        :round=\"round\"\n                        :score=\"score\"\n                        :points=\"points\"\n                        :difficulty=\"difficultyData\"\n                        :time-limitation=\"timeLimitation\"\n                        :bbox=\"bbox\"\n                        :mode=\"mode\"\n                        :area=\"area\"\n                        :time-attack=\"timeAttack\"\n                        :nb-round=\"nbRound\"\n                        :countdown=\"countdown\"\n                        :score-mode=\"scoreMode\"\n                        :areasGeoJsonUrl=\"areaParams && areaParams.data.urlArea\"\n                        :pathKey=\"\n                            areaParams ? areaParams.data.pathKey : 'iso_a2'\n                        \"\n                        :mapDetails=\"mapDetails\"\n                        @resetLocation=\"resetLocation\"\n                        @calculateDistance=\"updateScore\"\n                        @showResult=\"showResult\"\n                        @goToNextRound=\"goToNextRound\"\n                        @finishGame=\"finishGame\"\n                        @printMapFull=\"printMapFull = $event\"\n                    />\n                </div>\n            </div>\n        </div>\n        <v-overlay :value=\"overlay\" opacity=\"0.8\" z-index=\"1\" />\n        <DialogMessage\n            :dialog-message=\"dialogMessage\"\n            :dialog-title=\"dialogTitle\"\n            :dialog-text=\"dialogText\"\n        />\n        <div class=\"alert-container\">\n            <Leaderboard\n                v-if=\"!$vuetify.breakpoint.mobile && roomName && !printMapFull\"\n                v-model=\"leaderboardShown\"\n                :leaderboard=\"leaderboard\"\n            ></Leaderboard>\n\n            <DialogMessage\n                v-if=\"$vuetify.breakpoint.mobile && roomName && !printMapFull\"\n                dialog-title=\"Leaderboard\"\n                :dismissible=\"true\"\n                :dialogMessage=\"leaderboardShown\"\n                @close=\"leaderboardShown = false\"\n            >\n                <LeaderboardContent :leaderboard=\"leaderboard\" />\n            </DialogMessage>\n            <v-alert\n                v-if=\"isVisibleDialog\"\n                type=\"warning\"\n                dismissible\n                class=\"warning-alert\"\n            >\n                <b>{{ $t('StreetView.nearby.title') }}</b> :\n                {{ $t('StreetView.nearby.message') }}\n            </v-alert>\n            <v-alert\n                id=\"warningCountdown\"\n                v-model=\"isVisibleCountdownAlert\"\n                type=\"info\"\n                dismissible\n                transition=\"slide-x-transition\"\n                prominent\n                icon=\"mdi-clock-fast\"\n            >\n                {{ $tc('StreetView.countdownAlert', remainingTime) }}\n                <v-progress-linear\n                    :active=\"isVisibleCountdownAlert\"\n                    color=\"white\"\n                    v-model=\"countdownPercentage\"\n                    absolute\n                    bottom\n                ></v-progress-linear>\n            </v-alert>\n        </div>\n    </div>\n</template>\n\n<script>\nimport firebase from 'firebase/app';\nimport 'firebase/database';\n\nimport HeaderGame from '@/components/HeaderGame';\nimport Maps from '@/components/Maps';\nimport DialogMessage from '@/components/DialogMessage';\n\n\nimport StreetViewService from '@/plugins/StreetViewService';\n\nimport {\n    getRandomArea,\n} from '../utils';\n\nimport { GAME_MODE, SCORE_MODE } from '../constants';\n\nimport {mapActions, mapGetters, mapState} from 'vuex';\n\nimport ConfirmExitMixin from '@/mixins/ConfirmExitMixin';\nimport Leaderboard from \"@/components/game/Leaderboard.vue\";\nimport LeaderboardContent from '../components/game/LeaderboardContent.vue';\n\nexport default {\n    components: {\n        Leaderboard,\n        HeaderGame,\n        Maps,\n        DialogMessage,\n        LeaderboardContent\n    },\n    mixins: [ConfirmExitMixin],\n    props: {\n        roomName: {\n            default: null,\n            type: String,\n        },\n        // https://developers.google.com/maps/documentation/javascript/reference/street-view-service#StreetViewSource\n        allPanorama: {\n            default: false,\n            type: Boolean,\n        },\n        optimiseStreetView: {\n            default: true,\n            type: Boolean,\n        },\n        playerNumber: {\n            default: null,\n            type: Number,\n        },\n        playerName: {\n            default: null,\n            type: String,\n        },\n        placeGeoJson: {\n            default: null,\n            type: Object,\n        },\n        multiplayer: {\n            default: false,\n            type: Boolean,\n        },\n        time: {\n            default: 0,\n            type: Number,\n        },\n        difficulty: {\n            default: 2000,\n            type: Number,\n        },\n        bboxObj: {\n            default: null,\n            type: Array,\n        },\n        roundsPredefined: {\n            default: null,\n            type: Array,\n        },\n        modeSelected: {\n            default: GAME_MODE.CLASSIC,\n            type: String,\n        },\n        panControl: {\n            default: true,\n            type: Boolean,\n        },\n        zoomControl: {\n            default: true,\n            type: Boolean,\n        },\n        moveControl: {\n            default: true,\n            type: Boolean,\n        },\n        timeAttackSelected: {\n            default: false,\n            type: Boolean,\n        },\n        countdown: {\n            default: 0,\n            type: Number,\n        },\n        scoreMode: {\n            default: SCORE_MODE.NORMAL,\n            type: String,\n        },\n        areaParams: {\n            type: Object,\n        },\n        mapDetails:{\n            type: Object,\n            required: false,\n            default: undefined\n        },\n        nbRoundSelected: {\n            type: Number,\n            required: false,\n            default: 5,\n        },\n        guessedLeaderboard: {\n            default: true,\n            type: Boolean,\n        },\n        scoreLeaderboard: {\n            default: true,\n            type: Boolean,\n        },\n    },\n    data() {\n        return {\n            area: null,\n            randomLatLng: null,\n            randomFeatureProperties: null,\n            score: 0,\n            scoreHeader: 0,\n            points: 0,\n            pointsHeader: 0,\n            round: 1,\n            timeLimitation: this.time,\n            mode: this.modeSelected,\n            timeAttack: this.timeAttackSelected,\n            nbRound: this.timeAttackSelected ? 10 : this.nbRoundSelected,\n            remainingTime: 0,\n            endTime: null,\n            hasTimerStarted: false,\n            hasLocationSelected: false,\n            overlay: false,\n            room: null,\n            isReady: false,\n            dialogMessage: this.multiplayer,\n            dialogTitle: this.$t('StreetView.waitForOtherPlayers'),\n            dialogText: '',\n            isVisibleDialog: false,\n            panorama: null,\n\n            difficultyData: this.difficulty,\n            bbox: this.bboxObj,\n            isVisibleCountdownAlert: false,\n            timeCountdown: 0,\n\n            streetViewService: null,\n            leaderboard: [],\n            leaderboardShown: !this.$vuetify.breakpoint.mobile && this.roomName && (this.guessedLeaderboard || this.scoreLeaderboard),\n            printMapFull: false\n        };\n    },\n    computed: {\n      ...mapGetters(['areasJson']),\n      ...mapState('settingsStore', [\n        'players',\n      ]),\n      countdownPercentage() {\n          return (this.remainingTime * 100) / this.timeCountdown;\n      }\n    },\n    async mounted() {\n        if (\n            (this.areaParams && this.areaParams.data.urlArea) ||\n            this.mode === GAME_MODE.COUNTRY\n        ) {\n            await this.loadAreas(\n                this.areaParams && this.areaParams.data.urlArea\n            );\n        }\n        await this.$gmapApiPromiseLazy();\n        this.panorama = new google.maps.StreetViewPanorama(\n            this.$refs.streetView\n        );\n\n        if (!this.streetViewService) {\n            this.streetViewService = new StreetViewService(\n                { allPanorama: this.allPanorama, optimiseStreetView: this.optimiseStreetView },\n                { mode: this.mode, areaParams: this.areaParams, areasJson: this.areasJson },\n                this.placeGeoJson,\n                this.roundsPredefined\n            );\n        }\n\n        if (!this.multiplayer) {\n            await this.loadStreetView();\n            this.$refs.mapContainer.startNextRound();\n            \n            if (this.timeLimitation != 0) {\n                if (!this.hasTimerStarted) {\n                    this.initTimer(this.timeLimitation);\n                    this.hasTimerStarted = true;\n                }\n            }\n            this.isReady = true;\n        } else {\n            // Set a room name if it's null to detect when the user refresh the page\n            if (!this.roomName) {\n                this.exitGame();\n            }\n\n            this.room = firebase.database().ref(this.roomName);\n\n            if (this.playerNumber === 1) {\n                await this.loadStreetView();\n            }\n\n            this.room.child('active').set(true);\n            this.room.on('value', (snapshot) => {\n                // Check if the room is already removed\n                if (snapshot.hasChild('active')) {\n                    // Leaderboard\n                    if(this.scoreLeaderboard) {\n                        this.leaderboard = Object.entries(snapshot.val().playerName).map((player) => {\n                            return {\n                                scoreHeader: this.leaderboard.find((entity) => entity.id === player[0])?.scoreHeader || 0,\n                                score: snapshot.val()?.finalPoints?.[player[0]] || 0,\n                                name: player[1],\n                                id: player[0],\n                                guessed: !!snapshot.val()?.guess?.[player[0]],\n                            };\n                        });\n                    } else if(this.guessedLeaderboard) {\n                      this.leaderboard = Object.entries(snapshot.val().playerName).map((player) => {\n                        return {\n                          name: player[1],\n                          guessed: !!snapshot.val()?.guess?.[player[0]],\n                          id: player[0],\n                        };\n                      });\n                    }\n\n\n                    // Put the player into the current round node if the player is not put yet\n                    if (\n                        !snapshot\n                            .child('round' + this.round)\n                            .hasChild('player' + this.playerNumber)\n                    ) {\n                        this.room\n                            .child('round' + this.round)\n                            .child('player' + this.playerNumber)\n                            .set(0);\n\n                        // Other players load the streetview the first player loaded earlier\n                        if (this.playerNumber != 1) {\n                            let randomLat = snapshot\n                                .child(\n                                    'streetView/round' +\n                                        this.round +\n                                        '/latitude'\n                                )\n                                .val();\n                            let randomLng = snapshot\n                                .child(\n                                    'streetView/round' +\n                                        this.round +\n                                        '/longitude'\n                                )\n                                .val();\n\n                            this.area = snapshot\n                                .child(\n                                    'streetView/round' + this.round + '/area'\n                                )\n                                .val();\n                            this.isVisibleDialog = snapshot\n                                .child(\n                                    'streetView/round' + this.round + '/warning'\n                                )\n                                .val();\n                            this.randomFeatureProperties = snapshot\n                                .child(\n                                    'streetView/round' +\n                                        this.round +\n                                        '/roundInfo'\n                                )\n                                .val();\n                            this.randomLatLng = new google.maps.LatLng(\n                                randomLat,\n                                randomLng\n                            );\n                            this.resetLocation();\n                        }\n                    }\n\n                    \n                    // Enable guess button when every players are put into the current round's node\n                    if (\n                        snapshot.child('round' + this.round).numChildren() ===\n                            snapshot.child('size').val() &&\n                        !this.isReady\n                    ) {\n                        // Close the dialog when everyone is ready\n                        this.dialogMessage = false;\n                        this.dialogText = '';\n\n                        this.isReady = true;\n                        this.$refs.mapContainer.startNextRound();\n\n                        // Countdown timer starts\n                        this.timeLimitation = snapshot\n                            .child('timeLimitation')\n                            .val();\n\n                        if (this.timeLimitation != 0) {\n                            if (!this.hasTimerStarted) {\n                                this.initTimer(this.timeLimitation);\n                                this.hasTimerStarted = true;\n                            }\n                        }\n                    }\n\n                    // Delete the room when everyone finished the game\n                    if (\n                        snapshot.child('isGameDone').numChildren() ==\n                        snapshot.child('size').val()\n                    ) {\n                        this.room.child('active').remove();\n                        this.room.off();\n                        this.room.remove();\n                    }\n                } else {\n                    // Force the players to exit the game when 'Active' is removed\n                    this.exitGame();\n                }\n            });\n        }\n\n        this.$refs.header.startTimer();\n    },\n    beforeDestroy() {\n        if (document.querySelector('.widget-scene')) {\n            document\n                .querySelector('.widget-scene')\n                .removeEventListener('keydown', this.onUserEventPanoramaKey);\n\n            document\n                .querySelector('.widget-scene')\n                .removeEventListener(\n                    'mousedown',\n                    this.onUserEventPanoramaMouse\n                );\n        }\n        window.removeEventListener('beforeunload', this.beforeUnload);\n        if (this.room) {\n            // Remove the room when the player refreshes the window\n            // Remove the room when the player pressed the back button on browser\n            this.room.child('active').remove();\n            this.room.off();\n        }\n    },\n    methods: {\n        ...mapActions(['loadAreas']),\n        async loadStreetView() {\n            let {panorama, roundInfo, warning, area} = await this.streetViewService.getStreetView(this.round);\n            this.randomLatLng = panorama.location.latLng;\n            this.randomFeatureProperties = roundInfo;\n            this.area = area;\n            this.setPosition(panorama);\n\n            if (this.multiplayer) {\n                // Put the streetview's location into firebase\n                this.room\n                    .child('streetView/round' + this.round)\n                    .set({\n                        latitude: this.randomLatLng.lat(),\n                        longitude: this.randomLatLng.lng(),\n                        roundInfo: roundInfo,\n                        ...(area && {area}),\n                        warning,\n                 });\n            }\n            \n        },\n        resetLocation() {\n            const service = new google.maps.StreetViewService();\n            service.getPanorama(\n                {\n                    location: this.randomLatLng,\n                    preference: 'nearest',\n                    radius: 50,\n                    sources: this.allPanorama\n                        ? [google.maps.StreetViewSource.DEFAULT, google.maps.StreetViewSource.OUTDOOR, google.maps.StreetViewSource.GOOGLE]\n                        : [google.maps.StreetViewSource.GOOGLE],\n                },\n                this.setPosition\n            );\n        },\n        setPosition(data) {\n            this.panorama.setOptions({\n                addressControl: false,\n                fullscreenControl: false,\n                motionTracking: false,\n                motionTrackingControl: false,\n                showRoadLabels: false,\n                panControl: this.panControl,\n                zoomControl: this.zoomControl,\n                scrollwheel: this.zoomControl,\n                disableDoubleClickZoom: !this.zoomControl,\n                linksControl: this.moveControl,\n                clickToGo: this.moveControl,\n            });\n            // Remove google streetview link\n            if (document.querySelector('#street-view a[href^=\"https://maps\"]'))\n                document\n                    .querySelector('#street-view a[href^=\"https://maps\"]')\n                    .remove();\n            setTimeout(() => {\n                if (document.querySelector('.widget-scene')) {\n                    document\n                        .querySelector('.widget-scene')\n                        .addEventListener(\n                            'keydown',\n                            this.onUserEventPanoramaKey\n                        );\n\n                    document\n                        .querySelector('.widget-scene')\n                        .addEventListener(\n                            'mousedown',\n                            this.onUserEventPanoramaMouse\n                        );\n                    document\n                        .querySelector('.widget-scene')\n                        .addEventListener(\n                            'touchstart',\n                            this.onUserEventPanoramaMouse\n                        );\n                    document\n                        .querySelector('.widget-scene')\n                        .addEventListener(\n                            'pointerdown',\n                            this.onUserEventPanoramaMouse\n                        );\n                }\n            }, 50);\n\n            if(data && data.location)\n                this.panorama.setPano(data.location.pano);\n            this.panorama.setPov({\n                heading: 270,\n                pitch: 0,\n            });\n            this.panorama.setZoom(0);\n        },\n        initTimer(time, printAlert) {\n            const endDate = new Date();\n            endDate.setSeconds(endDate.getSeconds() + time);\n            if (printAlert) {\n                this.timeCountdown = time;\n                this.isVisibleCountdownAlert = true;\n            }\n            if (this.hasTimerStarted) {\n                this.endTime = this.endTime > endDate ? endDate : this.endTime;\n            } else {\n                this.endTime = endDate;\n                this.startTimer();\n            }\n        },\n        startTimer(round = this.round) {\n            if (round === this.round) {\n                this.remainingTime = Math.max(\n                    0,\n                    Math.round((this.endTime - Date.now()) / 1000)\n                );\n                if (this.remainingTime > 0) {\n                    setTimeout(() => {\n                        this.startTimer(round);\n                    }, 1000);\n                } else {\n                    this.timerInProgress = false;\n                    if (!this.hasLocationSelected) {\n                        if (\n                            [GAME_MODE.COUNTRY, GAME_MODE.CUSTOM_AREA].includes(\n                                this.mode\n                            )\n                        ) {\n                            this.$refs.mapContainer.selectRandomLocation(\n                                getRandomArea(\n                                    this.areasJson,\n                                    this.areaParams\n                                        ? this.areaParams.data.pathKey\n                                        : 'iso_a2'\n                                )\n                            );\n                        } else {\n                            // Set a random location if the player didn't select a location in time\n                            this.$refs.mapContainer.selectRandomLocation(\n                                this.streetViewService.getRandomLatLng().position\n                            );\n                        }\n                    }\n                }\n            }\n        },\n        updateScore(distance, points) {\n            // Update the score and save it into firebase\n            this.hasLocationSelected = true;\n            if (!this.multiplayer) {\n                this.remainingTime = 0;\n            }\n            this.score += distance;\n            this.points += points;\n\n            if (this.multiplayer) {\n                this.room\n                    .child('finalScore/player' + this.playerNumber)\n                    .set(this.score);\n                this.room\n                    .child('finalPoints/player' + this.playerNumber)\n                    .set(this.points);\n\n                // Wait for other players to guess locations\n                this.dialogTitle = this.$t('StreetView.waitForOtherPlayers');\n                this.dialogMessage = true;\n            }\n        },\n        showResult() {\n            this.scoreHeader = this.score; // Update the score on header after every players guess locations\n            this.pointsHeader = this.points;\n            this.remainingTime = 0;\n            this.dialogMessage = false;\n            this.isVisibleCountdownAlert = false;\n            this.overlay = true;\n            this.$refs.header.stopTimer();\n\n            // Leaderboard\n            for (let player of Object.entries(this.leaderboard)) {\n              player[1].scoreHeader = player[1].score;\n            }\n        },\n        async goToNextRound(playAgain = false) {\n            if (playAgain) {\n                this.round = 0;\n                this.scoreHeader = 0;\n                this.pointsHeader = 0;\n                this.score = 0;\n                this.points = 0;\n            }\n            this.isReady = false;\n\n            // Reset\n            this.randomLatLng = null;\n            this.area = null;\n            this.overlay = false;\n            this.hasTimerStarted = false;\n            this.hasLocationSelected = false;\n            this.isVisibleDialog = false;\n            this.randomFeatureProperties = null;\n\n            if (this.multiplayer) {\n                this.dialogMessage = true; // Show the dialog while waiting for other players\n                this.isReady = false; // Turn off the flag so the click event can be added in the next round\n            }\n\n            // Update the round\n            this.round += 1;\n\n            if (this.playerNumber == 1 || !this.multiplayer) {\n                await this.loadStreetView();\n                if (!this.multiplayer && this.timeLimitation != 0) {\n                    this.initTimer(this.timeLimitation);\n                }\n\n            } else {\n                // Trigger listener and load the next streetview\n                this.room\n                    .child('trigger/player' + this.playerNumber)\n                    .set(this.round);\n            }\n            this.$refs.mapContainer.startNextRound();\n\n            this.isReady = !this.multiplayer;\n        },\n        exitGame() {\n            // Disable the listener and force the players to exit the game\n            this.dialogTitle = this.$t('StreetView.redirectToHomePage');\n            this.dialogText = this.$t('StreetView.exitGame');\n            this.dialogMessage = true;\n            this.canExit = true;\n            if (this.room) {\n                this.room.off();\n                this.room.remove();\n                this.$router.push('/history');\n            } else {\n                this.$router.push('/');\n            }\n        },\n        finishGame() {\n            this.canExit = true;\n            if (!this.multiplayer) {\n                this.$router.push('/history');\n            } else {\n                // Open the dialog while waiting for other players to finsih the game\n                this.dialogTitle = this.$t(\n                    'StreetView.waitForOtherPlayersToFinish'\n                );\n                this.dialogText = '';\n                this.dialogMessage = true;\n            }\n        },\n        onUserEventPanoramaKey(e) {\n            if (\n                (!this.moveControl &&\n                    [38, 40, 87, 83, 90].includes(e.keyCode)) ||\n                (!this.zoomControl &&\n                    [107, 109, 187, 189].includes(e.keyCode)) ||\n                (!this.panControl &&\n                    [37, 39, 65, 68, 100, 102].includes(e.keyCode))\n            ) {\n                e.stopPropagation();\n            }\n        },\n        onUserEventPanoramaMouse(e) {\n            if (!this.panControl) e.stopPropagation();\n        },\n    },\n};\n</script>\n\n<style scoped lang=\"scss\">\n#game-page {\n    position: relative;\n    height: 100%;\n    height: var(--global-height, 100%);\n    width: 100%;\n    top: 0;\n    left: 0;\n}\n\n#street-view-container {\n    position: absolute;\n    height: 100%;\n    width: 100%;\n    top: 0;\n    left: 0;\n}\n#game-interface {\n    position: absolute;\n    height: 100%;\n    width: 100%;\n    top: 0;\n    left: 0;\n\n    &__overlay {\n        width: 100%;\n        height: 100%;\n        position: absolute;\n        top: 0;\n        right: 0;\n        display: flex;\n        .resetBtn{\n            position: absolute;\n            bottom: 22px;\n            right: 70px;\n            z-index: 1;\n            @media (max-width: 450px) {\n                bottom: 65px;\n            }\n        }\n    }\n}\n\n#street-view {\n    position: relative;\n    min-height: 100%;\n    width: 100%;\n}\n.alert-container {\n    margin-top: 65px;\n    .v-alert {\n        z-index: 2;\n    }\n    #warningCountdown {\n        width: fit-content;\n        margin: 10px;\n        margin-top: 90px;\n        padding: auto 30px;\n    }\n}\n\n@media (max-width: 450px) {\n    #game-interface {\n        display: grid;\n        grid-template-rows: auto 44px;\n        #game-interface--overlay {\n            position: initial;\n        }\n    }\n\n    #reset-button {\n        bottom: 120px;\n    }\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./StreetView.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./StreetView.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./StreetView.vue?vue&type=template&id=89aed002&scoped=true\"\nimport script from \"./StreetView.vue?vue&type=script&lang=js\"\nexport * from \"./StreetView.vue?vue&type=script&lang=js\"\nimport style0 from \"./StreetView.vue?vue&type=style&index=0&id=89aed002&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"89aed002\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\n\nconst bbox = require('@turf/bbox').default;\nconst random = require('@turf/random');\nconst booleanPointInPolygon = require('@turf/boolean-point-in-polygon').default;\n\n/**\n * Return random position inside geoJson Feature<(Polygon|MultiPolygon)>.\n * @param {Feature<(Polygon|MultiPolygon)>} polygon\n * @returns {Array<number>} Position [longitude, latitude]\n * @throws {Exception}\n * @example\n * var polygon = turf.polygon([[[-5, 52], [-4, 56], [-2, 51], [-7, 54], [-5, 52]]], { name: 'poly1' });\n * var positionRandom = randomPositionInPolygon();\n *\n */\nfunction randomPositionInPolygon(polygon) {\n  if(!polygon || !polygon.type || polygon.type !== 'Feature' || ['Polygon','MultiPolygon'].indexOf(polygon.geometry.type) === -1) {\n    throw new Error('param polygon must be a Feature<(Polygon|MultiPolygon)>')\n  }\n  let  position;\n  const bboxObj = bbox(polygon);\n  do {\n    position = random.randomPosition(bboxObj)\n  }\n  while (!booleanPointInPolygon(position, polygon));\n\n  return position;\n}\n\nmodule.exports = randomPositionInPolygon;","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar meta_1 = require(\"@turf/meta\");\n/**\n * Takes a set of features, calculates the bbox of all input features, and returns a bounding box.\n *\n * @name bbox\n * @param {GeoJSON} geojson any GeoJSON object\n * @returns {BBox} bbox extent in [minX, minY, maxX, maxY] order\n * @example\n * var line = turf.lineString([[-74, 40], [-78, 42], [-82, 35]]);\n * var bbox = turf.bbox(line);\n * var bboxPolygon = turf.bboxPolygon(bbox);\n *\n * //addToMap\n * var addToMap = [line, bboxPolygon]\n */\nfunction bbox(geojson) {\n    var result = [Infinity, Infinity, -Infinity, -Infinity];\n    meta_1.coordEach(geojson, function (coord) {\n        if (result[0] > coord[0]) {\n            result[0] = coord[0];\n        }\n        if (result[1] > coord[1]) {\n            result[1] = coord[1];\n        }\n        if (result[2] < coord[0]) {\n            result[2] = coord[0];\n        }\n        if (result[3] < coord[1]) {\n            result[3] = coord[1];\n        }\n    });\n    return result;\n}\nbbox[\"default\"] = bbox;\nexports.default = bbox;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar invariant_1 = require(\"@turf/invariant\");\n// http://en.wikipedia.org/wiki/Even%E2%80%93odd_rule\n// modified from: https://github.com/substack/point-in-polygon/blob/master/index.js\n// which was modified from http://www.ecse.rpi.edu/Homepages/wrf/Research/Short_Notes/pnpoly.html\n/**\n * Takes a {@link Point} and a {@link Polygon} or {@link MultiPolygon} and determines if the point\n * resides inside the polygon. The polygon can be convex or concave. The function accounts for holes.\n *\n * @name booleanPointInPolygon\n * @param {Coord} point input point\n * @param {Feature<Polygon|MultiPolygon>} polygon input polygon or multipolygon\n * @param {Object} [options={}] Optional parameters\n * @param {boolean} [options.ignoreBoundary=false] True if polygon boundary should be ignored when determining if\n * the point is inside the polygon otherwise false.\n * @returns {boolean} `true` if the Point is inside the Polygon; `false` if the Point is not inside the Polygon\n * @example\n * var pt = turf.point([-77, 44]);\n * var poly = turf.polygon([[\n *   [-81, 41],\n *   [-81, 47],\n *   [-72, 47],\n *   [-72, 41],\n *   [-81, 41]\n * ]]);\n *\n * turf.booleanPointInPolygon(pt, poly);\n * //= true\n */\nfunction booleanPointInPolygon(point, polygon, options) {\n    if (options === void 0) { options = {}; }\n    // validation\n    if (!point) {\n        throw new Error(\"point is required\");\n    }\n    if (!polygon) {\n        throw new Error(\"polygon is required\");\n    }\n    var pt = invariant_1.getCoord(point);\n    var geom = invariant_1.getGeom(polygon);\n    var type = geom.type;\n    var bbox = polygon.bbox;\n    var polys = geom.coordinates;\n    // Quick elimination if point is not inside bbox\n    if (bbox && inBBox(pt, bbox) === false) {\n        return false;\n    }\n    // normalize to multipolygon\n    if (type === \"Polygon\") {\n        polys = [polys];\n    }\n    var insidePoly = false;\n    for (var i = 0; i < polys.length && !insidePoly; i++) {\n        // check if it is in the outer ring first\n        if (inRing(pt, polys[i][0], options.ignoreBoundary)) {\n            var inHole = false;\n            var k = 1;\n            // check for the point in any of the holes\n            while (k < polys[i].length && !inHole) {\n                if (inRing(pt, polys[i][k], !options.ignoreBoundary)) {\n                    inHole = true;\n                }\n                k++;\n            }\n            if (!inHole) {\n                insidePoly = true;\n            }\n        }\n    }\n    return insidePoly;\n}\nexports.default = booleanPointInPolygon;\n/**\n * inRing\n *\n * @private\n * @param {Array<number>} pt [x,y]\n * @param {Array<Array<number>>} ring [[x,y], [x,y],..]\n * @param {boolean} ignoreBoundary ignoreBoundary\n * @returns {boolean} inRing\n */\nfunction inRing(pt, ring, ignoreBoundary) {\n    var isInside = false;\n    if (ring[0][0] === ring[ring.length - 1][0] &&\n        ring[0][1] === ring[ring.length - 1][1]) {\n        ring = ring.slice(0, ring.length - 1);\n    }\n    for (var i = 0, j = ring.length - 1; i < ring.length; j = i++) {\n        var xi = ring[i][0];\n        var yi = ring[i][1];\n        var xj = ring[j][0];\n        var yj = ring[j][1];\n        var onBoundary = pt[1] * (xi - xj) + yi * (xj - pt[0]) + yj * (pt[0] - xi) === 0 &&\n            (xi - pt[0]) * (xj - pt[0]) <= 0 &&\n            (yi - pt[1]) * (yj - pt[1]) <= 0;\n        if (onBoundary) {\n            return !ignoreBoundary;\n        }\n        var intersect = yi > pt[1] !== yj > pt[1] &&\n            pt[0] < ((xj - xi) * (pt[1] - yi)) / (yj - yi) + xi;\n        if (intersect) {\n            isInside = !isInside;\n        }\n    }\n    return isInside;\n}\n/**\n * inBBox\n *\n * @private\n * @param {Position} pt point [x,y]\n * @param {BBox} bbox BBox [west, south, east, north]\n * @returns {boolean} true/false if point is inside BBox\n */\nfunction inBBox(pt, bbox) {\n    return (bbox[0] <= pt[0] && bbox[1] <= pt[1] && bbox[2] >= pt[0] && bbox[3] >= pt[1]);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * @module helpers\n */\n/**\n * Earth Radius used with the Harvesine formula and approximates using a spherical (non-ellipsoid) Earth.\n *\n * @memberof helpers\n * @type {number}\n */\nexports.earthRadius = 6371008.8;\n/**\n * Unit of measurement factors using a spherical (non-ellipsoid) earth radius.\n *\n * @memberof helpers\n * @type {Object}\n */\nexports.factors = {\n    centimeters: exports.earthRadius * 100,\n    centimetres: exports.earthRadius * 100,\n    degrees: exports.earthRadius / 111325,\n    feet: exports.earthRadius * 3.28084,\n    inches: exports.earthRadius * 39.37,\n    kilometers: exports.earthRadius / 1000,\n    kilometres: exports.earthRadius / 1000,\n    meters: exports.earthRadius,\n    metres: exports.earthRadius,\n    miles: exports.earthRadius / 1609.344,\n    millimeters: exports.earthRadius * 1000,\n    millimetres: exports.earthRadius * 1000,\n    nauticalmiles: exports.earthRadius / 1852,\n    radians: 1,\n    yards: exports.earthRadius * 1.0936,\n};\n/**\n * Units of measurement factors based on 1 meter.\n *\n * @memberof helpers\n * @type {Object}\n */\nexports.unitsFactors = {\n    centimeters: 100,\n    centimetres: 100,\n    degrees: 1 / 111325,\n    feet: 3.28084,\n    inches: 39.37,\n    kilometers: 1 / 1000,\n    kilometres: 1 / 1000,\n    meters: 1,\n    metres: 1,\n    miles: 1 / 1609.344,\n    millimeters: 1000,\n    millimetres: 1000,\n    nauticalmiles: 1 / 1852,\n    radians: 1 / exports.earthRadius,\n    yards: 1.0936133,\n};\n/**\n * Area of measurement factors based on 1 square meter.\n *\n * @memberof helpers\n * @type {Object}\n */\nexports.areaFactors = {\n    acres: 0.000247105,\n    centimeters: 10000,\n    centimetres: 10000,\n    feet: 10.763910417,\n    hectares: 0.0001,\n    inches: 1550.003100006,\n    kilometers: 0.000001,\n    kilometres: 0.000001,\n    meters: 1,\n    metres: 1,\n    miles: 3.86e-7,\n    millimeters: 1000000,\n    millimetres: 1000000,\n    yards: 1.195990046,\n};\n/**\n * Wraps a GeoJSON {@link Geometry} in a GeoJSON {@link Feature}.\n *\n * @name feature\n * @param {Geometry} geometry input geometry\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature} a GeoJSON Feature\n * @example\n * var geometry = {\n *   \"type\": \"Point\",\n *   \"coordinates\": [110, 50]\n * };\n *\n * var feature = turf.feature(geometry);\n *\n * //=feature\n */\nfunction feature(geom, properties, options) {\n    if (options === void 0) { options = {}; }\n    var feat = { type: \"Feature\" };\n    if (options.id === 0 || options.id) {\n        feat.id = options.id;\n    }\n    if (options.bbox) {\n        feat.bbox = options.bbox;\n    }\n    feat.properties = properties || {};\n    feat.geometry = geom;\n    return feat;\n}\nexports.feature = feature;\n/**\n * Creates a GeoJSON {@link Geometry} from a Geometry string type & coordinates.\n * For GeometryCollection type use `helpers.geometryCollection`\n *\n * @name geometry\n * @param {string} type Geometry Type\n * @param {Array<any>} coordinates Coordinates\n * @param {Object} [options={}] Optional Parameters\n * @returns {Geometry} a GeoJSON Geometry\n * @example\n * var type = \"Point\";\n * var coordinates = [110, 50];\n * var geometry = turf.geometry(type, coordinates);\n * // => geometry\n */\nfunction geometry(type, coordinates, _options) {\n    if (_options === void 0) { _options = {}; }\n    switch (type) {\n        case \"Point\":\n            return point(coordinates).geometry;\n        case \"LineString\":\n            return lineString(coordinates).geometry;\n        case \"Polygon\":\n            return polygon(coordinates).geometry;\n        case \"MultiPoint\":\n            return multiPoint(coordinates).geometry;\n        case \"MultiLineString\":\n            return multiLineString(coordinates).geometry;\n        case \"MultiPolygon\":\n            return multiPolygon(coordinates).geometry;\n        default:\n            throw new Error(type + \" is invalid\");\n    }\n}\nexports.geometry = geometry;\n/**\n * Creates a {@link Point} {@link Feature} from a Position.\n *\n * @name point\n * @param {Array<number>} coordinates longitude, latitude position (each in decimal degrees)\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<Point>} a Point feature\n * @example\n * var point = turf.point([-75.343, 39.984]);\n *\n * //=point\n */\nfunction point(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    if (!coordinates) {\n        throw new Error(\"coordinates is required\");\n    }\n    if (!Array.isArray(coordinates)) {\n        throw new Error(\"coordinates must be an Array\");\n    }\n    if (coordinates.length < 2) {\n        throw new Error(\"coordinates must be at least 2 numbers long\");\n    }\n    if (!isNumber(coordinates[0]) || !isNumber(coordinates[1])) {\n        throw new Error(\"coordinates must contain numbers\");\n    }\n    var geom = {\n        type: \"Point\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\nexports.point = point;\n/**\n * Creates a {@link Point} {@link FeatureCollection} from an Array of Point coordinates.\n *\n * @name points\n * @param {Array<Array<number>>} coordinates an array of Points\n * @param {Object} [properties={}] Translate these properties to each Feature\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north]\n * associated with the FeatureCollection\n * @param {string|number} [options.id] Identifier associated with the FeatureCollection\n * @returns {FeatureCollection<Point>} Point Feature\n * @example\n * var points = turf.points([\n *   [-75, 39],\n *   [-80, 45],\n *   [-78, 50]\n * ]);\n *\n * //=points\n */\nfunction points(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    return featureCollection(coordinates.map(function (coords) {\n        return point(coords, properties);\n    }), options);\n}\nexports.points = points;\n/**\n * Creates a {@link Polygon} {@link Feature} from an Array of LinearRings.\n *\n * @name polygon\n * @param {Array<Array<Array<number>>>} coordinates an array of LinearRings\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<Polygon>} Polygon Feature\n * @example\n * var polygon = turf.polygon([[[-5, 52], [-4, 56], [-2, 51], [-7, 54], [-5, 52]]], { name: 'poly1' });\n *\n * //=polygon\n */\nfunction polygon(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    for (var _i = 0, coordinates_1 = coordinates; _i < coordinates_1.length; _i++) {\n        var ring = coordinates_1[_i];\n        if (ring.length < 4) {\n            throw new Error(\"Each LinearRing of a Polygon must have 4 or more Positions.\");\n        }\n        for (var j = 0; j < ring[ring.length - 1].length; j++) {\n            // Check if first point of Polygon contains two numbers\n            if (ring[ring.length - 1][j] !== ring[0][j]) {\n                throw new Error(\"First and last Position are not equivalent.\");\n            }\n        }\n    }\n    var geom = {\n        type: \"Polygon\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\nexports.polygon = polygon;\n/**\n * Creates a {@link Polygon} {@link FeatureCollection} from an Array of Polygon coordinates.\n *\n * @name polygons\n * @param {Array<Array<Array<Array<number>>>>} coordinates an array of Polygon coordinates\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the FeatureCollection\n * @returns {FeatureCollection<Polygon>} Polygon FeatureCollection\n * @example\n * var polygons = turf.polygons([\n *   [[[-5, 52], [-4, 56], [-2, 51], [-7, 54], [-5, 52]]],\n *   [[[-15, 42], [-14, 46], [-12, 41], [-17, 44], [-15, 42]]],\n * ]);\n *\n * //=polygons\n */\nfunction polygons(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    return featureCollection(coordinates.map(function (coords) {\n        return polygon(coords, properties);\n    }), options);\n}\nexports.polygons = polygons;\n/**\n * Creates a {@link LineString} {@link Feature} from an Array of Positions.\n *\n * @name lineString\n * @param {Array<Array<number>>} coordinates an array of Positions\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<LineString>} LineString Feature\n * @example\n * var linestring1 = turf.lineString([[-24, 63], [-23, 60], [-25, 65], [-20, 69]], {name: 'line 1'});\n * var linestring2 = turf.lineString([[-14, 43], [-13, 40], [-15, 45], [-10, 49]], {name: 'line 2'});\n *\n * //=linestring1\n * //=linestring2\n */\nfunction lineString(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    if (coordinates.length < 2) {\n        throw new Error(\"coordinates must be an array of two or more positions\");\n    }\n    var geom = {\n        type: \"LineString\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\nexports.lineString = lineString;\n/**\n * Creates a {@link LineString} {@link FeatureCollection} from an Array of LineString coordinates.\n *\n * @name lineStrings\n * @param {Array<Array<Array<number>>>} coordinates an array of LinearRings\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north]\n * associated with the FeatureCollection\n * @param {string|number} [options.id] Identifier associated with the FeatureCollection\n * @returns {FeatureCollection<LineString>} LineString FeatureCollection\n * @example\n * var linestrings = turf.lineStrings([\n *   [[-24, 63], [-23, 60], [-25, 65], [-20, 69]],\n *   [[-14, 43], [-13, 40], [-15, 45], [-10, 49]]\n * ]);\n *\n * //=linestrings\n */\nfunction lineStrings(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    return featureCollection(coordinates.map(function (coords) {\n        return lineString(coords, properties);\n    }), options);\n}\nexports.lineStrings = lineStrings;\n/**\n * Takes one or more {@link Feature|Features} and creates a {@link FeatureCollection}.\n *\n * @name featureCollection\n * @param {Feature[]} features input features\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {FeatureCollection} FeatureCollection of Features\n * @example\n * var locationA = turf.point([-75.343, 39.984], {name: 'Location A'});\n * var locationB = turf.point([-75.833, 39.284], {name: 'Location B'});\n * var locationC = turf.point([-75.534, 39.123], {name: 'Location C'});\n *\n * var collection = turf.featureCollection([\n *   locationA,\n *   locationB,\n *   locationC\n * ]);\n *\n * //=collection\n */\nfunction featureCollection(features, options) {\n    if (options === void 0) { options = {}; }\n    var fc = { type: \"FeatureCollection\" };\n    if (options.id) {\n        fc.id = options.id;\n    }\n    if (options.bbox) {\n        fc.bbox = options.bbox;\n    }\n    fc.features = features;\n    return fc;\n}\nexports.featureCollection = featureCollection;\n/**\n * Creates a {@link Feature<MultiLineString>} based on a\n * coordinate array. Properties can be added optionally.\n *\n * @name multiLineString\n * @param {Array<Array<Array<number>>>} coordinates an array of LineStrings\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<MultiLineString>} a MultiLineString feature\n * @throws {Error} if no coordinates are passed\n * @example\n * var multiLine = turf.multiLineString([[[0,0],[10,10]]]);\n *\n * //=multiLine\n */\nfunction multiLineString(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    var geom = {\n        type: \"MultiLineString\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\nexports.multiLineString = multiLineString;\n/**\n * Creates a {@link Feature<MultiPoint>} based on a\n * coordinate array. Properties can be added optionally.\n *\n * @name multiPoint\n * @param {Array<Array<number>>} coordinates an array of Positions\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<MultiPoint>} a MultiPoint feature\n * @throws {Error} if no coordinates are passed\n * @example\n * var multiPt = turf.multiPoint([[0,0],[10,10]]);\n *\n * //=multiPt\n */\nfunction multiPoint(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    var geom = {\n        type: \"MultiPoint\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\nexports.multiPoint = multiPoint;\n/**\n * Creates a {@link Feature<MultiPolygon>} based on a\n * coordinate array. Properties can be added optionally.\n *\n * @name multiPolygon\n * @param {Array<Array<Array<Array<number>>>>} coordinates an array of Polygons\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<MultiPolygon>} a multipolygon feature\n * @throws {Error} if no coordinates are passed\n * @example\n * var multiPoly = turf.multiPolygon([[[[0,0],[0,10],[10,10],[10,0],[0,0]]]]);\n *\n * //=multiPoly\n *\n */\nfunction multiPolygon(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    var geom = {\n        type: \"MultiPolygon\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\nexports.multiPolygon = multiPolygon;\n/**\n * Creates a {@link Feature<GeometryCollection>} based on a\n * coordinate array. Properties can be added optionally.\n *\n * @name geometryCollection\n * @param {Array<Geometry>} geometries an array of GeoJSON Geometries\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<GeometryCollection>} a GeoJSON GeometryCollection Feature\n * @example\n * var pt = turf.geometry(\"Point\", [100, 0]);\n * var line = turf.geometry(\"LineString\", [[101, 0], [102, 1]]);\n * var collection = turf.geometryCollection([pt, line]);\n *\n * // => collection\n */\nfunction geometryCollection(geometries, properties, options) {\n    if (options === void 0) { options = {}; }\n    var geom = {\n        type: \"GeometryCollection\",\n        geometries: geometries,\n    };\n    return feature(geom, properties, options);\n}\nexports.geometryCollection = geometryCollection;\n/**\n * Round number to precision\n *\n * @param {number} num Number\n * @param {number} [precision=0] Precision\n * @returns {number} rounded number\n * @example\n * turf.round(120.4321)\n * //=120\n *\n * turf.round(120.4321, 2)\n * //=120.43\n */\nfunction round(num, precision) {\n    if (precision === void 0) { precision = 0; }\n    if (precision && !(precision >= 0)) {\n        throw new Error(\"precision must be a positive number\");\n    }\n    var multiplier = Math.pow(10, precision || 0);\n    return Math.round(num * multiplier) / multiplier;\n}\nexports.round = round;\n/**\n * Convert a distance measurement (assuming a spherical Earth) from radians to a more friendly unit.\n * Valid units: miles, nauticalmiles, inches, yards, meters, metres, kilometers, centimeters, feet\n *\n * @name radiansToLength\n * @param {number} radians in radians across the sphere\n * @param {string} [units=\"kilometers\"] can be degrees, radians, miles, inches, yards, metres,\n * meters, kilometres, kilometers.\n * @returns {number} distance\n */\nfunction radiansToLength(radians, units) {\n    if (units === void 0) { units = \"kilometers\"; }\n    var factor = exports.factors[units];\n    if (!factor) {\n        throw new Error(units + \" units is invalid\");\n    }\n    return radians * factor;\n}\nexports.radiansToLength = radiansToLength;\n/**\n * Convert a distance measurement (assuming a spherical Earth) from a real-world unit into radians\n * Valid units: miles, nauticalmiles, inches, yards, meters, metres, kilometers, centimeters, feet\n *\n * @name lengthToRadians\n * @param {number} distance in real units\n * @param {string} [units=\"kilometers\"] can be degrees, radians, miles, inches, yards, metres,\n * meters, kilometres, kilometers.\n * @returns {number} radians\n */\nfunction lengthToRadians(distance, units) {\n    if (units === void 0) { units = \"kilometers\"; }\n    var factor = exports.factors[units];\n    if (!factor) {\n        throw new Error(units + \" units is invalid\");\n    }\n    return distance / factor;\n}\nexports.lengthToRadians = lengthToRadians;\n/**\n * Convert a distance measurement (assuming a spherical Earth) from a real-world unit into degrees\n * Valid units: miles, nauticalmiles, inches, yards, meters, metres, centimeters, kilometres, feet\n *\n * @name lengthToDegrees\n * @param {number} distance in real units\n * @param {string} [units=\"kilometers\"] can be degrees, radians, miles, inches, yards, metres,\n * meters, kilometres, kilometers.\n * @returns {number} degrees\n */\nfunction lengthToDegrees(distance, units) {\n    return radiansToDegrees(lengthToRadians(distance, units));\n}\nexports.lengthToDegrees = lengthToDegrees;\n/**\n * Converts any bearing angle from the north line direction (positive clockwise)\n * and returns an angle between 0-360 degrees (positive clockwise), 0 being the north line\n *\n * @name bearingToAzimuth\n * @param {number} bearing angle, between -180 and +180 degrees\n * @returns {number} angle between 0 and 360 degrees\n */\nfunction bearingToAzimuth(bearing) {\n    var angle = bearing % 360;\n    if (angle < 0) {\n        angle += 360;\n    }\n    return angle;\n}\nexports.bearingToAzimuth = bearingToAzimuth;\n/**\n * Converts an angle in radians to degrees\n *\n * @name radiansToDegrees\n * @param {number} radians angle in radians\n * @returns {number} degrees between 0 and 360 degrees\n */\nfunction radiansToDegrees(radians) {\n    var degrees = radians % (2 * Math.PI);\n    return (degrees * 180) / Math.PI;\n}\nexports.radiansToDegrees = radiansToDegrees;\n/**\n * Converts an angle in degrees to radians\n *\n * @name degreesToRadians\n * @param {number} degrees angle between 0 and 360 degrees\n * @returns {number} angle in radians\n */\nfunction degreesToRadians(degrees) {\n    var radians = degrees % 360;\n    return (radians * Math.PI) / 180;\n}\nexports.degreesToRadians = degreesToRadians;\n/**\n * Converts a length to the requested unit.\n * Valid units: miles, nauticalmiles, inches, yards, meters, metres, kilometers, centimeters, feet\n *\n * @param {number} length to be converted\n * @param {Units} [originalUnit=\"kilometers\"] of the length\n * @param {Units} [finalUnit=\"kilometers\"] returned unit\n * @returns {number} the converted length\n */\nfunction convertLength(length, originalUnit, finalUnit) {\n    if (originalUnit === void 0) { originalUnit = \"kilometers\"; }\n    if (finalUnit === void 0) { finalUnit = \"kilometers\"; }\n    if (!(length >= 0)) {\n        throw new Error(\"length must be a positive number\");\n    }\n    return radiansToLength(lengthToRadians(length, originalUnit), finalUnit);\n}\nexports.convertLength = convertLength;\n/**\n * Converts a area to the requested unit.\n * Valid units: kilometers, kilometres, meters, metres, centimetres, millimeters, acres, miles, yards, feet, inches, hectares\n * @param {number} area to be converted\n * @param {Units} [originalUnit=\"meters\"] of the distance\n * @param {Units} [finalUnit=\"kilometers\"] returned unit\n * @returns {number} the converted area\n */\nfunction convertArea(area, originalUnit, finalUnit) {\n    if (originalUnit === void 0) { originalUnit = \"meters\"; }\n    if (finalUnit === void 0) { finalUnit = \"kilometers\"; }\n    if (!(area >= 0)) {\n        throw new Error(\"area must be a positive number\");\n    }\n    var startFactor = exports.areaFactors[originalUnit];\n    if (!startFactor) {\n        throw new Error(\"invalid original units\");\n    }\n    var finalFactor = exports.areaFactors[finalUnit];\n    if (!finalFactor) {\n        throw new Error(\"invalid final units\");\n    }\n    return (area / startFactor) * finalFactor;\n}\nexports.convertArea = convertArea;\n/**\n * isNumber\n *\n * @param {*} num Number to validate\n * @returns {boolean} true/false\n * @example\n * turf.isNumber(123)\n * //=true\n * turf.isNumber('foo')\n * //=false\n */\nfunction isNumber(num) {\n    return !isNaN(num) && num !== null && !Array.isArray(num);\n}\nexports.isNumber = isNumber;\n/**\n * isObject\n *\n * @param {*} input variable to validate\n * @returns {boolean} true/false\n * @example\n * turf.isObject({elevation: 10})\n * //=true\n * turf.isObject('foo')\n * //=false\n */\nfunction isObject(input) {\n    return !!input && input.constructor === Object;\n}\nexports.isObject = isObject;\n/**\n * Validate BBox\n *\n * @private\n * @param {Array<number>} bbox BBox to validate\n * @returns {void}\n * @throws Error if BBox is not valid\n * @example\n * validateBBox([-180, -40, 110, 50])\n * //=OK\n * validateBBox([-180, -40])\n * //=Error\n * validateBBox('Foo')\n * //=Error\n * validateBBox(5)\n * //=Error\n * validateBBox(null)\n * //=Error\n * validateBBox(undefined)\n * //=Error\n */\nfunction validateBBox(bbox) {\n    if (!bbox) {\n        throw new Error(\"bbox is required\");\n    }\n    if (!Array.isArray(bbox)) {\n        throw new Error(\"bbox must be an Array\");\n    }\n    if (bbox.length !== 4 && bbox.length !== 6) {\n        throw new Error(\"bbox must be an Array of 4 or 6 numbers\");\n    }\n    bbox.forEach(function (num) {\n        if (!isNumber(num)) {\n            throw new Error(\"bbox must only contain numbers\");\n        }\n    });\n}\nexports.validateBBox = validateBBox;\n/**\n * Validate Id\n *\n * @private\n * @param {string|number} id Id to validate\n * @returns {void}\n * @throws Error if Id is not valid\n * @example\n * validateId([-180, -40, 110, 50])\n * //=Error\n * validateId([-180, -40])\n * //=Error\n * validateId('Foo')\n * //=OK\n * validateId(5)\n * //=OK\n * validateId(null)\n * //=Error\n * validateId(undefined)\n * //=Error\n */\nfunction validateId(id) {\n    if (!id) {\n        throw new Error(\"id is required\");\n    }\n    if ([\"string\", \"number\"].indexOf(typeof id) === -1) {\n        throw new Error(\"id must be a number or a string\");\n    }\n}\nexports.validateId = validateId;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar helpers_1 = require(\"@turf/helpers\");\n/**\n * Unwrap a coordinate from a Point Feature, Geometry or a single coordinate.\n *\n * @name getCoord\n * @param {Array<number>|Geometry<Point>|Feature<Point>} coord GeoJSON Point or an Array of numbers\n * @returns {Array<number>} coordinates\n * @example\n * var pt = turf.point([10, 10]);\n *\n * var coord = turf.getCoord(pt);\n * //= [10, 10]\n */\nfunction getCoord(coord) {\n    if (!coord) {\n        throw new Error(\"coord is required\");\n    }\n    if (!Array.isArray(coord)) {\n        if (coord.type === \"Feature\" &&\n            coord.geometry !== null &&\n            coord.geometry.type === \"Point\") {\n            return coord.geometry.coordinates;\n        }\n        if (coord.type === \"Point\") {\n            return coord.coordinates;\n        }\n    }\n    if (Array.isArray(coord) &&\n        coord.length >= 2 &&\n        !Array.isArray(coord[0]) &&\n        !Array.isArray(coord[1])) {\n        return coord;\n    }\n    throw new Error(\"coord must be GeoJSON Point or an Array of numbers\");\n}\nexports.getCoord = getCoord;\n/**\n * Unwrap coordinates from a Feature, Geometry Object or an Array\n *\n * @name getCoords\n * @param {Array<any>|Geometry|Feature} coords Feature, Geometry Object or an Array\n * @returns {Array<any>} coordinates\n * @example\n * var poly = turf.polygon([[[119.32, -8.7], [119.55, -8.69], [119.51, -8.54], [119.32, -8.7]]]);\n *\n * var coords = turf.getCoords(poly);\n * //= [[[119.32, -8.7], [119.55, -8.69], [119.51, -8.54], [119.32, -8.7]]]\n */\nfunction getCoords(coords) {\n    if (Array.isArray(coords)) {\n        return coords;\n    }\n    // Feature\n    if (coords.type === \"Feature\") {\n        if (coords.geometry !== null) {\n            return coords.geometry.coordinates;\n        }\n    }\n    else {\n        // Geometry\n        if (coords.coordinates) {\n            return coords.coordinates;\n        }\n    }\n    throw new Error(\"coords must be GeoJSON Feature, Geometry Object or an Array\");\n}\nexports.getCoords = getCoords;\n/**\n * Checks if coordinates contains a number\n *\n * @name containsNumber\n * @param {Array<any>} coordinates GeoJSON Coordinates\n * @returns {boolean} true if Array contains a number\n */\nfunction containsNumber(coordinates) {\n    if (coordinates.length > 1 &&\n        helpers_1.isNumber(coordinates[0]) &&\n        helpers_1.isNumber(coordinates[1])) {\n        return true;\n    }\n    if (Array.isArray(coordinates[0]) && coordinates[0].length) {\n        return containsNumber(coordinates[0]);\n    }\n    throw new Error(\"coordinates must only contain numbers\");\n}\nexports.containsNumber = containsNumber;\n/**\n * Enforce expectations about types of GeoJSON objects for Turf.\n *\n * @name geojsonType\n * @param {GeoJSON} value any GeoJSON object\n * @param {string} type expected GeoJSON type\n * @param {string} name name of calling function\n * @throws {Error} if value is not the expected type.\n */\nfunction geojsonType(value, type, name) {\n    if (!type || !name) {\n        throw new Error(\"type and name required\");\n    }\n    if (!value || value.type !== type) {\n        throw new Error(\"Invalid input to \" +\n            name +\n            \": must be a \" +\n            type +\n            \", given \" +\n            value.type);\n    }\n}\nexports.geojsonType = geojsonType;\n/**\n * Enforce expectations about types of {@link Feature} inputs for Turf.\n * Internally this uses {@link geojsonType} to judge geometry types.\n *\n * @name featureOf\n * @param {Feature} feature a feature with an expected geometry type\n * @param {string} type expected GeoJSON type\n * @param {string} name name of calling function\n * @throws {Error} error if value is not the expected type.\n */\nfunction featureOf(feature, type, name) {\n    if (!feature) {\n        throw new Error(\"No feature passed\");\n    }\n    if (!name) {\n        throw new Error(\".featureOf() requires a name\");\n    }\n    if (!feature || feature.type !== \"Feature\" || !feature.geometry) {\n        throw new Error(\"Invalid input to \" + name + \", Feature with geometry required\");\n    }\n    if (!feature.geometry || feature.geometry.type !== type) {\n        throw new Error(\"Invalid input to \" +\n            name +\n            \": must be a \" +\n            type +\n            \", given \" +\n            feature.geometry.type);\n    }\n}\nexports.featureOf = featureOf;\n/**\n * Enforce expectations about types of {@link FeatureCollection} inputs for Turf.\n * Internally this uses {@link geojsonType} to judge geometry types.\n *\n * @name collectionOf\n * @param {FeatureCollection} featureCollection a FeatureCollection for which features will be judged\n * @param {string} type expected GeoJSON type\n * @param {string} name name of calling function\n * @throws {Error} if value is not the expected type.\n */\nfunction collectionOf(featureCollection, type, name) {\n    if (!featureCollection) {\n        throw new Error(\"No featureCollection passed\");\n    }\n    if (!name) {\n        throw new Error(\".collectionOf() requires a name\");\n    }\n    if (!featureCollection || featureCollection.type !== \"FeatureCollection\") {\n        throw new Error(\"Invalid input to \" + name + \", FeatureCollection required\");\n    }\n    for (var _i = 0, _a = featureCollection.features; _i < _a.length; _i++) {\n        var feature = _a[_i];\n        if (!feature || feature.type !== \"Feature\" || !feature.geometry) {\n            throw new Error(\"Invalid input to \" + name + \", Feature with geometry required\");\n        }\n        if (!feature.geometry || feature.geometry.type !== type) {\n            throw new Error(\"Invalid input to \" +\n                name +\n                \": must be a \" +\n                type +\n                \", given \" +\n                feature.geometry.type);\n        }\n    }\n}\nexports.collectionOf = collectionOf;\n/**\n * Get Geometry from Feature or Geometry Object\n *\n * @param {Feature|Geometry} geojson GeoJSON Feature or Geometry Object\n * @returns {Geometry|null} GeoJSON Geometry Object\n * @throws {Error} if geojson is not a Feature or Geometry Object\n * @example\n * var point = {\n *   \"type\": \"Feature\",\n *   \"properties\": {},\n *   \"geometry\": {\n *     \"type\": \"Point\",\n *     \"coordinates\": [110, 40]\n *   }\n * }\n * var geom = turf.getGeom(point)\n * //={\"type\": \"Point\", \"coordinates\": [110, 40]}\n */\nfunction getGeom(geojson) {\n    if (geojson.type === \"Feature\") {\n        return geojson.geometry;\n    }\n    return geojson;\n}\nexports.getGeom = getGeom;\n/**\n * Get GeoJSON object's type, Geometry type is prioritize.\n *\n * @param {GeoJSON} geojson GeoJSON object\n * @param {string} [name=\"geojson\"] name of the variable to display in error message (unused)\n * @returns {string} GeoJSON type\n * @example\n * var point = {\n *   \"type\": \"Feature\",\n *   \"properties\": {},\n *   \"geometry\": {\n *     \"type\": \"Point\",\n *     \"coordinates\": [110, 40]\n *   }\n * }\n * var geom = turf.getType(point)\n * //=\"Point\"\n */\nfunction getType(geojson, _name) {\n    if (geojson.type === \"FeatureCollection\") {\n        return \"FeatureCollection\";\n    }\n    if (geojson.type === \"GeometryCollection\") {\n        return \"GeometryCollection\";\n    }\n    if (geojson.type === \"Feature\" && geojson.geometry !== null) {\n        return geojson.geometry.type;\n    }\n    return geojson.type;\n}\nexports.getType = getType;\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar helpers = require('@turf/helpers');\n\n/**\n * Callback for coordEach\n *\n * @callback coordEachCallback\n * @param {Array<number>} currentCoord The current coordinate being processed.\n * @param {number} coordIndex The current index of the coordinate being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n * @param {number} geometryIndex The current index of the Geometry being processed.\n */\n\n/**\n * Iterate over coordinates in any GeoJSON object, similar to Array.forEach()\n *\n * @name coordEach\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentCoord, coordIndex, featureIndex, multiFeatureIndex)\n * @param {boolean} [excludeWrapCoord=false] whether or not to include the final coordinate of LinearRings that wraps the ring in its iteration.\n * @returns {void}\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {\"foo\": \"bar\"}),\n *   turf.point([36, 53], {\"hello\": \"world\"})\n * ]);\n *\n * turf.coordEach(features, function (currentCoord, coordIndex, featureIndex, multiFeatureIndex, geometryIndex) {\n *   //=currentCoord\n *   //=coordIndex\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n * });\n */\nfunction coordEach(geojson, callback, excludeWrapCoord) {\n  // Handles null Geometry -- Skips this GeoJSON\n  if (geojson === null) return;\n  var j,\n    k,\n    l,\n    geometry,\n    stopG,\n    coords,\n    geometryMaybeCollection,\n    wrapShrink = 0,\n    coordIndex = 0,\n    isGeometryCollection,\n    type = geojson.type,\n    isFeatureCollection = type === \"FeatureCollection\",\n    isFeature = type === \"Feature\",\n    stop = isFeatureCollection ? geojson.features.length : 1;\n\n  // This logic may look a little weird. The reason why it is that way\n  // is because it's trying to be fast. GeoJSON supports multiple kinds\n  // of objects at its root: FeatureCollection, Features, Geometries.\n  // This function has the responsibility of handling all of them, and that\n  // means that some of the `for` loops you see below actually just don't apply\n  // to certain inputs. For instance, if you give this just a\n  // Point geometry, then both loops are short-circuited and all we do\n  // is gradually rename the input until it's called 'geometry'.\n  //\n  // This also aims to allocate as few resources as possible: just a\n  // few numbers and booleans, rather than any temporary arrays as would\n  // be required with the normalization approach.\n  for (var featureIndex = 0; featureIndex < stop; featureIndex++) {\n    geometryMaybeCollection = isFeatureCollection\n      ? geojson.features[featureIndex].geometry\n      : isFeature\n      ? geojson.geometry\n      : geojson;\n    isGeometryCollection = geometryMaybeCollection\n      ? geometryMaybeCollection.type === \"GeometryCollection\"\n      : false;\n    stopG = isGeometryCollection\n      ? geometryMaybeCollection.geometries.length\n      : 1;\n\n    for (var geomIndex = 0; geomIndex < stopG; geomIndex++) {\n      var multiFeatureIndex = 0;\n      var geometryIndex = 0;\n      geometry = isGeometryCollection\n        ? geometryMaybeCollection.geometries[geomIndex]\n        : geometryMaybeCollection;\n\n      // Handles null Geometry -- Skips this geometry\n      if (geometry === null) continue;\n      coords = geometry.coordinates;\n      var geomType = geometry.type;\n\n      wrapShrink =\n        excludeWrapCoord &&\n        (geomType === \"Polygon\" || geomType === \"MultiPolygon\")\n          ? 1\n          : 0;\n\n      switch (geomType) {\n        case null:\n          break;\n        case \"Point\":\n          if (\n            callback(\n              coords,\n              coordIndex,\n              featureIndex,\n              multiFeatureIndex,\n              geometryIndex\n            ) === false\n          )\n            return false;\n          coordIndex++;\n          multiFeatureIndex++;\n          break;\n        case \"LineString\":\n        case \"MultiPoint\":\n          for (j = 0; j < coords.length; j++) {\n            if (\n              callback(\n                coords[j],\n                coordIndex,\n                featureIndex,\n                multiFeatureIndex,\n                geometryIndex\n              ) === false\n            )\n              return false;\n            coordIndex++;\n            if (geomType === \"MultiPoint\") multiFeatureIndex++;\n          }\n          if (geomType === \"LineString\") multiFeatureIndex++;\n          break;\n        case \"Polygon\":\n        case \"MultiLineString\":\n          for (j = 0; j < coords.length; j++) {\n            for (k = 0; k < coords[j].length - wrapShrink; k++) {\n              if (\n                callback(\n                  coords[j][k],\n                  coordIndex,\n                  featureIndex,\n                  multiFeatureIndex,\n                  geometryIndex\n                ) === false\n              )\n                return false;\n              coordIndex++;\n            }\n            if (geomType === \"MultiLineString\") multiFeatureIndex++;\n            if (geomType === \"Polygon\") geometryIndex++;\n          }\n          if (geomType === \"Polygon\") multiFeatureIndex++;\n          break;\n        case \"MultiPolygon\":\n          for (j = 0; j < coords.length; j++) {\n            geometryIndex = 0;\n            for (k = 0; k < coords[j].length; k++) {\n              for (l = 0; l < coords[j][k].length - wrapShrink; l++) {\n                if (\n                  callback(\n                    coords[j][k][l],\n                    coordIndex,\n                    featureIndex,\n                    multiFeatureIndex,\n                    geometryIndex\n                  ) === false\n                )\n                  return false;\n                coordIndex++;\n              }\n              geometryIndex++;\n            }\n            multiFeatureIndex++;\n          }\n          break;\n        case \"GeometryCollection\":\n          for (j = 0; j < geometry.geometries.length; j++)\n            if (\n              coordEach(geometry.geometries[j], callback, excludeWrapCoord) ===\n              false\n            )\n              return false;\n          break;\n        default:\n          throw new Error(\"Unknown Geometry Type\");\n      }\n    }\n  }\n}\n\n/**\n * Callback for coordReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback coordReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Array<number>} currentCoord The current coordinate being processed.\n * @param {number} coordIndex The current index of the coordinate being processed.\n * Starts at index 0, if an initialValue is provided, and at index 1 otherwise.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n * @param {number} geometryIndex The current index of the Geometry being processed.\n */\n\n/**\n * Reduce coordinates in any GeoJSON object, similar to Array.reduce()\n *\n * @name coordReduce\n * @param {FeatureCollection|Geometry|Feature} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentCoord, coordIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @param {boolean} [excludeWrapCoord=false] whether or not to include the final coordinate of LinearRings that wraps the ring in its iteration.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {\"foo\": \"bar\"}),\n *   turf.point([36, 53], {\"hello\": \"world\"})\n * ]);\n *\n * turf.coordReduce(features, function (previousValue, currentCoord, coordIndex, featureIndex, multiFeatureIndex, geometryIndex) {\n *   //=previousValue\n *   //=currentCoord\n *   //=coordIndex\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n *   return currentCoord;\n * });\n */\nfunction coordReduce(geojson, callback, initialValue, excludeWrapCoord) {\n  var previousValue = initialValue;\n  coordEach(\n    geojson,\n    function (\n      currentCoord,\n      coordIndex,\n      featureIndex,\n      multiFeatureIndex,\n      geometryIndex\n    ) {\n      if (coordIndex === 0 && initialValue === undefined)\n        previousValue = currentCoord;\n      else\n        previousValue = callback(\n          previousValue,\n          currentCoord,\n          coordIndex,\n          featureIndex,\n          multiFeatureIndex,\n          geometryIndex\n        );\n    },\n    excludeWrapCoord\n  );\n  return previousValue;\n}\n\n/**\n * Callback for propEach\n *\n * @callback propEachCallback\n * @param {Object} currentProperties The current Properties being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n */\n\n/**\n * Iterate over properties in any GeoJSON object, similar to Array.forEach()\n *\n * @name propEach\n * @param {FeatureCollection|Feature} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentProperties, featureIndex)\n * @returns {void}\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.propEach(features, function (currentProperties, featureIndex) {\n *   //=currentProperties\n *   //=featureIndex\n * });\n */\nfunction propEach(geojson, callback) {\n  var i;\n  switch (geojson.type) {\n    case \"FeatureCollection\":\n      for (i = 0; i < geojson.features.length; i++) {\n        if (callback(geojson.features[i].properties, i) === false) break;\n      }\n      break;\n    case \"Feature\":\n      callback(geojson.properties, 0);\n      break;\n  }\n}\n\n/**\n * Callback for propReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback propReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {*} currentProperties The current Properties being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n */\n\n/**\n * Reduce properties in any GeoJSON object into a single value,\n * similar to how Array.reduce works. However, in this case we lazily run\n * the reduction, so an array of all properties is unnecessary.\n *\n * @name propReduce\n * @param {FeatureCollection|Feature} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentProperties, featureIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.propReduce(features, function (previousValue, currentProperties, featureIndex) {\n *   //=previousValue\n *   //=currentProperties\n *   //=featureIndex\n *   return currentProperties\n * });\n */\nfunction propReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  propEach(geojson, function (currentProperties, featureIndex) {\n    if (featureIndex === 0 && initialValue === undefined)\n      previousValue = currentProperties;\n    else\n      previousValue = callback(previousValue, currentProperties, featureIndex);\n  });\n  return previousValue;\n}\n\n/**\n * Callback for featureEach\n *\n * @callback featureEachCallback\n * @param {Feature<any>} currentFeature The current Feature being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n */\n\n/**\n * Iterate over features in any GeoJSON object, similar to\n * Array.forEach.\n *\n * @name featureEach\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentFeature, featureIndex)\n * @returns {void}\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {foo: 'bar'}),\n *   turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.featureEach(features, function (currentFeature, featureIndex) {\n *   //=currentFeature\n *   //=featureIndex\n * });\n */\nfunction featureEach(geojson, callback) {\n  if (geojson.type === \"Feature\") {\n    callback(geojson, 0);\n  } else if (geojson.type === \"FeatureCollection\") {\n    for (var i = 0; i < geojson.features.length; i++) {\n      if (callback(geojson.features[i], i) === false) break;\n    }\n  }\n}\n\n/**\n * Callback for featureReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback featureReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Feature} currentFeature The current Feature being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n */\n\n/**\n * Reduce features in any GeoJSON object, similar to Array.reduce().\n *\n * @name featureReduce\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentFeature, featureIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {\"foo\": \"bar\"}),\n *   turf.point([36, 53], {\"hello\": \"world\"})\n * ]);\n *\n * turf.featureReduce(features, function (previousValue, currentFeature, featureIndex) {\n *   //=previousValue\n *   //=currentFeature\n *   //=featureIndex\n *   return currentFeature\n * });\n */\nfunction featureReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  featureEach(geojson, function (currentFeature, featureIndex) {\n    if (featureIndex === 0 && initialValue === undefined)\n      previousValue = currentFeature;\n    else previousValue = callback(previousValue, currentFeature, featureIndex);\n  });\n  return previousValue;\n}\n\n/**\n * Get all coordinates from any GeoJSON object.\n *\n * @name coordAll\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @returns {Array<Array<number>>} coordinate position array\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {foo: 'bar'}),\n *   turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * var coords = turf.coordAll(features);\n * //= [[26, 37], [36, 53]]\n */\nfunction coordAll(geojson) {\n  var coords = [];\n  coordEach(geojson, function (coord) {\n    coords.push(coord);\n  });\n  return coords;\n}\n\n/**\n * Callback for geomEach\n *\n * @callback geomEachCallback\n * @param {Geometry} currentGeometry The current Geometry being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {Object} featureProperties The current Feature Properties being processed.\n * @param {Array<number>} featureBBox The current Feature BBox being processed.\n * @param {number|string} featureId The current Feature Id being processed.\n */\n\n/**\n * Iterate over each geometry in any GeoJSON object, similar to Array.forEach()\n *\n * @name geomEach\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentGeometry, featureIndex, featureProperties, featureBBox, featureId)\n * @returns {void}\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.geomEach(features, function (currentGeometry, featureIndex, featureProperties, featureBBox, featureId) {\n *   //=currentGeometry\n *   //=featureIndex\n *   //=featureProperties\n *   //=featureBBox\n *   //=featureId\n * });\n */\nfunction geomEach(geojson, callback) {\n  var i,\n    j,\n    g,\n    geometry,\n    stopG,\n    geometryMaybeCollection,\n    isGeometryCollection,\n    featureProperties,\n    featureBBox,\n    featureId,\n    featureIndex = 0,\n    isFeatureCollection = geojson.type === \"FeatureCollection\",\n    isFeature = geojson.type === \"Feature\",\n    stop = isFeatureCollection ? geojson.features.length : 1;\n\n  // This logic may look a little weird. The reason why it is that way\n  // is because it's trying to be fast. GeoJSON supports multiple kinds\n  // of objects at its root: FeatureCollection, Features, Geometries.\n  // This function has the responsibility of handling all of them, and that\n  // means that some of the `for` loops you see below actually just don't apply\n  // to certain inputs. For instance, if you give this just a\n  // Point geometry, then both loops are short-circuited and all we do\n  // is gradually rename the input until it's called 'geometry'.\n  //\n  // This also aims to allocate as few resources as possible: just a\n  // few numbers and booleans, rather than any temporary arrays as would\n  // be required with the normalization approach.\n  for (i = 0; i < stop; i++) {\n    geometryMaybeCollection = isFeatureCollection\n      ? geojson.features[i].geometry\n      : isFeature\n      ? geojson.geometry\n      : geojson;\n    featureProperties = isFeatureCollection\n      ? geojson.features[i].properties\n      : isFeature\n      ? geojson.properties\n      : {};\n    featureBBox = isFeatureCollection\n      ? geojson.features[i].bbox\n      : isFeature\n      ? geojson.bbox\n      : undefined;\n    featureId = isFeatureCollection\n      ? geojson.features[i].id\n      : isFeature\n      ? geojson.id\n      : undefined;\n    isGeometryCollection = geometryMaybeCollection\n      ? geometryMaybeCollection.type === \"GeometryCollection\"\n      : false;\n    stopG = isGeometryCollection\n      ? geometryMaybeCollection.geometries.length\n      : 1;\n\n    for (g = 0; g < stopG; g++) {\n      geometry = isGeometryCollection\n        ? geometryMaybeCollection.geometries[g]\n        : geometryMaybeCollection;\n\n      // Handle null Geometry\n      if (geometry === null) {\n        if (\n          callback(\n            null,\n            featureIndex,\n            featureProperties,\n            featureBBox,\n            featureId\n          ) === false\n        )\n          return false;\n        continue;\n      }\n      switch (geometry.type) {\n        case \"Point\":\n        case \"LineString\":\n        case \"MultiPoint\":\n        case \"Polygon\":\n        case \"MultiLineString\":\n        case \"MultiPolygon\": {\n          if (\n            callback(\n              geometry,\n              featureIndex,\n              featureProperties,\n              featureBBox,\n              featureId\n            ) === false\n          )\n            return false;\n          break;\n        }\n        case \"GeometryCollection\": {\n          for (j = 0; j < geometry.geometries.length; j++) {\n            if (\n              callback(\n                geometry.geometries[j],\n                featureIndex,\n                featureProperties,\n                featureBBox,\n                featureId\n              ) === false\n            )\n              return false;\n          }\n          break;\n        }\n        default:\n          throw new Error(\"Unknown Geometry Type\");\n      }\n    }\n    // Only increase `featureIndex` per each feature\n    featureIndex++;\n  }\n}\n\n/**\n * Callback for geomReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback geomReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Geometry} currentGeometry The current Geometry being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {Object} featureProperties The current Feature Properties being processed.\n * @param {Array<number>} featureBBox The current Feature BBox being processed.\n * @param {number|string} featureId The current Feature Id being processed.\n */\n\n/**\n * Reduce geometry in any GeoJSON object, similar to Array.reduce().\n *\n * @name geomReduce\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentGeometry, featureIndex, featureProperties, featureBBox, featureId)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.geomReduce(features, function (previousValue, currentGeometry, featureIndex, featureProperties, featureBBox, featureId) {\n *   //=previousValue\n *   //=currentGeometry\n *   //=featureIndex\n *   //=featureProperties\n *   //=featureBBox\n *   //=featureId\n *   return currentGeometry\n * });\n */\nfunction geomReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  geomEach(\n    geojson,\n    function (\n      currentGeometry,\n      featureIndex,\n      featureProperties,\n      featureBBox,\n      featureId\n    ) {\n      if (featureIndex === 0 && initialValue === undefined)\n        previousValue = currentGeometry;\n      else\n        previousValue = callback(\n          previousValue,\n          currentGeometry,\n          featureIndex,\n          featureProperties,\n          featureBBox,\n          featureId\n        );\n    }\n  );\n  return previousValue;\n}\n\n/**\n * Callback for flattenEach\n *\n * @callback flattenEachCallback\n * @param {Feature} currentFeature The current flattened feature being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n */\n\n/**\n * Iterate over flattened features in any GeoJSON object, similar to\n * Array.forEach.\n *\n * @name flattenEach\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentFeature, featureIndex, multiFeatureIndex)\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.multiPoint([[40, 30], [36, 53]], {hello: 'world'})\n * ]);\n *\n * turf.flattenEach(features, function (currentFeature, featureIndex, multiFeatureIndex) {\n *   //=currentFeature\n *   //=featureIndex\n *   //=multiFeatureIndex\n * });\n */\nfunction flattenEach(geojson, callback) {\n  geomEach(geojson, function (geometry, featureIndex, properties, bbox, id) {\n    // Callback for single geometry\n    var type = geometry === null ? null : geometry.type;\n    switch (type) {\n      case null:\n      case \"Point\":\n      case \"LineString\":\n      case \"Polygon\":\n        if (\n          callback(\n            helpers.feature(geometry, properties, { bbox: bbox, id: id }),\n            featureIndex,\n            0\n          ) === false\n        )\n          return false;\n        return;\n    }\n\n    var geomType;\n\n    // Callback for multi-geometry\n    switch (type) {\n      case \"MultiPoint\":\n        geomType = \"Point\";\n        break;\n      case \"MultiLineString\":\n        geomType = \"LineString\";\n        break;\n      case \"MultiPolygon\":\n        geomType = \"Polygon\";\n        break;\n    }\n\n    for (\n      var multiFeatureIndex = 0;\n      multiFeatureIndex < geometry.coordinates.length;\n      multiFeatureIndex++\n    ) {\n      var coordinate = geometry.coordinates[multiFeatureIndex];\n      var geom = {\n        type: geomType,\n        coordinates: coordinate,\n      };\n      if (\n        callback(helpers.feature(geom, properties), featureIndex, multiFeatureIndex) ===\n        false\n      )\n        return false;\n    }\n  });\n}\n\n/**\n * Callback for flattenReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback flattenReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Feature} currentFeature The current Feature being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n */\n\n/**\n * Reduce flattened features in any GeoJSON object, similar to Array.reduce().\n *\n * @name flattenReduce\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentFeature, featureIndex, multiFeatureIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.multiPoint([[40, 30], [36, 53]], {hello: 'world'})\n * ]);\n *\n * turf.flattenReduce(features, function (previousValue, currentFeature, featureIndex, multiFeatureIndex) {\n *   //=previousValue\n *   //=currentFeature\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   return currentFeature\n * });\n */\nfunction flattenReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  flattenEach(\n    geojson,\n    function (currentFeature, featureIndex, multiFeatureIndex) {\n      if (\n        featureIndex === 0 &&\n        multiFeatureIndex === 0 &&\n        initialValue === undefined\n      )\n        previousValue = currentFeature;\n      else\n        previousValue = callback(\n          previousValue,\n          currentFeature,\n          featureIndex,\n          multiFeatureIndex\n        );\n    }\n  );\n  return previousValue;\n}\n\n/**\n * Callback for segmentEach\n *\n * @callback segmentEachCallback\n * @param {Feature<LineString>} currentSegment The current Segment being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n * @param {number} geometryIndex The current index of the Geometry being processed.\n * @param {number} segmentIndex The current index of the Segment being processed.\n * @returns {void}\n */\n\n/**\n * Iterate over 2-vertex line segment in any GeoJSON object, similar to Array.forEach()\n * (Multi)Point geometries do not contain segments therefore they are ignored during this operation.\n *\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON\n * @param {Function} callback a method that takes (currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex)\n * @returns {void}\n * @example\n * var polygon = turf.polygon([[[-50, 5], [-40, -10], [-50, -10], [-40, 5], [-50, 5]]]);\n *\n * // Iterate over GeoJSON by 2-vertex segments\n * turf.segmentEach(polygon, function (currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex) {\n *   //=currentSegment\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n *   //=segmentIndex\n * });\n *\n * // Calculate the total number of segments\n * var total = 0;\n * turf.segmentEach(polygon, function () {\n *     total++;\n * });\n */\nfunction segmentEach(geojson, callback) {\n  flattenEach(geojson, function (feature, featureIndex, multiFeatureIndex) {\n    var segmentIndex = 0;\n\n    // Exclude null Geometries\n    if (!feature.geometry) return;\n    // (Multi)Point geometries do not contain segments therefore they are ignored during this operation.\n    var type = feature.geometry.type;\n    if (type === \"Point\" || type === \"MultiPoint\") return;\n\n    // Generate 2-vertex line segments\n    var previousCoords;\n    var previousFeatureIndex = 0;\n    var previousMultiIndex = 0;\n    var prevGeomIndex = 0;\n    if (\n      coordEach(\n        feature,\n        function (\n          currentCoord,\n          coordIndex,\n          featureIndexCoord,\n          multiPartIndexCoord,\n          geometryIndex\n        ) {\n          // Simulating a meta.coordReduce() since `reduce` operations cannot be stopped by returning `false`\n          if (\n            previousCoords === undefined ||\n            featureIndex > previousFeatureIndex ||\n            multiPartIndexCoord > previousMultiIndex ||\n            geometryIndex > prevGeomIndex\n          ) {\n            previousCoords = currentCoord;\n            previousFeatureIndex = featureIndex;\n            previousMultiIndex = multiPartIndexCoord;\n            prevGeomIndex = geometryIndex;\n            segmentIndex = 0;\n            return;\n          }\n          var currentSegment = helpers.lineString(\n            [previousCoords, currentCoord],\n            feature.properties\n          );\n          if (\n            callback(\n              currentSegment,\n              featureIndex,\n              multiFeatureIndex,\n              geometryIndex,\n              segmentIndex\n            ) === false\n          )\n            return false;\n          segmentIndex++;\n          previousCoords = currentCoord;\n        }\n      ) === false\n    )\n      return false;\n  });\n}\n\n/**\n * Callback for segmentReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback segmentReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Feature<LineString>} currentSegment The current Segment being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n * @param {number} geometryIndex The current index of the Geometry being processed.\n * @param {number} segmentIndex The current index of the Segment being processed.\n */\n\n/**\n * Reduce 2-vertex line segment in any GeoJSON object, similar to Array.reduce()\n * (Multi)Point geometries do not contain segments therefore they are ignored during this operation.\n *\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON\n * @param {Function} callback a method that takes (previousValue, currentSegment, currentIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {void}\n * @example\n * var polygon = turf.polygon([[[-50, 5], [-40, -10], [-50, -10], [-40, 5], [-50, 5]]]);\n *\n * // Iterate over GeoJSON by 2-vertex segments\n * turf.segmentReduce(polygon, function (previousSegment, currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex) {\n *   //= previousSegment\n *   //= currentSegment\n *   //= featureIndex\n *   //= multiFeatureIndex\n *   //= geometryIndex\n *   //= segmentIndex\n *   return currentSegment\n * });\n *\n * // Calculate the total number of segments\n * var initialValue = 0\n * var total = turf.segmentReduce(polygon, function (previousValue) {\n *     previousValue++;\n *     return previousValue;\n * }, initialValue);\n */\nfunction segmentReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  var started = false;\n  segmentEach(\n    geojson,\n    function (\n      currentSegment,\n      featureIndex,\n      multiFeatureIndex,\n      geometryIndex,\n      segmentIndex\n    ) {\n      if (started === false && initialValue === undefined)\n        previousValue = currentSegment;\n      else\n        previousValue = callback(\n          previousValue,\n          currentSegment,\n          featureIndex,\n          multiFeatureIndex,\n          geometryIndex,\n          segmentIndex\n        );\n      started = true;\n    }\n  );\n  return previousValue;\n}\n\n/**\n * Callback for lineEach\n *\n * @callback lineEachCallback\n * @param {Feature<LineString>} currentLine The current LineString|LinearRing being processed\n * @param {number} featureIndex The current index of the Feature being processed\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed\n * @param {number} geometryIndex The current index of the Geometry being processed\n */\n\n/**\n * Iterate over line or ring coordinates in LineString, Polygon, MultiLineString, MultiPolygon Features or Geometries,\n * similar to Array.forEach.\n *\n * @name lineEach\n * @param {Geometry|Feature<LineString|Polygon|MultiLineString|MultiPolygon>} geojson object\n * @param {Function} callback a method that takes (currentLine, featureIndex, multiFeatureIndex, geometryIndex)\n * @example\n * var multiLine = turf.multiLineString([\n *   [[26, 37], [35, 45]],\n *   [[36, 53], [38, 50], [41, 55]]\n * ]);\n *\n * turf.lineEach(multiLine, function (currentLine, featureIndex, multiFeatureIndex, geometryIndex) {\n *   //=currentLine\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n * });\n */\nfunction lineEach(geojson, callback) {\n  // validation\n  if (!geojson) throw new Error(\"geojson is required\");\n\n  flattenEach(geojson, function (feature, featureIndex, multiFeatureIndex) {\n    if (feature.geometry === null) return;\n    var type = feature.geometry.type;\n    var coords = feature.geometry.coordinates;\n    switch (type) {\n      case \"LineString\":\n        if (callback(feature, featureIndex, multiFeatureIndex, 0, 0) === false)\n          return false;\n        break;\n      case \"Polygon\":\n        for (\n          var geometryIndex = 0;\n          geometryIndex < coords.length;\n          geometryIndex++\n        ) {\n          if (\n            callback(\n              helpers.lineString(coords[geometryIndex], feature.properties),\n              featureIndex,\n              multiFeatureIndex,\n              geometryIndex\n            ) === false\n          )\n            return false;\n        }\n        break;\n    }\n  });\n}\n\n/**\n * Callback for lineReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback lineReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Feature<LineString>} currentLine The current LineString|LinearRing being processed.\n * @param {number} featureIndex The current index of the Feature being processed\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed\n * @param {number} geometryIndex The current index of the Geometry being processed\n */\n\n/**\n * Reduce features in any GeoJSON object, similar to Array.reduce().\n *\n * @name lineReduce\n * @param {Geometry|Feature<LineString|Polygon|MultiLineString|MultiPolygon>} geojson object\n * @param {Function} callback a method that takes (previousValue, currentLine, featureIndex, multiFeatureIndex, geometryIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var multiPoly = turf.multiPolygon([\n *   turf.polygon([[[12,48],[2,41],[24,38],[12,48]], [[9,44],[13,41],[13,45],[9,44]]]),\n *   turf.polygon([[[5, 5], [0, 0], [2, 2], [4, 4], [5, 5]]])\n * ]);\n *\n * turf.lineReduce(multiPoly, function (previousValue, currentLine, featureIndex, multiFeatureIndex, geometryIndex) {\n *   //=previousValue\n *   //=currentLine\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n *   return currentLine\n * });\n */\nfunction lineReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  lineEach(\n    geojson,\n    function (currentLine, featureIndex, multiFeatureIndex, geometryIndex) {\n      if (featureIndex === 0 && initialValue === undefined)\n        previousValue = currentLine;\n      else\n        previousValue = callback(\n          previousValue,\n          currentLine,\n          featureIndex,\n          multiFeatureIndex,\n          geometryIndex\n        );\n    }\n  );\n  return previousValue;\n}\n\n/**\n * Finds a particular 2-vertex LineString Segment from a GeoJSON using `@turf/meta` indexes.\n *\n * Negative indexes are permitted.\n * Point & MultiPoint will always return null.\n *\n * @param {FeatureCollection|Feature|Geometry} geojson Any GeoJSON Feature or Geometry\n * @param {Object} [options={}] Optional parameters\n * @param {number} [options.featureIndex=0] Feature Index\n * @param {number} [options.multiFeatureIndex=0] Multi-Feature Index\n * @param {number} [options.geometryIndex=0] Geometry Index\n * @param {number} [options.segmentIndex=0] Segment Index\n * @param {Object} [options.properties={}] Translate Properties to output LineString\n * @param {BBox} [options.bbox={}] Translate BBox to output LineString\n * @param {number|string} [options.id={}] Translate Id to output LineString\n * @returns {Feature<LineString>} 2-vertex GeoJSON Feature LineString\n * @example\n * var multiLine = turf.multiLineString([\n *     [[10, 10], [50, 30], [30, 40]],\n *     [[-10, -10], [-50, -30], [-30, -40]]\n * ]);\n *\n * // First Segment (defaults are 0)\n * turf.findSegment(multiLine);\n * // => Feature<LineString<[[10, 10], [50, 30]]>>\n *\n * // First Segment of 2nd Multi Feature\n * turf.findSegment(multiLine, {multiFeatureIndex: 1});\n * // => Feature<LineString<[[-10, -10], [-50, -30]]>>\n *\n * // Last Segment of Last Multi Feature\n * turf.findSegment(multiLine, {multiFeatureIndex: -1, segmentIndex: -1});\n * // => Feature<LineString<[[-50, -30], [-30, -40]]>>\n */\nfunction findSegment(geojson, options) {\n  // Optional Parameters\n  options = options || {};\n  if (!helpers.isObject(options)) throw new Error(\"options is invalid\");\n  var featureIndex = options.featureIndex || 0;\n  var multiFeatureIndex = options.multiFeatureIndex || 0;\n  var geometryIndex = options.geometryIndex || 0;\n  var segmentIndex = options.segmentIndex || 0;\n\n  // Find FeatureIndex\n  var properties = options.properties;\n  var geometry;\n\n  switch (geojson.type) {\n    case \"FeatureCollection\":\n      if (featureIndex < 0)\n        featureIndex = geojson.features.length + featureIndex;\n      properties = properties || geojson.features[featureIndex].properties;\n      geometry = geojson.features[featureIndex].geometry;\n      break;\n    case \"Feature\":\n      properties = properties || geojson.properties;\n      geometry = geojson.geometry;\n      break;\n    case \"Point\":\n    case \"MultiPoint\":\n      return null;\n    case \"LineString\":\n    case \"Polygon\":\n    case \"MultiLineString\":\n    case \"MultiPolygon\":\n      geometry = geojson;\n      break;\n    default:\n      throw new Error(\"geojson is invalid\");\n  }\n\n  // Find SegmentIndex\n  if (geometry === null) return null;\n  var coords = geometry.coordinates;\n  switch (geometry.type) {\n    case \"Point\":\n    case \"MultiPoint\":\n      return null;\n    case \"LineString\":\n      if (segmentIndex < 0) segmentIndex = coords.length + segmentIndex - 1;\n      return helpers.lineString(\n        [coords[segmentIndex], coords[segmentIndex + 1]],\n        properties,\n        options\n      );\n    case \"Polygon\":\n      if (geometryIndex < 0) geometryIndex = coords.length + geometryIndex;\n      if (segmentIndex < 0)\n        segmentIndex = coords[geometryIndex].length + segmentIndex - 1;\n      return helpers.lineString(\n        [\n          coords[geometryIndex][segmentIndex],\n          coords[geometryIndex][segmentIndex + 1],\n        ],\n        properties,\n        options\n      );\n    case \"MultiLineString\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      if (segmentIndex < 0)\n        segmentIndex = coords[multiFeatureIndex].length + segmentIndex - 1;\n      return helpers.lineString(\n        [\n          coords[multiFeatureIndex][segmentIndex],\n          coords[multiFeatureIndex][segmentIndex + 1],\n        ],\n        properties,\n        options\n      );\n    case \"MultiPolygon\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      if (geometryIndex < 0)\n        geometryIndex = coords[multiFeatureIndex].length + geometryIndex;\n      if (segmentIndex < 0)\n        segmentIndex =\n          coords[multiFeatureIndex][geometryIndex].length - segmentIndex - 1;\n      return helpers.lineString(\n        [\n          coords[multiFeatureIndex][geometryIndex][segmentIndex],\n          coords[multiFeatureIndex][geometryIndex][segmentIndex + 1],\n        ],\n        properties,\n        options\n      );\n  }\n  throw new Error(\"geojson is invalid\");\n}\n\n/**\n * Finds a particular Point from a GeoJSON using `@turf/meta` indexes.\n *\n * Negative indexes are permitted.\n *\n * @param {FeatureCollection|Feature|Geometry} geojson Any GeoJSON Feature or Geometry\n * @param {Object} [options={}] Optional parameters\n * @param {number} [options.featureIndex=0] Feature Index\n * @param {number} [options.multiFeatureIndex=0] Multi-Feature Index\n * @param {number} [options.geometryIndex=0] Geometry Index\n * @param {number} [options.coordIndex=0] Coord Index\n * @param {Object} [options.properties={}] Translate Properties to output Point\n * @param {BBox} [options.bbox={}] Translate BBox to output Point\n * @param {number|string} [options.id={}] Translate Id to output Point\n * @returns {Feature<Point>} 2-vertex GeoJSON Feature Point\n * @example\n * var multiLine = turf.multiLineString([\n *     [[10, 10], [50, 30], [30, 40]],\n *     [[-10, -10], [-50, -30], [-30, -40]]\n * ]);\n *\n * // First Segment (defaults are 0)\n * turf.findPoint(multiLine);\n * // => Feature<Point<[10, 10]>>\n *\n * // First Segment of the 2nd Multi-Feature\n * turf.findPoint(multiLine, {multiFeatureIndex: 1});\n * // => Feature<Point<[-10, -10]>>\n *\n * // Last Segment of last Multi-Feature\n * turf.findPoint(multiLine, {multiFeatureIndex: -1, coordIndex: -1});\n * // => Feature<Point<[-30, -40]>>\n */\nfunction findPoint(geojson, options) {\n  // Optional Parameters\n  options = options || {};\n  if (!helpers.isObject(options)) throw new Error(\"options is invalid\");\n  var featureIndex = options.featureIndex || 0;\n  var multiFeatureIndex = options.multiFeatureIndex || 0;\n  var geometryIndex = options.geometryIndex || 0;\n  var coordIndex = options.coordIndex || 0;\n\n  // Find FeatureIndex\n  var properties = options.properties;\n  var geometry;\n\n  switch (geojson.type) {\n    case \"FeatureCollection\":\n      if (featureIndex < 0)\n        featureIndex = geojson.features.length + featureIndex;\n      properties = properties || geojson.features[featureIndex].properties;\n      geometry = geojson.features[featureIndex].geometry;\n      break;\n    case \"Feature\":\n      properties = properties || geojson.properties;\n      geometry = geojson.geometry;\n      break;\n    case \"Point\":\n    case \"MultiPoint\":\n      return null;\n    case \"LineString\":\n    case \"Polygon\":\n    case \"MultiLineString\":\n    case \"MultiPolygon\":\n      geometry = geojson;\n      break;\n    default:\n      throw new Error(\"geojson is invalid\");\n  }\n\n  // Find Coord Index\n  if (geometry === null) return null;\n  var coords = geometry.coordinates;\n  switch (geometry.type) {\n    case \"Point\":\n      return helpers.point(coords, properties, options);\n    case \"MultiPoint\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      return helpers.point(coords[multiFeatureIndex], properties, options);\n    case \"LineString\":\n      if (coordIndex < 0) coordIndex = coords.length + coordIndex;\n      return helpers.point(coords[coordIndex], properties, options);\n    case \"Polygon\":\n      if (geometryIndex < 0) geometryIndex = coords.length + geometryIndex;\n      if (coordIndex < 0)\n        coordIndex = coords[geometryIndex].length + coordIndex;\n      return helpers.point(coords[geometryIndex][coordIndex], properties, options);\n    case \"MultiLineString\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      if (coordIndex < 0)\n        coordIndex = coords[multiFeatureIndex].length + coordIndex;\n      return helpers.point(coords[multiFeatureIndex][coordIndex], properties, options);\n    case \"MultiPolygon\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      if (geometryIndex < 0)\n        geometryIndex = coords[multiFeatureIndex].length + geometryIndex;\n      if (coordIndex < 0)\n        coordIndex =\n          coords[multiFeatureIndex][geometryIndex].length - coordIndex;\n      return helpers.point(\n        coords[multiFeatureIndex][geometryIndex][coordIndex],\n        properties,\n        options\n      );\n  }\n  throw new Error(\"geojson is invalid\");\n}\n\nexports.coordAll = coordAll;\nexports.coordEach = coordEach;\nexports.coordReduce = coordReduce;\nexports.featureEach = featureEach;\nexports.featureReduce = featureReduce;\nexports.findPoint = findPoint;\nexports.findSegment = findSegment;\nexports.flattenEach = flattenEach;\nexports.flattenReduce = flattenReduce;\nexports.geomEach = geomEach;\nexports.geomReduce = geomReduce;\nexports.lineEach = lineEach;\nexports.lineReduce = lineReduce;\nexports.propEach = propEach;\nexports.propReduce = propReduce;\nexports.segmentEach = segmentEach;\nexports.segmentReduce = segmentReduce;\n"],"names":["Object","defineProperty","exports","value","helpers_1","randomPosition","bbox","Array","isArray","coordInBBox","lon","lat","randomPoint","count","options","undefined","features","i","push","point","featureCollection","randomPolygon","isNumber","num_vertices","max_radial_length","_loop_1","vertices","circleOffsets","apply","map","Math","random","forEach","cur","index","arr","PI","length","radialScaler","sin","cos","vertexToCoordinate","polygon","randomLineString","isObject","Error","max_length","max_rotation","startingPoint","j","priorAngle","tan","angle","distance","lineString","hub","rnd","feature","geom","properties","feat","type","id","geometry","coordinates","_options","multiPoint","multiLineString","multiPolygon","points","coords","_i","coordinates_1","ring","polygons","lineStrings","fc","geometryCollection","geometries","round","num","precision","multiplier","pow","radiansToLength","radians","units","factor","factors","lengthToRadians","lengthToDegrees","radiansToDegrees","bearingToAzimuth","bearing","degrees","degreesToRadians","convertLength","originalUnit","finalUnit","convertArea","area","startFactor","areaFactors","finalFactor","isNaN","input","constructor","validateBBox","validateId","indexOf","earthRadius","centimeters","centimetres","feet","inches","kilometers","kilometres","meters","metres","miles","millimeters","millimetres","nauticalmiles","yards","unitsFactors","acres","hectares","attrs","ref","_vm","leaderboardShown","_c","scopedSlots","fn","resetLocation","roomName","randomLatLng","difficultyData","mode","scoreMode","areaParams","showResult","goToNextRound","overlay","dialogMessage","breakpoint","leaderboard","model","callback","expression","staticClass","isVisibleCountdownAlert","countdownPercentage","staticRenderFns","remainingTime","_s","_v","nbRound","Intl","_e","key","toggleLeaderboard","props","data","startedAt","timerText","intervalFunction","watch","startTimer","computed","mapState","streamerMode","state","homeStore","countdownText","getCountdownText","isDistanceVisible","GAME_MODE","methods","Date","setInterval","now","stopTimer","clearInterval","$emit","component","class","$viewport","mouseleave","activeMap","guessString","$event","setSeletedPos","directives","rawName","isNotepadVisible","selectedPos","isGuessButtonClicked","isReady","selectLocation","style","on","summaryTexts","playerName","game","multiplayer","domProps","text","showDistance","dialogSummary","newVal","updateRecord","history","localStorage","getItem","JSON","parse","score","rank","findIndex","mapDetails","setItem","stringify","finishGame","_self","title","description","name","validURL","url","render","this","lng","fullscreenControl","mapTypeControl","streetViewControl","draggableCursor","clickableIcons","styles","$vuetify","theme","dark","themes","gmap","light","MapMixin","centerOnBbox","fitBounds","east","north","south","max","west","setZoom","setCenter","drawPolyline","removePolylines","mixins","marker","markers","polylines","strokeColors","STROKE_COLORS","$gmapApiPromiseLazy","$refs","mapRef","$mapPromise","then","putMarker","position","isRandomLocation","label","info","icon","window","location","origin","anchor","google","maps","Point","Marker","removeMarkers","element","setMap","setInfoWindow","endGame","dataToDisplay","$t","NumberFormat","$i18n","locale","unit","format","infoWindow","InfoWindow","headerContent","headerDisabled","content","open","selectedLatLng","lineSymbol","path","strokeOpacity","scale","polyline","Polyline","strokeColor","icons","offset","repeat","startNextRound","addListener","e","latLng","removeListener","event","clearListeners","bounds","LatLngBounds","getVisible","extend","getPosition","polygonSelect","areaName","showFlag","areaRandom","areaNameSelect","beige","green","large","infoWindowDatas","_l","flag","components","FlagIcon","String","areasGeoJsonUrl","pathKey","default","Boolean","areas","allowSelect","randomPos","mapGetters","$countryNameLocale","getFeatureById","getProperty","loadAreas","areasJson","c","p","Data","fillOpacity","strokeWeight","addGeoJson","setStyle","is","fillColor","mapActions","pos","_distance","_points","_endGame","getScore","difficulty","time","SCORE_MODE","getScoreNormal","exp","scoreHeader","guessed","LeaderboardContent","Leaderboard","DialogSummary","DetailsMap","Map","MapAreas","room","isMakeGuessButtonClicked","isSelected","isNextStreetViewReady","isNextButtonVisible","isSummaryButtonVisible","size","pinActive","printMapFull","countdownStarted","date","rounds","startTime","isNextButtonEnabled","playerNumber","timeLimitation","timeAttack","firebase","snapshot","hasChild","child","val","onDisconnect","remove","update","countdown","numChildren","guess","players","childSnapshot","posGuess","LatLng","roundValues","exportVal","toUpperCase","toJSON","finalScore","finalPoints","sort","a","b","parseInt","$parent","initTimer","showMap","hideMap","showNotepad","setTimeout","refNotepad","focus","calculateDistance","set","getSelectedPos","selectRandomLocation","timePassed","includes","floor","spherical","computeDistanceBetween","isPlayAgain","width","StreetViewService","settingsPanorama","settingsGame","placeGeoJson","roundsPredefined","service","alreadyVisited","async","cptNotFoundLocation","radius","randomFeatureProperties","positions","getRandomLatLng","toString","Promise","resolve","getPanorama","preference","sources","allPanorama","StreetViewSource","DEFAULT","OUTDOOR","GOOGLE","status","StreetViewStatus","OK","_checkStreetView","_getResponseStreetViewService","getStreetView","isInGeoJSONResult","isVisibleDialog","isInGeoJSON","turfModel","areaCode","_getAreaCode","err","panorama","roundInfo","warning","randInt","getMaxDistanceBbox","randomPositionInPolygon","acos","optimiseStreetView","imageDate","links","g","AREA_MODE","getAreaCodeNameFromLatLng","find","booleanPointInPolygon","canExit","beforeUnload","returnValue","created","addEventListener","beforeRouteLeave","_to","_from","next","answer","confirm","beforeDestroy","removeEventListener","HeaderGame","Maps","DialogMessage","ConfirmExitMixin","Number","bboxObj","modeSelected","panControl","zoomControl","moveControl","timeAttackSelected","required","nbRoundSelected","guessedLeaderboard","scoreLeaderboard","pointsHeader","endTime","hasTimerStarted","hasLocationSelected","dialogTitle","dialogText","timeCountdown","streetViewService","mobile","urlArea","StreetViewPanorama","streetView","exitGame","loadStreetView","entries","player","entity","randomLat","randomLng","mapContainer","off","header","document","querySelector","onUserEventPanoramaKey","onUserEventPanoramaMouse","setPosition","latitude","longitude","setOptions","addressControl","motionTracking","motionTrackingControl","showRoadLabels","scrollwheel","disableDoubleClickZoom","linksControl","clickToGo","setPano","pano","setPov","heading","pitch","printAlert","endDate","setSeconds","getSeconds","timerInProgress","getRandomArea","updateScore","playAgain","$router","keyCode","stopPropagation","module","meta_1","geojson","result","Infinity","coordEach","coord","invariant_1","pt","getCoord","getGeom","polys","inBBox","insidePoly","inRing","ignoreBoundary","inHole","k","isInside","slice","xi","yi","xj","yj","onBoundary","intersect","getCoords","containsNumber","geojsonType","featureOf","collectionOf","_a","getType","_name","helpers","excludeWrapCoord","l","stopG","geometryMaybeCollection","isGeometryCollection","wrapShrink","coordIndex","isFeatureCollection","isFeature","stop","featureIndex","geomIndex","multiFeatureIndex","geometryIndex","geomType","coordReduce","initialValue","previousValue","currentCoord","propEach","propReduce","currentProperties","featureEach","featureReduce","currentFeature","coordAll","geomEach","featureProperties","featureBBox","featureId","geomReduce","currentGeometry","flattenEach","coordinate","flattenReduce","segmentEach","segmentIndex","previousCoords","previousFeatureIndex","previousMultiIndex","prevGeomIndex","featureIndexCoord","multiPartIndexCoord","currentSegment","segmentReduce","started","lineEach","lineReduce","currentLine","findSegment","findPoint"],"sourceRoot":""}